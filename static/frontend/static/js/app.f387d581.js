(function(){"use strict";var e={1233:function(e,t,a){a(4979);var i=a(4373);const s=({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"https://wellness-app-tx2c.onrender.com/api").replace(/\/+$/,"")+"/",r="user";class o{getStorage(e=!1){return e?localStorage:sessionStorage}getCurrentUser(){const e=localStorage.getItem(r)||sessionStorage.getItem(r);if(!e)return null;try{return JSON.parse(e)}catch(t){return null}}restoreSession(){const e=this.getCurrentUser();return e?this.validateToken()?e:(this.clearUser(),null):null}storeUser(e,t=!1){const a=this.getStorage(t);a.setItem(r,JSON.stringify(e))}clearUser(){localStorage.removeItem(r),sessionStorage.removeItem(r)}validateToken(){const e=localStorage.getItem(r)||sessionStorage.getItem(r);if(!e)return!1;try{const t=JSON.parse(e);if(!t.access)return!1;const a=t.access.split(".");if(3!==a.length)return!1;const i=JSON.parse(atob(a[1])),s=Math.floor(Date.now()/1e3);return!(i.exp&&i.exp<s)}catch(t){return!1}}async login(e,t,a=!1){try{const r=await i.A.post(s+"token/",{username:e,password:t}),o=r.data;return o.two_factor_enabled||this.storeUser(o,a),o}catch(r){throw console.error("Login error:",r),r}}async verifyTwoFactorLogin(e,t){try{if(!e||!t||!t.access)return Promise.reject(new Error("Missing required 2FA verification data"));const a=await i.A.post(s+"token/2fa-verify/",{token:t.access,code:e});if(a.data&&a.data.access){const e={...t,...a.data,two_factor_verified:!0};return this.storeUser(e,!0),e}return console.error("Incomplete 2FA response:",a.data),Promise.reject(new Error("Invalid 2FA verification response"))}catch(a){return console.error("2FA verification error:",a),Promise.reject(a)}}logout(){this.clearUser()}register(e,t,a,r){return i.A.post(s+"register/",{username:e,email:t,password:a,password2:r})}async refreshToken(){const e=this.getCurrentUser();if(!e||!e.refresh)return Promise.reject("No refresh token available");try{const t=await i.A.post(s+"token/refresh/",{refresh:e.refresh});if(t.data.access){const a={...e,access:t.data.access};return localStorage.getItem(r)?localStorage.setItem(r,JSON.stringify(a)):sessionStorage.getItem(r)&&sessionStorage.setItem(r,JSON.stringify(a)),t.data}return Promise.reject("Failed to refresh token")}catch(t){throw console.error("Token refresh error:",t),t}}}t.A=new o},2022:function(e,t,a){var i=a(4373),s=a(1233);const r=({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"https://wellness-app-tx2c.onrender.com/api").replace(/\/+$/,"")+"/";class o{async initiateOAuth(e){try{localStorage.removeItem("oauth_state"),sessionStorage.setItem("auth_in_progress","true"),sessionStorage.setItem("oauth_provider",e);const t=await i.A.get(`${r}oauth/${e}/`,{withCredentials:!0}),{authorization_url:a,state:s}=t.data||{};if(a)return s&&localStorage.setItem("oauth_state",s),window.location.href=a,!0;throw console.error("Invalid OAuth response:",t.data),new Error(`Failed to start ${e} authentication`)}catch(t){throw console.error(`OAuth login error for ${e}:`,t),sessionStorage.removeItem("auth_in_progress"),sessionStorage.removeItem("oauth_provider"),t}}async loginWithGoogle(){return this.initiateOAuth("google")}async loginWithGitHub(){return this.initiateOAuth("github")}async processCallback(e){try{const t=sessionStorage.getItem("oauth_provider")||"google",a=e.get("code");if(!a)throw new Error("Missing authorization code in callback");const o=e.get("state"),n=localStorage.getItem("oauth_state");if(n!==o)throw new Error("OAuth state mismatch – possible CSRF attack");const l=await i.A.post(`${r}oauth/${t}/`,{code:a,state:o},{withCredentials:!0}),{access:c,refresh:d,user:u}=l.data||{};if(!c)throw console.error("Invalid backend response:",l.data),new Error("Invalid authentication response from server");return s.A.storeUser({access:c,refresh:d,user:u},!0),localStorage.removeItem("oauth_state"),sessionStorage.removeItem("auth_in_progress"),sessionStorage.removeItem("oauth_provider"),l.data}catch(t){throw console.error("OAuth callback processing error:",t),localStorage.removeItem("oauth_state"),sessionStorage.removeItem("auth_in_progress"),sessionStorage.removeItem("oauth_provider"),new Error(t.response?.data?.detail||t.message||"Authentication failed")}}}t.A=new o},4188:function(e,t,a){var i=a(4687);class s{getHealthProfile(){return i.A.get("health-profiles/my_profile/")}getProfile(){return this.getHealthProfile()}updateHealthProfile(e){return i.A.put("health-profiles/my_profile/",e)}createHealthProfile(e){return i.A.post("health-profiles/",e)}addWeightEntry(e){return i.A.post("weight-history/",{weight_kg:e})}getWeightHistory(){return i.A.get("weight-history/")}getWeightHistoryByDateRange(e){return i.A.get("weight-history/",{params:{start_date:e.start,end_date:e.end}})}getWeeklyWeightSummary(){return i.A.get("weight-history/weekly_summary/")}getMonthlyWeightSummary(){return i.A.get("weight-history/monthly_summary/")}deleteWeightEntry(e){return i.A.delete(`weight-history/${e}/`)}getNutritionLog(e){return i.A.get(`meal-planning/api/nutrition-logs/${e}/`).catch(t=>{if(console.error(`Error fetching nutrition log for ${e}:`,t),404===t.response?.status)return{data:{date:e,total_calories:0,total_protein:0,total_carbs:0,total_fat:0,total_fiber:0,calorie_deficit_surplus:0,macro_balance_score:0,meals_data:{},ai_analysis:{}}};throw t})}getNutritionLogs(e,t){return i.A.get("meal-planning/api/nutrition-logs/",{params:{start_date:e,end_date:t}}).catch(a=>{if(console.error(`Error fetching nutrition logs from ${e} to ${t}:`,a),404===a.response?.status)return{data:[]};throw a})}saveNutritionLog(e,t){return i.A.post(`meal-planning/api/nutrition-logs/${e}/`,t).catch(t=>{throw console.error(`Error saving nutrition log for ${e}:`,t),t})}updateNutritionLog(e,t){return i.A.put(`meal-planning/api/nutrition-logs/${e}/`,t).catch(t=>{throw console.error(`Error updating nutrition log for ${e}:`,t),t})}deleteNutritionLog(e){return i.A.delete(`meal-planning/api/nutrition-logs/${e}/`).catch(t=>{if(console.error(`Error deleting nutrition log for ${e}:`,t),404===t.response?.status)return{data:{message:"Nutrition log deleted successfully"}};throw t})}getNutritionProgressSummary(e,t){return i.A.get("meal-planning/api/nutrition-logs/progress_summary/",{params:{start_date:e,end_date:t}}).catch(e=>{if(console.error("Error fetching nutrition progress summary:",e),404===e.response?.status)return{data:{averages:{calories:0,protein:0,carbs:0,fat:0},achievement_rates:{calories:0,protein:0,carbs:0,fat:0},trends:{calories:"stable",protein:"stable",carbs:"stable",fat:"stable"}}};throw e})}getWeeklyNutritionAverages(e){return i.A.get("meal-planning/api/nutrition-logs/weekly_averages/",{params:{week_start:e}}).catch(t=>{if(console.error("Error fetching weekly nutrition averages:",t),404===t.response?.status)return{data:{week_start:e,averages:{calories:0,protein:0,carbs:0,fat:0,total_deficit:0},days_logged:0}};throw t})}getNutritionGoalStats(e,t){return i.A.get("meal-planning/api/nutrition-logs/goal_stats/",{params:{start_date:e,end_date:t}}).catch(e=>{if(console.error("Error fetching nutrition goal stats:",e),404===e.response?.status)return{data:{achievement_rates:{calories:0,protein:0,carbs:0,fat:0},days_on_target:0,total_days:0}};throw e})}getNutritionTrends(e,t,a="calories"){return i.A.get("meal-planning/api/nutrition-logs/trends/",{params:{start_date:e,end_date:t,metric:a}})}getActivityHistory(){return i.A.get("health-profiles/activities/")}addActivity(e){return i.A.post("health-profiles/activities/",e)}getActivitiesByDateRange(e,t){return i.A.get("health-profiles/activities/",{params:{start_date:e,end_date:t}})}}t.A=new s},4687:function(e,t,a){var i=a(4373),s=a(1233),r=a(5809);const o=({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"https://wellness-app-tx2c.onrender.com/api").replace(/\/+$/,"")+"/",n=i.A.create({baseURL:o,headers:{"Content-Type":"application/json"},timeout:3e4,withCredentials:!0});async function l(e){console.log("Service appears to be hibernating. Attempting to wake up..."),r.A?.commit&&r.A.commit("ui/setLoading",{isLoading:!0,message:"Service is starting up... This may take up to 60 seconds on the first request."});const t=4,a=[5e3,1e4,15e3,2e4];for(let c=0;c<t;c++)try{return console.log(`Wake-up attempt ${c+1}/${t}...`),r.A?.commit&&r.A.commit("ui/setLoading",{isLoading:!0,message:`Waking up service... Attempt ${c+1}/${t}`}),await new Promise(e=>setTimeout(e,a[c])),await i.A.get(o.replace("/api/","/"),{timeout:3e4,headers:{"Cache-Control":"no-cache",Pragma:"no-cache"}}),await new Promise(e=>setTimeout(e,3e3)),console.log("Service wake-up successful, retrying original request..."),n(e)}catch(s){if(console.log(`Wake-up attempt ${c+1} failed:`,s.message),c===t-1){console.log("All wake-up attempts failed, trying original request...");break}}try{return await n(e)}catch(l){throw r.A?.commit&&r.A.commit("ui/setError",{message:"Service is currently unavailable. Please try again in a few minutes.",details:"The backend service may be starting up or experiencing issues."}),l}finally{r.A?.commit&&r.A.commit("ui/setLoading",{isLoading:!1})}}function c(){if(r.A?.state?.auth?.user?.access)return r.A.state.auth.user.access;const e=s.A.getCurrentUser();return e?.access||null}n.interceptors.request.use(e=>{const t=c();return t&&(e.headers["Authorization"]="Bearer "+t),e},e=>(console.error("API request error:",e),Promise.reject(e))),n.interceptors.response.use(e=>e,async e=>{const t=e.config;if(503===e.response?.status&&!t._hibernation_retry)return t._hibernation_retry=!0,l(t);if(502===e.response?.status&&!t._gateway_retry)return t._gateway_retry=!0,console.log("Service gateway error, retrying in 5 seconds..."),await new Promise(e=>setTimeout(e,5e3)),n(t);if(401===e.response?.status&&!t._retry){t._retry=!0;try{const e=await s.A.refreshToken();if(e?.access)return t.headers["Authorization"]="Bearer "+e.access,r.A?.state?.auth?.status?.loggedIn&&await r.A.dispatch("auth/refreshToken",e.access),n(t)}catch(a){return s.A.logout(),r.A?.state?.auth?.status?.loggedIn&&r.A.commit("auth/logout"),setTimeout(()=>{window.location.href="/login"},100),Promise.reject(a)}}if(e.response){const t={status:e.response.status,statusText:e.response.statusText,url:e.config?.url,method:e.config?.method,data:e.response.data,headers:e.response.headers};503===e.response.status?console.error("Service hibernation detected:",t):502===e.response.status?console.error("Service gateway error:",t):console.error("API Error:",t)}else"ECONNABORTED"===e.code?console.error("API Request timeout:",e.message):console.error("API Network error:",e.message);return Promise.reject(e)}),t.A=n},5090:function(e,t,a){a.d(t,{mealPlanningApi:function(){return c}});a(4114),a(8111),a(7588),a(1701);var i=a(4373),s=a(1233),r=a(5809);const o=({NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_API_URL||"https://wellness-app-tx2c.onrender.com/api").replace(/\/+$/,"").replace("/api","")+"/meal-planning/api",n=i.A.create({baseURL:o,timeout:1e4,headers:{"Content-Type":"application/json"}});function l(){if(r.A?.state?.auth?.user?.access)return r.A.state.auth.user.access;const e=s.A.getCurrentUser();return e?.access||null}n.interceptors.request.use(e=>{const t=l();return t&&(e.headers["Authorization"]="Bearer "+t),e},e=>(console.error("Meal Planning API request error:",e),Promise.reject(e))),n.interceptors.response.use(e=>e,async e=>{const t=e.config;if(401===e.response?.status&&!t._retry){t._retry=!0;try{const e=await s.A.refreshToken();if(e?.access)return t.headers["Authorization"]="Bearer "+e.access,r.A?.state?.auth?.status?.loggedIn&&await r.A.dispatch("auth/refreshToken",e.access),(0,i.A)(t)}catch(a){return s.A.logout(),r.A?.state?.auth?.status?.loggedIn&&r.A.commit("auth/logout"),setTimeout(()=>{window.location.href="/login"},100),Promise.reject(a)}}return e.response?console.error(`Meal Planning API Error: ${e.response.status} ${e.response.statusText}`,e.response.data):console.error("Meal Planning API Error:",e.message),Promise.reject(e)});const c={api:n,getRecipes(e={}){const t={};return e.page&&(t.page=e.page),e.page_size&&(t.page_size=e.page_size),e.search&&e.search.trim()&&(t.search=e.search.trim()),e.cuisine&&e.cuisine.trim()&&(t.cuisine=e.cuisine.trim()),e.meal_type&&e.meal_type.trim()&&(t.meal_type=e.meal_type.trim()),e.dietary_preferences&&e.dietary_preferences.trim()&&(t.dietary_preferences=e.dietary_preferences.trim()),e.max_calories&&e.max_calories.trim()&&(t.max_calories=parseInt(e.max_calories.trim())),n.get("/recipes/",{params:t})},getRecipe(e){return n.get(`/recipes/${e}/`)},searchRecipes(e){return n.post("/recipes/search/",e)},rateRecipe(e,t,a=""){return n.post(`/recipes/${e}/rate/`,{rating:t,review:a})},saveRecipeToMyCollection(e){return n.post(`/recipes/${e}/save_to_my_recipes/`)},saveRecipeFromMealPlan(e){return n.post("/recipes/save_from_meal_plan/",e)},removeRecipeFromMyCollection(e){return n.delete(`/recipes/${e}/`)},adjustRecipePortions(e,t){return n.post(`/recipes/${e}/adjust_portions/`,{servings:t})},getMyRecipes(e={}){const t={...e,my_recipes:"true"};return t.page||(t.page=1),t.page_size||(t.page_size=100),t.search&&t.search.trim()&&(t.search=t.search.trim()),t.cuisine&&t.cuisine.trim()&&(t.cuisine=t.cuisine.trim()),t.meal_type&&t.meal_type.trim()&&(t.meal_type=t.meal_type.trim()),n.get("/recipes/",{params:t})},async generateRecipe(e){try{return await n.post("/recipes/generate/",e)}catch(t){if(404===t.response?.status)return console.warn("Recipe generation endpoint not implemented yet"),Promise.reject(new Error("Recipe generation feature coming soon"));throw t}},async getIngredientSubstitutions(e,t,a={}){try{return await n.post(`/recipes/${e}/substitute-ingredient/`,{ingredient_name:t,...a})}catch(i){if(404===i.response?.status)return console.warn("Ingredient substitution endpoint not implemented yet"),Promise.reject(new Error("Ingredient substitution feature coming soon"));throw i}},async scaleRecipe(e,t){try{return await n.post(`/recipes/${e}/scale/`,{servings:t})}catch(a){if(404===a.response?.status)return console.warn("Recipe scaling endpoint not implemented yet"),Promise.reject(new Error("Recipe scaling feature coming soon"));throw a}},getIngredients(e={}){return n.get("/ingredients/",{params:e})},getIngredient(e){return n.get(`/ingredients/${e}/`)},async getNutritionProfile(){try{return await n.get("/nutrition-profile/my_profile/")}catch(e){if(404===e.response?.status)return{data:{calorie_target:2e3,protein_target:100,carb_target:250,fat_target:67,dietary_preferences:[],allergies_intolerances:[],cuisine_preferences:[]}};throw e}},async updateNutritionProfile(e){try{return await n.patch("/nutrition-profile/my_profile/",e)}catch(t){if(405===t.response?.status)try{return await n.put("/nutrition-profile/my_profile/",e)}catch(a){if(405===a.response?.status)return await n.post("/nutrition-profile/update_profile/",e);throw a}throw t}},calculateNutritionTargets(){return n.post("/nutrition-profile/calculate_targets/")},async generateNutritionProfile(e){try{return await n.post("/nutrition-profile/ai_generate/",e)}catch(t){throw console.error("Error generating AI nutrition profile:",t),t}},getMealPlans(e={}){const t={page:e.page||1,page_size:e.page_size||20,ordering:e.ordering||"-created_at"};return e.plan_type&&(t.plan_type=e.plan_type),void 0!==e.is_active&&(t.is_active=e.is_active),e.start_date&&(t.start_date=e.start_date),e.end_date&&(t.end_date=e.end_date),n.get("/meal-plans/",{params:t})},getMealPlan(e){return n.get(`/meal-plans/${e}/`)},generateMealPlan(e){return n.post("/meal-plans/generate/",e)},deleteMealPlan(e){return n.delete(`/meal-plans/${e}/`)},async regenerateMeal(e,t,a){try{return console.log("Regenerating meal:",{planId:e,day:t,mealType:a}),await n.post(`/meal-plans/${e}/regenerate_meal/`,{day:t,meal_type:a})}catch(i){if(404===i.response?.status)return console.warn("Meal regeneration endpoint not implemented yet"),Promise.reject(new Error("Meal regeneration feature coming soon"));throw i}},async getMealAlternatives(e,t,a,i=3,s=!0){try{return console.log("Getting meal alternatives:",{planId:e,day:t,mealType:a,count:i,includeUserRecipes:s}),await n.post(`/meal-plans/${e}/get_alternatives/`,{day:t,meal_type:a,count:i,include_user_recipes:s})}catch(r){if(404===r.response?.status)return console.warn("Meal alternatives endpoint not implemented yet"),{data:[]};throw r}},async swapMeal(e,t,a,i){try{return await n.post(`/meal-plans/${e}/swap_meal/`,{day:t,meal_type:a,new_recipe:i})}catch(s){if(404===s.response?.status)return console.warn("Meal swap endpoint not implemented yet"),Promise.reject(new Error("Meal swap feature coming soon"));throw s}},async analyzeMealPlan(e){try{return console.log("Analyzing meal plan:",e),await n.get(`/meal-plans/${e}/analyze/`)}catch(t){if(404===t.response?.status)return console.warn("Meal plan analysis endpoint not implemented yet"),{data:{overall_score:85,nutritional_adequacy:{calories:{status:"adequate",percentage_of_target:98},protein:{status:"adequate",percentage_of_target:105},carbs:{status:"adequate",percentage_of_target:92},fat:{status:"adequate",percentage_of_target:103}},meal_distribution:{breakfast_percentage:25,lunch_percentage:35,dinner_percentage:40,balance_rating:"excellent"},variety_analysis:{cuisine_diversity:"good",ingredient_variety:"excellent",cooking_method_diversity:"good"},recommendations:["Excellent meal plan with well-balanced nutrition","Great variety of cuisines and cooking methods","Protein distribution is optimal throughout the day"],health_highlights:["Well-balanced macronutrients","Good variety of nutrient-dense foods","Appropriate calorie distribution across meals"],areas_for_improvement:["Consider adding more omega-3 rich foods","Could include more antioxidant-rich vegetables"]}};throw t}},generateShoppingList(e,t={}){return n.post(`/meal-plans/${e}/generate_shopping_list/`,{exclude_items:t.exclude_ingredients||[],group_by_category:!1!==t.group_by_category,...t})},getNutritionLogs(e={}){return n.get("/nutrition-logs/",{params:e})},getNutritionLog(e){return n.get(`/nutrition-logs/${e}/`)},logNutrition(e){return n.post("/nutrition-logs/",e)},analyzeNutrition(e){return n.post("/nutrition-logs/analyze/",e)},getNutritionAnalytics(e={}){return n.get("/nutrition-logs/analytics/",{params:e})},getDashboardData(e={}){const t={days:e.days||7,...e};return n.get("/nutrition-logs/dashboard_data/",{params:t})},async getNutritionInsights(e={}){try{return await n.get("/ai-insights/",{params:e})}catch(t){if(404===t.response?.status)return console.warn("AI insights endpoint not implemented yet"),{data:[]};throw t}},async getMealRecommendations(e={}){try{return await n.get("/recommendations/",{params:e})}catch(t){if(404===t.response?.status)return console.warn("Meal recommendations endpoint not implemented yet"),{data:[]};throw t}},async calculateNutrition(e,t){try{return await n.post("/calculate-nutrition/",{ingredients:e,servings:t})}catch(a){if(404===a.response?.status)return console.warn("Nutrition calculation endpoint not implemented yet"),{data:{calories:400,protein:25,carbs:45,fat:15}};throw a}},async validateDietaryRestrictions(e,t,a){try{return await n.post("/validate-dietary/",{ingredients:e,dietary_preferences:t,allergies:a})}catch(i){if(404===i.response?.status)return console.warn("Dietary validation endpoint not implemented yet"),{data:{is_compliant:!0,violations:[],warnings:[]}};throw i}},async getDietaryPreferences(){try{return await n.get("/dietary-preferences/")}catch(e){if(404===e.response?.status)return{data:["vegetarian","vegan","pescatarian","keto","paleo","mediterranean","dash","low_carb","low_fat","high_protein","intermittent_fasting","whole30","raw_food","gluten_free","dairy_free","flexitarian"]};throw e}},async getAllergens(){try{return await n.get("/allergens/")}catch(e){if(404===e.response?.status)return{data:["nuts","peanuts","dairy","gluten","eggs","fish","shellfish","soy","sesame","sulfites","nightshades","histamine"]};throw e}},async getCuisines(){try{return await n.get("/cuisines/")}catch(e){if(404===e.response?.status)return{data:["italian","mexican","asian","indian","mediterranean","american","french","thai","japanese","chinese","greek","middle_eastern"]};throw e}},async connectSpoonacular(){try{return await n.post("/nutrition-profile/connect_spoonacular/")}catch(e){throw console.error("Failed to connect to Spoonacular:",e),e}},async getSpoonacularStatus(){try{return await n.get("/nutrition-profile/spoonacular_status/")}catch(e){throw console.error("Failed to get Spoonacular status:",e),e}},async getSpoonacularMealPlan(e=null){try{const t=e?{start_date:e}:{};return await n.get("/nutrition-profile/spoonacular_meal_plan/",{params:t})}catch(t){throw console.error("Failed to get Spoonacular meal plan:",t),t}},async addToSpoonacularMealPlan(e){try{return await n.post("/nutrition-profile/add_to_spoonacular_meal_plan/",e)}catch(t){throw console.error("Failed to add to Spoonacular meal plan:",t),t}},async getSpoonacularShoppingList(){try{return await n.get("/nutrition-profile/spoonacular_shopping_list/")}catch(e){throw console.error("Failed to get Spoonacular shopping list:",e),e}},async generateSpoonacularShoppingList(e,t){try{return await n.post("/nutrition-profile/generate_spoonacular_shopping_list/",{start_date:e,end_date:t})}catch(a){throw console.error("Failed to generate Spoonacular shopping list:",a),a}}}},5560:function(e,t,a){a.d(t,{A:function(){return h}});var i=a(6768),s=a(4232);const r={class:"checkbox-wrapper"},o=["id","checked","disabled"],n=["for"];function l(e,t,a,l,c,d){return(0,i.uX)(),(0,i.CE)("div",r,[(0,i.Lk)("input",{id:a.id,type:"checkbox",checked:a.modelValue,disabled:a.disabled,class:"checkbox-input",onChange:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.checked))},null,40,o),(0,i.Lk)("label",{for:a.id,class:"checkbox-label"},[(0,i.RG)(e.$slots,"default",{},()=>[(0,i.eW)((0,s.v_)(a.label),1)],!0)],8,n)])}var c={name:"FormCheckbox",props:{modelValue:{type:Boolean,default:!1},id:{type:String,required:!0},label:{type:String,default:""},disabled:{type:Boolean,default:!1}},emits:["update:modelValue"]},d=a(1241);const u=(0,d.A)(c,[["render",l],["__scopeId","data-v-587829e5"]]);var h=u},5809:function(e,t,a){a.d(t,{A:function(){return l}});var i=a(782),s=a(1233),r=a(2022);const o=(()=>s.A.validateToken()?{status:{loggedIn:!0},user:s.A.getCurrentUser()}:{status:{loggedIn:!1},user:null})();var n={namespaced:!0,state:o,getters:{isLoggedIn:e=>e.status.loggedIn,currentUser:e=>e.user,isEmailVerified:e=>e.user?.email_verified||!1,hasTwoFactorEnabled:e=>e.user?.two_factor_enabled||!1},actions:{login({commit:e},{username:t,password:a,remember:i}){return s.A.login(t,a,i).then(t=>(t.two_factor_enabled||e("loginSuccess",t),t)).catch(t=>(e("loginFailure"),Promise.reject(t)))},verifyTwoFactor({commit:e},{code:t,tempAuthData:a}){return s.A.verifyTwoFactorLogin(t,a).then(t=>(e("loginSuccess",t),t)).catch(e=>Promise.reject(e))},loginWithGoogle(){return r.A.loginWithGoogle()},loginWithGitHub(){return r.A.loginWithGitHub()},logout({commit:e}){s.A.logout(),e("logout")},register({commit:e},{username:t,email:a,password:i,password2:r}){return s.A.register(t,a,i,r).then(t=>(e("registerSuccess"),t.data)).catch(t=>(e("registerFailure"),Promise.reject(t)))},refreshToken({commit:e},t){e("refreshToken",t)},checkAuth({commit:e,state:t}){if(!t.status.loggedIn){if(s.A.validateToken()){const t=s.A.getCurrentUser();if(t)return e("loginSuccess",t),Promise.resolve(t)}return Promise.reject(new Error("Not authenticated"))}return s.A.validateToken()?Promise.resolve(t.user):s.A.refreshToken().then(a=>{if(a?.access){const i={...t.user,access:a.access};return e("loginSuccess",i),i}return e("logout"),Promise.reject(new Error("Failed to refresh token"))}).catch(t=>(e("logout"),Promise.reject(t)))}},mutations:{loginSuccess(e,t){e.status.loggedIn=!0,e.user=t},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},refreshToken(e,t){e.user&&(e.user={...e.user,access:t})},updateUser(e,t){if(e.user)if(e.user={...e.user,...t},localStorage.getItem("user")){const e=JSON.parse(localStorage.getItem("user"));localStorage.setItem("user",JSON.stringify({...e,...t}))}else if(sessionStorage.getItem("user")){const e=JSON.parse(sessionStorage.getItem("user"));sessionStorage.setItem("user",JSON.stringify({...e,...t}))}}}},l=(0,i.y$)({state:{},getters:{},mutations:{},actions:{},modules:{auth:n}})},5994:function(e,t,a){a.d(t,{A:function(){return h}});var i=a(6768),s=a(4232);const r=["type","disabled"],o={key:0},n={key:1};function l(e,t,a,l,c,d){return(0,i.uX)(),(0,i.CE)("button",{class:(0,s.C4)(d.buttonClasses),type:a.type,disabled:a.disabled||a.loading,onClick:t[0]||(t[0]=t=>e.$emit("click",t))},[a.loading&&a.loadingText?((0,i.uX)(),(0,i.CE)("span",o,(0,s.v_)(a.loadingText),1)):((0,i.uX)(),(0,i.CE)("span",n,[(0,i.RG)(e.$slots,"default",{},void 0,!0)]))],10,r)}var c={name:"BaseButton",props:{variant:{type:String,default:"primary",validator:e=>["primary","secondary","text","danger"].includes(e)},type:{type:String,default:"button"},block:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingText:{type:String,default:""}},computed:{buttonClasses(){return{[`btn-${this.variant}`]:!0,"btn-block":this.block,"btn-loading":this.loading}}}},d=a(1241);const u=(0,d.A)(c,[["render",l],["__scopeId","data-v-ad971648"]]);var h=u},6988:function(e,t,a){a.d(t,{A:function(){return v}});var i=a(6768),s=a(4232);const r={class:"form-group"},o=["for"],n={class:"input-wrapper"},l=["id","type","value","placeholder","disabled","required","maxlength","pattern","inputmode"],c={key:1,class:"error-text"},d={key:2,class:"help-text"};function u(e,t,a,u,h,g){return(0,i.uX)(),(0,i.CE)("div",r,[a.label?((0,i.uX)(),(0,i.CE)("label",{key:0,for:a.id,class:"form-label"},(0,s.v_)(a.label),9,o)):(0,i.Q3)("",!0),(0,i.Lk)("div",n,[(0,i.Lk)("input",{id:a.id,type:a.type,value:a.modelValue,placeholder:a.placeholder,disabled:a.disabled,required:a.required,maxlength:a.maxlength,pattern:a.pattern,inputmode:a.inputmode,class:(0,s.C4)(["form-control",{error:a.error}]),onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value))},null,42,l)]),a.error?((0,i.uX)(),(0,i.CE)("small",c,(0,s.v_)(a.error),1)):a.helpText?((0,i.uX)(),(0,i.CE)("small",d,(0,s.v_)(a.helpText),1)):(0,i.Q3)("",!0)])}var h={name:"FormInput",props:{modelValue:{type:[String,Number],default:""},id:{type:String,required:!0},label:{type:String,default:""},type:{type:String,default:"text"},placeholder:{type:String,default:""},helpText:{type:String,default:""},error:{type:String,default:""},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},maxlength:{type:String,default:null},pattern:{type:String,default:null},inputmode:{type:String,default:null}},emits:["update:modelValue"]},g=a(1241);const p=(0,g.A)(h,[["render",u],["__scopeId","data-v-920abb0e"]]);var v=p},7667:function(e,t,a){a.d(t,{A:function(){return g}});var i=a(6768),s=a(4232);const r=["disabled"],o={key:0,class:"loading-spinner"},n={key:1,class:"social-icon"},l={class:"social-text"};function c(e,t,a,c,d,u){return(0,i.uX)(),(0,i.CE)("button",{class:(0,s.C4)(["social-login-button",`social-login-button-${a.provider}`]),disabled:a.disabled||a.loading,onClick:t[0]||(t[0]=t=>e.$emit("click"))},[a.loading?((0,i.uX)(),(0,i.CE)("div",o)):((0,i.uX)(),(0,i.CE)("div",n,[(0,i.RG)(e.$slots,"icon",{},void 0,!0)])),(0,i.Lk)("span",l,[(0,i.RG)(e.$slots,"default",{},void 0,!0)])],10,r)}var d={name:"SocialLoginButton",props:{provider:{type:String,required:!0,validator:e=>["google","github","facebook","apple"].includes(e)},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["click"]},u=a(1241);const h=(0,u.A)(d,[["render",c],["__scopeId","data-v-c3d89334"]]);var g=h},8852:function(e,t,a){a.d(t,{A:function(){return g}});var i=a(6768),s=a(4232);const r={key:0,class:"alert-icon"},o={key:0},n={key:1},l={class:"alert-content"};function c(e,t,a,c,d,u){return a.message?((0,i.uX)(),(0,i.CE)("div",{key:0,class:(0,s.C4)(u.alertClasses)},["success"===a.type||"error"===a.type?((0,i.uX)(),(0,i.CE)("div",r,["success"===a.type?((0,i.uX)(),(0,i.CE)("span",o,"✓")):((0,i.uX)(),(0,i.CE)("span",n,"!"))])):(0,i.Q3)("",!0),(0,i.Lk)("div",l,(0,s.v_)(a.message),1),a.dismissible?((0,i.uX)(),(0,i.CE)("button",{key:1,class:"alert-close",onClick:t[0]||(t[0]=t=>e.$emit("dismiss")),"aria-label":"Close"}," × ")):(0,i.Q3)("",!0)],2)):(0,i.Q3)("",!0)}var d={name:"Alert",props:{message:{type:String,default:""},type:{type:String,default:"info",validator:e=>["success","error","warning","info"].includes(e)},dismissible:{type:Boolean,default:!1}},emits:["dismiss"],computed:{alertClasses(){return["alert",`alert-${this.type}`,{"alert-dismissible":this.dismissible}]}}},u=a(1241);const h=(0,u.A)(d,[["render",c],["__scopeId","data-v-1e123d6c"]]);var g=h},9017:function(e,t,a){var i=a(5130),s=a(6768);const r={id:"app"},o={class:"main-content"};function n(e,t,a,i,n,l){const c=(0,s.g2)("AppHeader"),d=(0,s.g2)("router-view");return(0,s.uX)(),(0,s.CE)("div",r,[(0,s.bF)(c),(0,s.Lk)("main",o,[(0,s.bF)(d)])])}a(4114);var l=a(4232);const c={class:"app-header"},d={class:"container"},u={class:"navbar"},h={class:"nav-menu"},g={class:"mobile-menu-container"},p={class:"mobile-menu-items"};function v(e,t,a,i,r,o){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("header",c,[(0,s.Lk)("div",d,[(0,s.Lk)("nav",u,[(0,s.bF)(n,{to:"/",class:"navbar-brand"},{default:(0,s.k6)(()=>t[4]||(t[4]=[(0,s.Lk)("div",{class:"logo"},[(0,s.Lk)("svg",{width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M16 2C8.268 2 2 8.268 2 16C2 23.732 8.268 30 16 30C23.732 30 30 23.732 30 16C30 8.268 23.732 2 16 2Z",fill:"#30C1B1"}),(0,s.Lk)("path",{d:"M16 6C13.791 6 12 7.791 12 10V16C12 18.209 13.791 20 16 20C18.209 20 20 18.209 20 16V10C20 7.791 18.209 6 16 6Z",fill:"white"}),(0,s.Lk)("path",{d:"M12 22C12 23.105 12.895 24 14 24H18C19.105 24 20 23.105 20 22C20 20.895 19.105 20 18 20H14C12.895 20 12 20.895 12 22Z",fill:"white"})])],-1),(0,s.Lk)("span",{class:"brand-name"},"Wellness",-1)])),_:1,__:[4]}),(0,s.Lk)("div",h,[i.isLoggedIn?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.bF)(n,{to:"/dashboard",class:"nav-link"},{default:(0,s.k6)(()=>t[5]||(t[5]=[(0,s.eW)("Dashboard")])),_:1,__:[5]}),(0,s.bF)(n,{to:"/progress",class:"nav-link"},{default:(0,s.k6)(()=>t[6]||(t[6]=[(0,s.eW)("Progress")])),_:1,__:[6]}),(0,s.bF)(n,{to:"/activities",class:"nav-link"},{default:(0,s.k6)(()=>t[7]||(t[7]=[(0,s.eW)("Activities")])),_:1,__:[7]}),(0,s.bF)(n,{to:"/meal-planning",class:"nav-link"},{default:(0,s.k6)(()=>t[8]||(t[8]=[(0,s.eW)("Meal Planning")])),_:1,__:[8]}),(0,s.bF)(n,{to:"/profile",class:"nav-link"},{default:(0,s.k6)(()=>t[9]||(t[9]=[(0,s.eW)("Profile")])),_:1,__:[9]}),(0,s.bF)(n,{to:"/settings",class:"nav-link"},{default:(0,s.k6)(()=>t[10]||(t[10]=[(0,s.eW)("Settings")])),_:1,__:[10]}),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>i.logout&&i.logout(...e)),class:"btn-logout"},"Logout")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bF)(n,{to:"/login",class:"nav-link"},{default:(0,s.k6)(()=>t[11]||(t[11]=[(0,s.eW)("Login")])),_:1,__:[11]}),(0,s.bF)(n,{to:"/register",class:"btn-primary"},{default:(0,s.k6)(()=>t[12]||(t[12]=[(0,s.eW)("Sign Up")])),_:1,__:[12]})],64))]),(0,s.Lk)("button",{class:"mobile-menu-toggle",onClick:t[1]||(t[1]=(...e)=>i.toggleMobileMenu&&i.toggleMobileMenu(...e)),"aria-label":"Toggle menu"},t[13]||(t[13]=[(0,s.Lk)("span",null,null,-1),(0,s.Lk)("span",null,null,-1),(0,s.Lk)("span",null,null,-1)])),(0,s.Lk)("div",{class:(0,l.C4)(["mobile-menu",{"is-active":i.mobileMenuOpen}])},[(0,s.Lk)("div",g,[(0,s.Lk)("button",{class:"mobile-menu-close",onClick:t[2]||(t[2]=(...e)=>i.closeMobileMenu&&i.closeMobileMenu(...e))},t[14]||(t[14]=[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M18 6L6 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)])),(0,s.Lk)("div",p,[i.isLoggedIn?((0,s.uX)(),(0,s.CE)(s.FK,{key:0},[(0,s.bF)(n,{to:"/dashboard",class:"mobile-menu-link",onClick:i.closeMobileMenu},{default:(0,s.k6)(()=>t[15]||(t[15]=[(0,s.eW)("Dashboard")])),_:1,__:[15]},8,["onClick"]),(0,s.bF)(n,{to:"/progress",class:"mobile-menu-link",onClick:i.closeMobileMenu},{default:(0,s.k6)(()=>t[16]||(t[16]=[(0,s.eW)("Progress")])),_:1,__:[16]},8,["onClick"]),(0,s.bF)(n,{to:"/profile",class:"mobile-menu-link",onClick:i.closeMobileMenu},{default:(0,s.k6)(()=>t[17]||(t[17]=[(0,s.eW)("Profile")])),_:1,__:[17]},8,["onClick"]),(0,s.bF)(n,{to:"/settings",class:"mobile-menu-link",onClick:i.closeMobileMenu},{default:(0,s.k6)(()=>t[18]||(t[18]=[(0,s.eW)("Settings")])),_:1,__:[18]},8,["onClick"]),(0,s.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>i.logoutAndCloseMobile&&i.logoutAndCloseMobile(...e)),class:"mobile-menu-button"},"Logout")],64)):((0,s.uX)(),(0,s.CE)(s.FK,{key:1},[(0,s.bF)(n,{to:"/login",class:"mobile-menu-link",onClick:i.closeMobileMenu},{default:(0,s.k6)(()=>t[19]||(t[19]=[(0,s.eW)("Login")])),_:1,__:[19]},8,["onClick"]),(0,s.bF)(n,{to:"/register",class:"mobile-menu-button",onClick:i.closeMobileMenu},{default:(0,s.k6)(()=>t[20]||(t[20]=[(0,s.eW)("Sign Up")])),_:1,__:[20]},8,["onClick"])],64))])])],2)])])])}var m=a(144),f=a(782),k=a(1387),y={name:"AppHeader",setup(){const e=(0,f.Pj)(),t=(0,k.rd)(),a=(0,m.KR)(!1),i=(0,s.EW)(()=>e.getters["auth/isLoggedIn"]),r=()=>{e.dispatch("auth/logout"),t.push("/login")},o=()=>{a.value=!a.value,a.value?document.body.style.overflow="hidden":document.body.style.overflow=""},n=()=>{a.value=!1,document.body.style.overflow=""},l=()=>{n(),r()};return{isLoggedIn:i,mobileMenuOpen:a,logout:r,toggleMobileMenu:o,closeMobileMenu:n,logoutAndCloseMobile:l}}},b=a(1241);const w=(0,b.A)(y,[["render",v],["__scopeId","data-v-1c3e1eec"]]);var _=w,L={name:"App",components:{AppHeader:_},created(){const e=localStorage.getItem("user")||sessionStorage.getItem("user"),t=this.$store.state.auth&&this.$store.state.auth.status&&this.$store.state.auth.status.loggedIn;e&&!t?this.$store.dispatch("auth/checkAuth").catch(()=>{0}):t&&this.$store.dispatch("auth/checkAuth").catch(()=>{this.$store.dispatch("auth/logout"),this.$router.push("/login")})}};const C=(0,b.A)(L,[["render",n]]);var A=C,S=(a(8111),a(3579),a.p+"static/img/hero-illustration.e1e22ac4.svg");const E={class:"home"},P={class:"hero"},M={class:"container"},D={class:"hero-content"},F={class:"hero-actions"},x={class:"how-it-works"},I={class:"container"},T={class:"cta-container"};function X(e,t,a,i,r,o){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",E,[(0,s.Lk)("section",P,[(0,s.Lk)("div",M,[(0,s.Lk)("div",D,[t[3]||(t[3]=(0,s.Lk)("h1",{class:"hero-title"},"Track your wellness journey with AI-powered insights",-1)),t[4]||(t[4]=(0,s.Lk)("p",{class:"hero-description"},"Monitor your health metrics, receive personalized recommendations, and visualize your progress with our intelligent wellness platform.",-1)),(0,s.Lk)("div",F,[i.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(n,{key:0,to:"/register",class:"btn-primary"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)("Get Started")])),_:1,__:[0]})),i.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(n,{key:1,to:"/login",class:"btn-secondary"},{default:(0,s.k6)(()=>t[1]||(t[1]=[(0,s.eW)("Sign In")])),_:1,__:[1]})),i.isLoggedIn?((0,s.uX)(),(0,s.Wv)(n,{key:2,to:"/dashboard",class:"btn-primary"},{default:(0,s.k6)(()=>t[2]||(t[2]=[(0,s.eW)("Go to Dashboard")])),_:1,__:[2]})):(0,s.Q3)("",!0)])]),t[5]||(t[5]=(0,s.Lk)("div",{class:"hero-image"},[(0,s.Lk)("img",{src:S,alt:"Wellness tracking illustration"})],-1))])]),t[8]||(t[8]=(0,s.Fv)('<section class="features" data-v-6e1544dc><div class="container" data-v-6e1544dc><h2 class="section-title" data-v-6e1544dc>Why choose our platform?</h2><div class="features-grid" data-v-6e1544dc><div class="feature-card" data-v-6e1544dc><div class="feature-icon" data-v-6e1544dc><svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6e1544dc><path d="M21 8V20.993C21 21.549 20.55 22 19.993 22H4.007C3.451 22 3 21.55 3 20.993V8M21 8H3M21 8L12 3L3 8" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6e1544dc></path><path d="M9 16H15" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" data-v-6e1544dc></path><path d="M12 13L12 19" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" data-v-6e1544dc></path></svg></div><h3 class="feature-title" data-v-6e1544dc>Track Your Health Metrics</h3><p class="feature-description" data-v-6e1544dc>Monitor key health indicators like weight, BMI, activity levels, and more in one unified dashboard.</p></div><div class="feature-card" data-v-6e1544dc><div class="feature-icon" data-v-6e1544dc><svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6e1544dc><path d="M9 3.5V2M5.5 5.5H4M14.5 5.5H16M5.5 14.5H4M14.5 14.5H16" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" data-v-6e1544dc></path><path d="M9 21.5V20M9 14.5V9.5" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" data-v-6e1544dc></path><circle cx="9" cy="7" r="2.5" stroke="#30C1B1" stroke-width="2" data-v-6e1544dc></circle><circle cx="9" cy="17" r="2.5" stroke="#30C1B1" stroke-width="2" data-v-6e1544dc></circle></svg></div><h3 class="feature-title" data-v-6e1544dc>AI-Powered Insights</h3><p class="feature-description" data-v-6e1544dc>Receive personalized recommendations and health insights based on your unique profile and goals.</p></div><div class="feature-card" data-v-6e1544dc><div class="feature-icon" data-v-6e1544dc><svg width="40" height="40" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-6e1544dc><path d="M3 8L7 4M7 4L11 8M7 4V20" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6e1544dc></path><path d="M21 16L17 20M17 20L13 16M17 20V4" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-6e1544dc></path></svg></div><h3 class="feature-title" data-v-6e1544dc>Visualize Your Progress</h3><p class="feature-description" data-v-6e1544dc>See your health journey with clear, intuitive charts and visualizations that help you stay motivated.</p></div></div></div></section>',1)),(0,s.Lk)("section",x,[(0,s.Lk)("div",I,[t[7]||(t[7]=(0,s.Fv)('<h2 class="section-title" data-v-6e1544dc>How It Works</h2><div class="steps" data-v-6e1544dc><div class="step" data-v-6e1544dc><div class="step-number" data-v-6e1544dc>1</div><h3 class="step-title" data-v-6e1544dc>Create Your Profile</h3><p class="step-description" data-v-6e1544dc>Sign up and enter your health information, goals, and preferences to get started.</p></div><div class="step" data-v-6e1544dc><div class="step-number" data-v-6e1544dc>2</div><h3 class="step-title" data-v-6e1544dc>Track Your Journey</h3><p class="step-description" data-v-6e1544dc>Regularly update your metrics and activities to build a comprehensive health picture.</p></div><div class="step" data-v-6e1544dc><div class="step-number" data-v-6e1544dc>3</div><h3 class="step-title" data-v-6e1544dc>Get Smart Insights</h3><p class="step-description" data-v-6e1544dc>Receive AI-generated recommendations tailored to your specific health profile and goals.</p></div><div class="step" data-v-6e1544dc><div class="step-number" data-v-6e1544dc>4</div><h3 class="step-title" data-v-6e1544dc>Achieve Your Goals</h3><p class="step-description" data-v-6e1544dc>Follow your personalized plan and watch as you make progress toward better health.</p></div></div>',2)),(0,s.Lk)("div",T,[i.isLoggedIn?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.Wv)(n,{key:0,to:"/register",class:"btn-primary"},{default:(0,s.k6)(()=>t[6]||(t[6]=[(0,s.eW)("Start Your Journey")])),_:1,__:[6]}))])])])])}var W={name:"Home",setup(){const e=(0,f.Pj)(),t=(0,s.EW)(()=>e.getters["auth/isLoggedIn"]);return{isLoggedIn:t}}};const V=(0,b.A)(W,[["render",X],["__scopeId","data-v-6e1544dc"]]);var $=V;const N={class:"auth-container"},U={class:"auth-form-container"},B={key:0},R={class:"form-group"},H={key:1,class:"two-factor-form"},O={key:3,class:"form-group text-center mt-4"},j={class:"form-group text-center mt-4"},G={class:"mt-2"},q={class:"social-login-container"};function Q(e,t,a,r,o,n){const c=(0,s.g2)("FormInput"),d=(0,s.g2)("FormCheckbox"),u=(0,s.g2)("Alert"),h=(0,s.g2)("BaseButton"),g=(0,s.g2)("router-link"),p=(0,s.g2)("SocialLoginButton");return(0,s.uX)(),(0,s.CE)("div",N,[(0,s.Lk)("div",U,[t[11]||(t[11]=(0,s.Lk)("h2",{class:"text-center"},"Sign In",-1)),(0,s.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)((...e)=>r.handleLogin&&r.handleLogin(...e),["prevent"]))},[r.showTwoFactorForm?((0,s.uX)(),(0,s.CE)("div",H,[t[6]||(t[6]=(0,s.Lk)("p",null,"Please enter the verification code from your authenticator app.",-1)),(0,s.bF)(c,{id:"twoFactorCode",label:"Verification Code",placeholder:"000000",maxlength:"6",pattern:"[0-9]*",inputmode:"numeric",modelValue:r.twoFactorCode,"onUpdate:modelValue":t[3]||(t[3]=e=>r.twoFactorCode=e),disabled:r.loading,ref:"twoFactorInput"},null,8,["modelValue","disabled"])])):((0,s.uX)(),(0,s.CE)("div",B,[(0,s.bF)(c,{id:"username",label:"Username",placeholder:"Enter your username",modelValue:r.username,"onUpdate:modelValue":t[0]||(t[0]=e=>r.username=e),disabled:r.loading,required:""},null,8,["modelValue","disabled"]),(0,s.bF)(c,{id:"password",type:"password",label:"Password",placeholder:"Enter your password",modelValue:r.password,"onUpdate:modelValue":t[1]||(t[1]=e=>r.password=e),disabled:r.loading,required:""},null,8,["modelValue","disabled"]),(0,s.Lk)("div",R,[(0,s.bF)(d,{id:"remember",modelValue:r.remember,"onUpdate:modelValue":t[2]||(t[2]=e=>r.remember=e),disabled:r.loading},{default:(0,s.k6)(()=>t[5]||(t[5]=[(0,s.eW)(" Remember me ")])),_:1,__:[5]},8,["modelValue","disabled"])])])),r.message?((0,s.uX)(),(0,s.Wv)(u,{key:2,message:r.message,type:r.successful?"success":"error"},null,8,["message","type"])):(0,s.Q3)("",!0),(0,s.bF)(h,{type:"submit",variant:"primary",block:"",loading:r.loading,"loading-text":r.showTwoFactorForm?"Verifying...":"Signing in..."},{default:(0,s.k6)(()=>[(0,s.eW)((0,l.v_)(r.showTwoFactorForm?"Verify":"Sign In"),1)]),_:1},8,["loading","loading-text"]),r.showTwoFactorForm?((0,s.uX)(),(0,s.CE)("div",O,[(0,s.bF)(h,{variant:"text",onClick:r.cancelTwoFactor},{default:(0,s.k6)(()=>t[7]||(t[7]=[(0,s.eW)(" Back to Login ")])),_:1,__:[7]},8,["onClick"])])):(0,s.Q3)("",!0),(0,s.Lk)("div",j,[(0,s.Lk)("p",null,[(0,s.bF)(g,{to:"/reset-password"},{default:(0,s.k6)(()=>t[8]||(t[8]=[(0,s.eW)("Forgot Password?")])),_:1,__:[8]})]),(0,s.Lk)("p",G,[t[10]||(t[10]=(0,s.eW)(" Don't have an account? ")),(0,s.bF)(g,{to:"/register"},{default:(0,s.k6)(()=>t[9]||(t[9]=[(0,s.eW)("Register here")])),_:1,__:[9]})])])],32)]),(0,s.Lk)("div",q,[t[16]||(t[16]=(0,s.Lk)("div",{class:"divider"},[(0,s.Lk)("span",null,"OR")],-1)),(0,s.bF)(p,{provider:"google",loading:r.googleLoading,disabled:r.loading,onClick:r.loginWithGoogle},{icon:(0,s.k6)(()=>t[12]||(t[12]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 48 48"},[(0,s.Lk)("path",{fill:"#FFC107",d:"M43.611,20.083H42V20H24v8h11.303c-1.649,4.657-6.08,8-11.303,8c-6.627,0-12-5.373-12-12c0-6.627,5.373-12,12-12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C12.955,4,4,12.955,4,24c0,11.045,8.955,20,20,20c11.045,0,20-8.955,20-20C44,22.659,43.862,21.35,43.611,20.083z"}),(0,s.Lk)("path",{fill:"#FF3D00",d:"M6.306,14.691l6.571,4.819C14.655,15.108,18.961,12,24,12c3.059,0,5.842,1.154,7.961,3.039l5.657-5.657C34.046,6.053,29.268,4,24,4C16.318,4,9.656,8.337,6.306,14.691z"}),(0,s.Lk)("path",{fill:"#4CAF50",d:"M24,44c5.166,0,9.86-1.977,13.409-5.192l-6.19-5.238C29.211,35.091,26.715,36,24,36c-5.202,0-9.619-3.317-11.283-7.946l-6.522,5.025C9.505,39.556,16.227,44,24,44z"}),(0,s.Lk)("path",{fill:"#1976D2",d:"M43.611,20.083H42V20H24v8h11.303c-0.792,2.237-2.231,4.166-4.087,5.571c0.001-0.001,0.002-0.001,0.003-0.002l6.19,5.238C36.971,39.205,44,34,44,24C44,22.659,43.862,21.35,43.611,20.083z"})],-1)])),default:(0,s.k6)(()=>[t[13]||(t[13]=(0,s.eW)(" Continue with Google "))]),_:1,__:[13]},8,["loading","disabled","onClick"]),(0,s.bF)(p,{provider:"github",loading:r.githubLoading,disabled:r.loading,onClick:r.loginWithGitHub},{icon:(0,s.k6)(()=>t[14]||(t[14]=[(0,s.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24"},[(0,s.Lk)("path",{fill:"#24292F",d:"M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"})],-1)])),default:(0,s.k6)(()=>[t[15]||(t[15]=(0,s.eW)(" Continue with GitHub "))]),_:1,__:[15]},8,["loading","disabled","onClick"])])])}var z=a(2022),J=a(5994),K=a(6988),Y=a(5560),Z=a(8852),ee=a(7667),te={name:"Login",components:{BaseButton:J.A,FormInput:K.A,FormCheckbox:Y.A,Alert:Z.A,SocialLoginButton:ee.A},setup(){const e=(0,f.Pj)(),t=(0,k.rd)(),a=(0,m.KR)(""),i=(0,m.KR)(""),r=(0,m.KR)(""),o=(0,m.KR)(!1),n=(0,m.KR)(!1),l=(0,m.KR)(null),c=(0,m.KR)(null),d=(0,m.KR)(!1),u=(0,m.KR)(!1),h=(0,m.KR)(!1),g=(0,m.KR)(""),p=(0,m.KR)(!1),v=(0,s.EW)(()=>e.getters["auth/isLoggedIn"]);v.value&&t.push("/dashboard"),(0,s.wB)(n,async e=>{e&&l.value&&(await(0,s.dY)(),l.value.$el.querySelector("input").focus())});const y=async()=>{if(n.value)await b();else{if(!a.value||!i.value)return g.value="Please enter both username and password",void(p.value=!1);try{d.value=!0,g.value="";const t=await e.dispatch("auth/login",{username:a.value,password:i.value,remember:o.value});t.two_factor_enabled?(n.value=!0,c.value=t,d.value=!1):w(t)}catch(t){_(t)}}},b=async()=>{if(!r.value||6!==r.value.length||!/^\d+$/.test(r.value))return g.value="Please enter a valid 6-digit verification code",void(p.value=!1);try{d.value=!0,g.value="";const t=await e.dispatch("auth/verifyTwoFactor",{code:r.value,tempAuthData:c.value});w(t)}catch(t){d.value=!1,p.value=!1,console.error("Login error:",t),t.response?.data?.detail?g.value=t.response.data.detail:g.value="Invalid verification code. Please try again."}},w=a=>{e.getters["auth/isLoggedIn"]||e.commit("auth/loginSuccess",a),p.value=!0,g.value="Login successful! Redirecting...",setTimeout(()=>{t.push("/dashboard")},500)},_=e=>{if(d.value=!1,p.value=!1,console.error("Login error:",e),e.response?.data)if(e.response.data.detail)g.value=e.response.data.detail;else if(e.response.data.non_field_errors)g.value=e.response.data.non_field_errors.join(" ");else{const t=Object.values(e.response.data)[0];Array.isArray(t)?g.value=t[0]:g.value="Failed to login. Please check your credentials."}else g.value="Failed to login. Please check your credentials."},L=()=>{n.value=!1,r.value="",c.value=null},C=async()=>{try{g.value="",u.value=!0,localStorage.removeItem("oauth_error"),await z.A.loginWithGoogle()}catch(e){console.error("Google login initialization error:",e),g.value=e.message||"Failed to start Google authentication. Please try again.",p.value=!1}finally{u.value=!1}},A=async()=>{try{g.value="",h.value=!0,localStorage.removeItem("oauth_error"),await z.A.loginWithGitHub()}catch(e){console.error("GitHub login initialization error:",e),g.value=e.message||"Failed to start GitHub authentication. Please try again.",p.value=!1}finally{h.value=!1}};return{username:a,password:i,twoFactorCode:r,remember:o,showTwoFactorForm:n,twoFactorInput:l,loading:d,googleLoading:u,githubLoading:h,message:g,successful:p,handleLogin:y,verifyTwoFactor:b,cancelTwoFactor:L,loginWithGoogle:C,loginWithGitHub:A}}};const ae=(0,b.A)(te,[["render",Q],["__scopeId","data-v-5ebdecc0"]]);var ie=ae;const se={class:"register-container"},re={class:"form-group"},oe={class:"form-group"},ne={class:"form-group"},le={class:"form-group"},ce={class:"form-group"},de=["disabled"],ue={key:0},he={key:1},ge={class:"form-group text-center"};function pe(e,t,a,r,o,n){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",se,[(0,s.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)((...e)=>n.handleRegister&&n.handleRegister(...e),["prevent"])),class:"register-form"},[t[11]||(t[11]=(0,s.Lk)("h2",null,"Register",-1)),(0,s.Lk)("div",re,[t[5]||(t[5]=(0,s.Lk)("label",{for:"username"},"Username",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":t[0]||(t[0]=e=>o.username=e),required:"",placeholder:"Choose a username"},null,512),[[i.Jo,o.username]])]),(0,s.Lk)("div",oe,[t[6]||(t[6]=(0,s.Lk)("label",{for:"email"},"Email",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[1]||(t[1]=e=>o.email=e),required:"",placeholder:"Enter your email"},null,512),[[i.Jo,o.email]])]),(0,s.Lk)("div",ne,[t[7]||(t[7]=(0,s.Lk)("label",{for:"password"},"Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":t[2]||(t[2]=e=>o.password=e),required:"",placeholder:"Create a password"},null,512),[[i.Jo,o.password]])]),(0,s.Lk)("div",le,[t[8]||(t[8]=(0,s.Lk)("label",{for:"password2"},"Confirm Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"password2","onUpdate:modelValue":t[3]||(t[3]=e=>o.password2=e),required:"",placeholder:"Confirm your password"},null,512),[[i.Jo,o.password2]])]),o.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["alert",o.successful?"alert-success":"alert-danger"])},(0,l.v_)(o.message),3)):(0,s.Q3)("",!0),(0,s.Lk)("div",ce,[(0,s.Lk)("button",{class:"btn btn-primary btn-block",disabled:o.loading},[o.loading?((0,s.uX)(),(0,s.CE)("span",ue,"Loading...")):((0,s.uX)(),(0,s.CE)("span",he,"Register"))],8,de)]),(0,s.Lk)("div",ge,[(0,s.Lk)("p",null,[t[10]||(t[10]=(0,s.eW)(" Already have an account? ")),(0,s.bF)(c,{to:"/login"},{default:(0,s.k6)(()=>t[9]||(t[9]=[(0,s.eW)("Login here")])),_:1,__:[9]})])])],32)])}var ve={name:"Register",data(){return{username:"",email:"",password:"",password2:"",loading:!1,message:"",successful:!1}},methods:{handleRegister(){if(this.message="",this.successful=!1,this.loading=!0,this.password!==this.password2)return this.message="Passwords don't match",void(this.loading=!1);this.$store.dispatch("auth/register",{username:this.username,email:this.email,password:this.password,password2:this.password2}).then(e=>{this.message=e.message||"Registration successful! Please check your email for verification.",this.successful=!0,this.loading=!1,setTimeout(()=>{this.$router.push("/login")},2e3)},e=>{this.message=e.response&&e.response.data?Object.values(e.response.data).flat().join(", "):"Registration failed. Please try again.",this.successful=!1,this.loading=!1})}}};const me=(0,b.A)(ve,[["render",pe],["__scopeId","data-v-2a7cf59a"]]);var fe=me;const ke={class:"dashboard-page"},ye={class:"dashboard"},be={class:"dashboard__header"},we={key:0,class:"last-updated"},_e={key:0,class:"dashboard__loading"},Le={key:1,class:"dashboard__error"},Ce={class:"error-content"},Ae={class:"error-message"},Se={class:"error-actions"},Ee={key:2,class:"dashboard__content"},Pe={key:0,class:"milestones-notification"},Me={class:"notification-header"},De={class:"milestone-list"},Fe={class:"milestone-icon"},xe={class:"milestone-text"};function Ie(e,t,a,i,r,o){const n=(0,s.g2)("router-link"),c=(0,s.g2)("wellness-score-card"),d=(0,s.g2)("bmi-status-card"),u=(0,s.g2)("activity-level-card"),h=(0,s.g2)("activities-card"),g=(0,s.g2)("weight-history-card"),p=(0,s.g2)("meal-planning-card"),v=(0,s.g2)("ai-insights-card"),m=(0,s.g2)("milestones-card"),f=(0,s.g2)("add-weight-modal"),k=(0,s.g2)("milestone-achievement-modal");return(0,s.uX)(),(0,s.CE)("div",ke,[(0,s.Lk)("div",ye,[(0,s.Lk)("div",be,[t[4]||(t[4]=(0,s.Lk)("h1",null,"Health Dashboard",-1)),(0,s.Lk)("p",null,"Welcome back, "+(0,l.v_)(o.getUsernameDisplay())+"!",1),r.lastUpdated?((0,s.uX)(),(0,s.CE)("div",we," Last updated: "+(0,l.v_)(o.formatDateTime(r.lastUpdated)),1)):(0,s.Q3)("",!0)]),r.loading?((0,s.uX)(),(0,s.CE)("div",_e,t[5]||(t[5]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",null,"Loading your health data...",-1)]))):r.error?((0,s.uX)(),(0,s.CE)("div",Le,[(0,s.Lk)("div",Ce,[t[7]||(t[7]=(0,s.Lk)("div",{class:"error-icon"},"⚠️",-1)),(0,s.Lk)("p",Ae,(0,l.v_)(r.error),1),(0,s.Lk)("div",Se,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.fetchHealthData&&o.fetchHealthData(...e)),class:"btn btn-primary"}," Try Again "),(0,s.bF)(n,{to:"/profile",class:"btn btn-secondary"},{default:(0,s.k6)(()=>t[6]||(t[6]=[(0,s.eW)(" Complete Profile ")])),_:1,__:[6]})])])])):((0,s.uX)(),(0,s.CE)("div",Ee,[r.newMilestones.length>0?((0,s.uX)(),(0,s.CE)("div",Pe,[(0,s.Lk)("div",Me,[t[8]||(t[8]=(0,s.Lk)("h3",null,"🎉 New Achievements!",-1)),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.dismissMilestones&&o.dismissMilestones(...e)),class:"dismiss-btn"},"×")]),(0,s.Lk)("div",De,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.newMilestones,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"milestone-item"},[(0,s.Lk)("span",Fe,(0,l.v_)(o.getMilestoneIcon(e.milestone_type)),1),(0,s.Lk)("span",xe,(0,l.v_)(e.description),1)]))),128))])])):(0,s.Q3)("",!0),(0,s.bF)(c,{class:"dashboard-card",profile:r.profile,score:o.formattedWellnessScore?.total||0,"bmi-score":o.formattedWellnessScore?.components?.bmi?.score||0,"activity-score":o.formattedWellnessScore?.components?.activity?.score||0,"progress-score":o.formattedWellnessScore?.components?.progress?.score||0,"habits-score":o.formattedWellnessScore?.components?.habits?.score||0,"nutrition-score":o.formattedWellnessScore?.components?.nutrition?.score||0,"score-breakdown":o.formattedWellnessScore?.breakdown,onRecalculate:o.recalculateWellnessScore},null,8,["profile","score","bmi-score","activity-score","progress-score","habits-score","nutrition-score","score-breakdown","onRecalculate"]),(0,s.bF)(d,{class:"dashboard-card",bmi:r.bmi,profile:r.profile},null,8,["bmi","profile"]),(0,s.bF)(u,{class:"dashboard-card",profile:r.profile},null,8,["profile"]),(0,s.bF)(h,{class:"dashboard-card",activities:r.activities,onActivityAdded:o.onActivityAdded},null,8,["activities","onActivityAdded"]),(0,s.bF)(g,{class:"dashboard-card",profile:r.profile,"weight-history":r.weightHistory,"weight-change":r.weightChange,onAddWeight:t[2]||(t[2]=e=>r.showAddWeightModal=!0),onWeightGoalAchieved:o.onWeightGoalAchieved},null,8,["profile","weight-history","weight-change","onWeightGoalAchieved"]),(0,s.bF)(p,{class:"dashboard-card","nutrition-profile":r.nutritionProfile,onNavigateToMealPlanning:o.navigateToMealPlanning},null,8,["nutrition-profile","onNavigateToMealPlanning"]),(0,s.bF)(v,{class:"dashboard-card","user-data":o.enhancedUserData,loading:r.insightsLoading,onReload:o.regenerateInsights},null,8,["user-data","loading","onReload"]),(0,s.bF)(m,{class:"dashboard-card",milestones:r.recentMilestones,summary:r.milestoneSummary,onMilestoneAchieved:o.onMilestoneAchieved},null,8,["milestones","summary","onMilestoneAchieved"])])),r.showAddWeightModal?((0,s.uX)(),(0,s.Wv)(f,{key:3,class:"modal",loading:r.weightLoading,error:r.weightError,onClose:t[3]||(t[3]=e=>r.showAddWeightModal=!1),onSave:o.saveNewWeight},null,8,["loading","error","onSave"])):(0,s.Q3)("",!0),r.showMilestoneModal?((0,s.uX)(),(0,s.Wv)(k,{key:4,milestones:r.achievedMilestones,onClose:o.closeMilestoneModal},null,8,["milestones","onClose"])):(0,s.Q3)("",!0)])])}a(2489),a(1701),a(7642),a(8004),a(3853),a(5876),a(2475),a(5024),a(1698),a(4979);var Te=a(4188),Xe=a(4687);class We{getWellnessScores(e={}){return Xe.A.get("analytics/wellness-scores/",{params:e})}calculateWellnessScore(e={}){return Xe.A.post("analytics/wellness-score/calculate/",e)}getLatestWellnessScore(){return Xe.A.get("analytics/wellness-score/latest/")}getWellnessScoreTrends(e=30){return Xe.A.get("analytics/wellness-score/trends/",{params:{days:e}})}getInsights(){return Xe.A.get("analytics/aiinsight/")}generateInsights(e={},t=!1){const a=t?"analytics/aiinsight/generate/?force=true":"analytics/aiinsight/generate/";return Xe.A.post(a,e)}getMilestones(e={}){return Xe.A.get("analytics/milestones/",{params:e})}getRecentMilestones(e=30){return Xe.A.get("analytics/milestones/recent/",{params:{days:e}})}getMilestoneSummary(){return Xe.A.get("analytics/milestones/summary/")}trackHabitStreak(e,t){return Xe.A.post("analytics/milestones/track_habit/",{habit_name:e,streak_days:t})}getProgressMetrics(e={}){return Xe.A.get("analytics/progress-metrics/",{params:e})}exportHealthData(e={}){return Xe.A.post("analytics/export/",e,{responseType:"csv"===e.format?"blob":"json"})}getActivityTrends(e={}){return Xe.A.get("analytics/activity-trends/",{params:e})}getWellnessScoreHistory(e={}){return Xe.A.get("analytics/wellness-history/",{params:e})}async getDashboardAnalytics(){try{const[e,t,a,i]=await Promise.allSettled([this.getLatestWellnessScore(),this.getRecentMilestones(30),this.getMilestoneSummary(),this.getInsights()]);return{wellnessScore:"fulfilled"===e.status?e.value.data:null,milestones:"fulfilled"===t.status?t.value.data:[],milestoneSummary:"fulfilled"===a.status?a.value.data:null,insights:"fulfilled"===i.status?i.value.data:[]}}catch(e){throw console.error("Error fetching dashboard analytics:",e),e}}async checkForNewMilestones(e={}){try{const t=await this.calculateWellnessScore(e);return t.data?.milestones_achieved||[]}catch(t){return console.error("Error checking for milestones:",t),[]}}getWellnessScoreExplanations(){return{bmi_score:{name:"BMI Score",weight:25,description:"Based on your Body Mass Index relative to healthy ranges",optimal:"BMI between 18.5-24.9 for maximum points"},activity_score:{name:"Activity Score",weight:25,description:"Based on your logged activities and declared activity level",optimal:"Regular activities logged with good variety and consistency"},progress_score:{name:"Progress Score",weight:15,description:"Based on milestone achievements and goal progress",optimal:"Regular milestones and steady progress toward goals"},habits_score:{name:"Habits Score",weight:15,description:"Based on consistency in logging and profile completeness",optimal:"Regular weight logging and complete health profile"},nutrition_score:{name:"Nutrition Score",weight:20,description:"Based on nutrition profile setup, goal adherence, and logging consistency",optimal:"Complete nutrition profile with regular food logging and meeting nutrition goals"}}}formatWellnessScore(e){if(!e)return null;const t=this.getWellnessScoreExplanations();return{total:Math.round(e.total_score||0),components:{bmi:{score:Math.round(e.bmi_score||0),points:Math.round(.25*(e.bmi_score||0)),...t.bmi_score},activity:{score:Math.round(e.activity_score||0),points:Math.round(.25*(e.activity_score||0)),...t.activity_score},progress:{score:Math.round(e.progress_score||0),points:Math.round(.15*(e.progress_score||0)),...t.progress_score},habits:{score:Math.round(e.habits_score||0),points:Math.round(.15*(e.habits_score||0)),...t.habits_score},nutrition:{score:Math.round(e.nutrition_score||0),points:Math.round(.2*(e.nutrition_score||0)),...t.nutrition_score}},breakdown:e.score_breakdown||null,lastUpdated:e.created_at||(new Date).toISOString()}}}var Ve=new We;a(8237);class $e{calculateBMI(e,t){if(!e||!t||e<=0||t<=0)return null;const a=e/100;return t/(a*a)}getBMICategory(e){return null===e||void 0===e?"":e<18.5?"Underweight":e<25?"Normal Weight":e<30?"Overweight":"Obese"}calculateBMIScore(e){if(!e)return 0;let t=0;return t=e>=18.5&&e<=25?100:e<18.5?100-10*(18.5-e):100-5*(e-25),Math.max(0,Math.min(100,t))}calculateActivityScore(e){console.warn("Deprecated: use calculateActivityScoreFromActivities instead");const t={sedentary:20,light:40,moderate:70,active:90,very_active:100};return t[e]??50}calculateActivityScoreFromActivities(e=[]){if(!Array.isArray(e)||0===e.length)return 0;const t=new Date,a=new Date(t);a.setDate(t.getDate()-7);const i=e.filter(e=>{const i=new Date(e.performed_at);return i>=a&&i<=t}),s=new Set(i.map(e=>new Date(e.performed_at).toDateString())).size,r=100*Math.min(s/7,1),o=i.reduce((e,t)=>e+(t.duration_minutes||0),0),n=420,l=100*Math.min(o/n,1);return Math.round((r+l)/2)}calculateWellnessScoreFromActivities(e,t,a,i){const s=this.calculateActivityScoreFromActivities(t);return this.calculateWellnessScore(e,s,a,i)}calculateWellnessScore(e,t,a,i){return Math.round(.3*e+.3*t+.2*a+.2*i)}getScoreCategory(e){return e>=80?"excellent":e>=60?"good":e>=40?"fair":"poor"}getActivityLevelDisplay(e){const t={sedentary:"Sedentary",light:"Lightly Active",moderate:"Moderately Active",active:"Active",very_active:"Very Active"};return t[e]||"Unknown"}getActivityDescription(e){const t={sedentary:"Little to no regular exercise",light:"Light exercise 1-3 days per week",moderate:"Moderate exercise 3-5 days per week",active:"Hard exercise 6-7 days per week",very_active:"Very hard exercise & physical job or twice daily training"};return t[e]||""}getActivitySuggestions(e){const t={sedentary:["Start with a 10-minute daily walk","Take breaks to stretch every hour","Try using stairs instead of elevators"],light:["Aim for 20-30 minute walks 4-5 days/week","Consider adding 1-2 strength sessions weekly","Try a beginner yoga or flexibility routine"],moderate:["Increase intensity in 1-2 workouts per week","Add variety with different exercise types","Consider tracking heart rate during exercise"],active:["Focus on recovery between intense sessions","Consider periodization in your training","Add mobility work to prevent injuries"],very_active:["Ensure adequate recovery and sleep","Consider professional guidance for programming","Focus on nutrition to support your activity level"]};return t[e]||[]}getPriorityDisplay(e){const t={high:"High Priority",medium:"Medium Priority",low:"Low Priority"};return t[e]||""}evaluateWeightChange(e,t){return 0===e?"neutral":"weight_loss"===t?e<0?"positive":"negative":"muscle_gain"===t?e>0?"positive":"negative":"neutral"}}var Ne=new $e;a(7588);class Ue{getAllActivities(e={}){return Xe.A.get("activities/",{params:e})}getActivitiesByDateRange(e,t){return Xe.A.get("activities/",{params:{start_date:e,end_date:t}})}getActivitiesByType(e){return Xe.A.get("activities/",{params:{activity_type:e}})}getActivity(e){return Xe.A.get(`activities/${e}/`)}createActivity(e){return Xe.A.post("activities/",e)}updateActivity(e,t){return Xe.A.put(`activities/${e}/`,t)}deleteActivity(e){return Xe.A.delete(`activities/${e}/`)}getActivitySummary(){return Xe.A.get("activities/summary/")}getActivitiesByTypeGrouped(){return Xe.A.get("activities/by_type/")}getRecentActivities(){return Xe.A.get("activities/recent/")}getCalendarData(e,t){return Xe.A.get("activities/calendar_data/",{params:{start_date:e,end_date:t}})}estimateCalories(e,t,a=70){const i={cardio:7,strength:6,flexibility:2.5,sports:8,hiit:8,yoga:2.5,other:4},s=i[e]||4,r=s*a*(t/60);return Math.round(r)}async getActivityStats(e="week"){const t=new Date;let a=new Date;switch(e){case"week":a.setDate(t.getDate()-7);break;case"month":a.setMonth(t.getMonth()-1);break;case"year":a.setFullYear(t.getFullYear()-1);break}const i=await this.getActivitiesByDateRange(a.toISOString().split("T")[0],t.toISOString().split("T")[0]),s=i.data;return{totalActivities:s.length,totalDuration:s.reduce((e,t)=>e+t.duration_minutes,0),totalDistance:s.reduce((e,t)=>e+(t.distance_km||0),0),totalCalories:s.reduce((e,t)=>e+(t.calories_burned||0),0),activeDays:this.calculateActiveDays(s),activityDistribution:this.calculateActivityDistribution(s)}}calculateActiveDays(e){const t=new Set(e.map(e=>new Date(e.performed_at).toLocaleDateString()));return t.size}calculateActivityDistribution(e){const t={};return e.forEach(e=>{t[e.activity_type]||(t[e.activity_type]=0),t[e.activity_type]++}),t}}var Be=new Ue;const Re={class:"score-card"},He={class:"score-number"},Oe={class:"score-breakdown"},je={class:"score-component"},Ge={class:"component-info"},qe={class:"component-value"},Qe={class:"progress-bar"},ze={class:"score-component"},Je={class:"component-info"},Ke={class:"component-value"},Ye={class:"progress-bar"},Ze={class:"score-component"},et={class:"component-info"},tt={class:"component-value"},at={class:"progress-bar"},it={class:"score-component"},st={class:"component-info"},rt={class:"component-value"},ot={class:"progress-bar"},nt={class:"score-component"},lt={class:"component-info"},ct={class:"component-value"},dt={class:"progress-bar"};function ut(e,t,a,i,r,o){const n=(0,s.g2)("router-link"),c=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(c,{title:"Wellness Score",isEmpty:!o.hasProfileData},{empty:(0,s.k6)(()=>[t[1]||(t[1]=(0,s.Lk)("p",null,"Your wellness score will be calculated once you've completed your health profile.",-1)),(0,s.bF)(n,{to:"/profile",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)("Complete Profile")])),_:1,__:[0]})]),default:(0,s.k6)(()=>[(0,s.Lk)("div",Re,[(0,s.Lk)("div",{class:(0,l.C4)(["score-circle",o.scoreClass])},[(0,s.Lk)("span",He,(0,l.v_)(a.score),1)],2),(0,s.Lk)("div",Oe,[(0,s.Lk)("div",je,[(0,s.Lk)("div",Ge,[t[2]||(t[2]=(0,s.Lk)("span",{class:"component-label"},"BMI Score",-1)),(0,s.Lk)("span",qe,(0,l.v_)(a.bmiScore)+"% ("+(0,l.v_)((.25*a.bmiScore).toFixed(1))+"pts)",1)]),(0,s.Lk)("div",Qe,[(0,s.Lk)("div",{class:"progress",style:(0,l.Tr)({width:a.bmiScore+"%"})},null,4)])]),(0,s.Lk)("div",ze,[(0,s.Lk)("div",Je,[t[3]||(t[3]=(0,s.Lk)("span",{class:"component-label"},"Activity",-1)),(0,s.Lk)("span",Ke,(0,l.v_)(a.activityScore)+"% ("+(0,l.v_)((.25*a.activityScore).toFixed(1))+"pts)",1)]),(0,s.Lk)("div",Ye,[(0,s.Lk)("div",{class:"progress",style:(0,l.Tr)({width:a.activityScore+"%"})},null,4)])]),(0,s.Lk)("div",Ze,[(0,s.Lk)("div",et,[t[4]||(t[4]=(0,s.Lk)("span",{class:"component-label"},"Progress",-1)),(0,s.Lk)("span",tt,(0,l.v_)(a.progressScore)+"% ("+(0,l.v_)((.15*a.progressScore).toFixed(1))+"pts)",1)]),(0,s.Lk)("div",at,[(0,s.Lk)("div",{class:"progress",style:(0,l.Tr)({width:a.progressScore+"%"})},null,4)])]),(0,s.Lk)("div",it,[(0,s.Lk)("div",st,[t[5]||(t[5]=(0,s.Lk)("span",{class:"component-label"},"Habits",-1)),(0,s.Lk)("span",rt,(0,l.v_)(a.habitsScore)+"% ("+(0,l.v_)((.15*a.habitsScore).toFixed(1))+"pts)",1)]),(0,s.Lk)("div",ot,[(0,s.Lk)("div",{class:"progress",style:(0,l.Tr)({width:a.habitsScore+"%"})},null,4)])]),(0,s.Lk)("div",nt,[(0,s.Lk)("div",lt,[t[6]||(t[6]=(0,s.Lk)("span",{class:"component-label"},"Nutrition",-1)),(0,s.Lk)("span",ct,(0,l.v_)(a.nutritionScore)+"% ("+(0,l.v_)((.2*a.nutritionScore).toFixed(1))+"pts)",1)]),(0,s.Lk)("div",dt,[(0,s.Lk)("div",{class:"progress nutrition-progress",style:(0,l.Tr)({width:a.nutritionScore+"%"})},null,4)])])])])]),_:1},8,["isEmpty"])}const ht={class:"dashboard-card"},gt={class:"dashboard-card__title"},pt={key:0,class:"dashboard-card__loading"},vt={key:1,class:"dashboard-card__error"},mt={class:"error-text"},ft={key:2,class:"dashboard-card__empty"},kt={key:3,class:"dashboard-card__body"};function yt(e,t,a,i,r,o){return(0,s.uX)(),(0,s.CE)("div",ht,[(0,s.Lk)("h2",gt,(0,l.v_)(a.title),1),a.loading?((0,s.uX)(),(0,s.CE)("div",pt,[t[0]||(t[0]=(0,s.Lk)("div",{class:"loading-spinner"},null,-1)),(0,s.Lk)("p",null,(0,l.v_)(a.loadingText),1)])):a.error?((0,s.uX)(),(0,s.CE)("div",vt,[(0,s.Lk)("p",mt,(0,l.v_)(a.error),1),(0,s.RG)(e.$slots,"error-action")])):a.isEmpty?((0,s.uX)(),(0,s.CE)("div",ft,[(0,s.RG)(e.$slots,"empty")])):((0,s.uX)(),(0,s.CE)("div",kt,[(0,s.RG)(e.$slots,"default")]))])}var bt={name:"DashboardCard",props:{title:{type:String,required:!0},loading:{type:Boolean,default:!1},loadingText:{type:String,default:"Loading..."},error:{type:String,default:null},isEmpty:{type:Boolean,default:!1}}};const wt=(0,b.A)(bt,[["render",yt]]);var _t=wt,Lt={name:"WellnessScoreCard",components:{DashboardCard:_t},props:{profile:{type:Object,default:null},score:{type:Number,default:0},bmiScore:{type:Number,default:0},activityScore:{type:Number,default:0},progressScore:{type:Number,default:0},habitsScore:{type:Number,default:0},nutritionScore:{type:Number,default:0}},computed:{hasProfileData(){return this.profile&&this.profile.height_cm&&this.profile.weight_kg},scoreClass(){return Ne.getScoreCategory(this.score)}}};const Ct=(0,b.A)(Lt,[["render",ut],["__scopeId","data-v-09243672"]]);var At=Ct;const St={class:"bmi-card"},Et={class:"bmi-value"},Pt={class:"bmi-category"},Mt={class:"bmi-scale"},Dt={class:"bmi-scale-bar"};function Ft(e,t,a,i,r,o){const n=(0,s.g2)("router-link"),c=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(c,{title:"BMI Status",isEmpty:null===a.bmi},{empty:(0,s.k6)(()=>[t[1]||(t[1]=(0,s.Lk)("p",null,"Your BMI will be calculated once you've added your height and weight.",-1)),(0,s.bF)(n,{to:"/profile",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)("Update Profile")])),_:1,__:[0]})]),default:(0,s.k6)(()=>[(0,s.Lk)("div",St,[(0,s.Lk)("div",Et,(0,l.v_)(a.bmi.toFixed(1)),1),(0,s.Lk)("div",Pt,(0,l.v_)(o.bmiCategory),1),(0,s.Lk)("div",Mt,[(0,s.Lk)("div",Dt,[(0,s.Lk)("div",{class:"bmi-marker",style:(0,l.Tr)({left:o.markerPosition+"%"})},null,4)]),t[2]||(t[2]=(0,s.Lk)("div",{class:"bmi-segments"},[(0,s.Lk)("div",{class:"segment underweight"},"Underweight"),(0,s.Lk)("div",{class:"segment normal"},"Normal"),(0,s.Lk)("div",{class:"segment overweight"},"Overweight"),(0,s.Lk)("div",{class:"segment obese"},"Obese")],-1))])])]),_:1},8,["isEmpty"])}var xt={name:"BmiStatusCard",components:{DashboardCard:_t},props:{bmi:{type:Number,default:null},profile:{type:Object,default:null}},computed:{bmiCategory(){return Ne.getBMICategory(this.bmi)},markerPosition(){if(null===this.bmi)return 0;const e=Math.min(Math.max(this.bmi,15),40)-15;return e/25*100}}};const It=(0,b.A)(xt,[["render",Ft]]);var Tt=It;const Xt={class:"activity-card"},Wt={class:"activity-level"},Vt={class:"activity-description"},$t={class:"activity-suggestions"};function Nt(e,t,a,i,r,o){const n=(0,s.g2)("router-link"),c=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(c,{title:"Activity Level",isEmpty:!a.profile||!a.profile.activity_level},{empty:(0,s.k6)(()=>[t[1]||(t[1]=(0,s.Lk)("p",null,"Your activity tracking will appear once you've updated your profile.",-1)),(0,s.bF)(n,{to:"/profile",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.eW)("Update Profile")])),_:1,__:[0]})]),default:(0,s.k6)(()=>[(0,s.Lk)("div",Xt,[(0,s.Lk)("div",Wt,(0,l.v_)(o.activityLevelDisplay),1),(0,s.Lk)("p",Vt,(0,l.v_)(o.activityDescription),1),(0,s.Lk)("div",$t,[t[2]||(t[2]=(0,s.Lk)("h3",null,"Suggestions",-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activitySuggestions,(e,t)=>((0,s.uX)(),(0,s.CE)("li",{key:t},(0,l.v_)(e),1))),128))])])])]),_:1},8,["isEmpty"])}var Ut={name:"ActivityLevelCard",components:{DashboardCard:_t},props:{profile:{type:Object,default:null}},computed:{activityLevelDisplay(){return Ne.getActivityLevelDisplay(this.profile?.activity_level)},activityDescription(){return Ne.getActivityDescription(this.profile?.activity_level)},activitySuggestions(){return Ne.getActivitySuggestions(this.profile?.activity_level)}}};const Bt=(0,b.A)(Ut,[["render",Nt]]);var Rt=Bt;const Ht={class:"weight-container"},Ot={class:"weight-summary"},jt={class:"weight-item"},Gt={class:"weight-value"},qt={key:0,class:"weight-item"},Qt={class:"weight-value"},zt={key:1,class:"weight-item"},Jt={key:0,class:"goal-progress"},Kt={class:"progress-bar-container"},Yt={class:"progress-bar"},Zt={class:"progress-labels"},ea={class:"goal-status"},ta={key:0},aa={key:1,class:"goal-achieved"},ia={key:1,class:"goal-completed"},sa={key:2,class:"weight-trend"},ra={class:"weight-mini-chart"},oa=["title"],na={key:3,class:"weight-history-list"},la={class:"weight-table"},ca={key:4,class:"view-all-link"};function da(e,t,a,i,r,o){const n=(0,s.g2)("router-link"),c=(0,s.g2)("goal-achieved-modal"),d=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(d,{title:"Weight History",isEmpty:!a.weightHistory||0===a.weightHistory.length,error:a.error},{empty:(0,s.k6)(()=>[t[3]||(t[3]=(0,s.Lk)("p",null,"Your weight history will appear once you start tracking your weight.",-1)),(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("add-weight")),class:"btn btn-primary"}," Start Tracking Weight ")]),default:(0,s.k6)(()=>[(0,s.Lk)("div",Ht,[(0,s.Lk)("div",Ot,[(0,s.Lk)("div",jt,[t[4]||(t[4]=(0,s.Lk)("span",{class:"weight-label"},"Current:",-1)),(0,s.Lk)("span",Gt,(0,l.v_)(a.profile?.weight_kg)+" kg",1)]),a.profile?.target_weight_kg?((0,s.uX)(),(0,s.CE)("div",qt,[t[5]||(t[5]=(0,s.Lk)("span",{class:"weight-label"},"Target:",-1)),(0,s.Lk)("span",Qt,(0,l.v_)(a.profile.target_weight_kg)+" kg",1)])):(0,s.Q3)("",!0),null!==a.weightChange?((0,s.uX)(),(0,s.CE)("div",zt,[t[6]||(t[6]=(0,s.Lk)("span",{class:"weight-label"},"Recent Change:",-1)),(0,s.Lk)("span",{class:(0,l.C4)(["weight-value",o.weightChangeClass])},(0,l.v_)(a.weightChange>0?"+":"")+(0,l.v_)(a.weightChange.toFixed(1))+" kg ",3)])):(0,s.Q3)("",!0)]),a.profile?.target_weight_kg&&!o.goalCompleted?((0,s.uX)(),(0,s.CE)("div",Jt,[t[8]||(t[8]=(0,s.Lk)("h3",null,"Goal Progress",-1)),(0,s.Lk)("div",Kt,[(0,s.Lk)("div",Yt,[(0,s.Lk)("div",{class:(0,l.C4)(["progress-fill",o.goalProgressClass]),style:(0,l.Tr)({width:o.goalProgressPercentage+"%"})},null,6)]),(0,s.Lk)("div",Zt,[(0,s.Lk)("span",{class:"current-position",style:(0,l.Tr)({left:o.goalProgressPercentage+"%"})},t[7]||(t[7]=[(0,s.Lk)("span",{class:"current-marker"},null,-1)]),4)])]),(0,s.Lk)("p",ea,[0!==o.remainingToGoal?((0,s.uX)(),(0,s.CE)("span",ta,[(0,s.Lk)("strong",null,(0,l.v_)(Math.abs(o.remainingToGoal).toFixed(1))+" kg",1),(0,s.eW)(" "+(0,l.v_)(o.remainingToGoal>0?"to lose":"to gain")+" to reach your goal ",1)])):((0,s.uX)(),(0,s.CE)("span",aa," 🎉 Congratulations! You've reached your target weight! "))])])):(0,s.Q3)("",!0),a.profile?.target_weight_kg&&o.goalCompleted?((0,s.uX)(),(0,s.CE)("div",ia,[t[10]||(t[10]=(0,s.Lk)("h3",null,"Weight Goal Achieved! 🎉",-1)),(0,s.Lk)("p",null,"You've reached your target weight of "+(0,l.v_)(a.profile.target_weight_kg)+"kg!",1),(0,s.bF)(n,{to:"/profile",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[9]||(t[9]=[(0,s.eW)("Set a New Goal")])),_:1,__:[9]})])):(0,s.Q3)("",!0),a.weightHistory.length>0?((0,s.uX)(),(0,s.CE)("div",sa,[(0,s.Lk)("div",ra,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.normalizedEntries,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"mini-chart-bar",style:(0,l.Tr)({height:e.height+"%",background:o.getBarColor(e.value,a.profile?.fitness_goal)}),title:`${o.formatDate(e.recorded_at)}: ${e.value} kg`},null,12,oa))),128))])])):(0,s.Q3)("",!0),a.weightHistory.length>1?((0,s.uX)(),(0,s.CE)("div",na,[t[12]||(t[12]=(0,s.Lk)("h3",null,"Recent Entries",-1)),(0,s.Lk)("table",la,[t[11]||(t[11]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Date & Time"),(0,s.Lk)("th",null,"Weight")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.recentEntries,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id},[(0,s.Lk)("td",null,(0,l.v_)(o.formatDateTime(e.recorded_at)),1),(0,s.Lk)("td",null,(0,l.v_)(e.weight_kg)+" kg",1)]))),128))])])])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("add-weight")),class:"btn btn-secondary"}," Log New Weight "),a.weightHistory.length>5?((0,s.uX)(),(0,s.CE)("div",ca,[(0,s.bF)(n,{to:"/progress"},{default:(0,s.k6)(()=>t[13]||(t[13]=[(0,s.eW)("View full weight history and charts")])),_:1,__:[13]})])):(0,s.Q3)("",!0)]),r.showGoalAchievedModal?((0,s.uX)(),(0,s.Wv)(c,{key:0,show:r.showGoalAchievedModal,"goal-weight":Number(a.profile?.target_weight_kg),"current-weight":Number(a.profile?.weight_kg),"start-weight":Number(o.startWeight),onClose:t[2]||(t[2]=e=>r.showGoalAchievedModal=!1)},null,8,["show","goal-weight","current-weight","start-weight"])):(0,s.Q3)("",!0)]),_:1},8,["isEmpty","error"])}const ua={key:0,class:"goal-achieved-modal"},ha={class:"modal-content"},ga={class:"confetti-container"},pa={class:"achievement-content"},va={class:"achievement-details"},ma={class:"detail-item"},fa={class:"detail-value"},ka={class:"detail-item"},ya={class:"detail-value"},ba={class:"detail-item"},wa={class:"detail-value"};function _a(e,t,a,i,r,o){return a.show?((0,s.uX)(),(0,s.CE)("div",ua,[(0,s.Lk)("div",ha,[(0,s.Lk)("div",ga,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(50,e=>(0,s.Lk)("div",{key:e,class:"confetti",style:(0,l.Tr)(o.randomConfettiStyle())},null,4)),64))]),(0,s.Lk)("div",pa,[t[4]||(t[4]=(0,s.Lk)("div",{class:"achievement-icon"},"🏆",-1)),t[5]||(t[5]=(0,s.Lk)("h2",null,"Goal Achieved!",-1)),(0,s.Lk)("p",null,"Congratulations! You've reached your weight goal of "+(0,l.v_)(a.goalWeight)+"kg.",1),(0,s.Lk)("div",va,[(0,s.Lk)("div",ma,[t[1]||(t[1]=(0,s.Lk)("span",{class:"detail-label"},"Starting Weight:",-1)),(0,s.Lk)("span",fa,(0,l.v_)(a.startWeight)+"kg",1)]),(0,s.Lk)("div",ka,[t[2]||(t[2]=(0,s.Lk)("span",{class:"detail-label"},"Current Weight:",-1)),(0,s.Lk)("span",ya,(0,l.v_)(a.currentWeight)+"kg",1)]),(0,s.Lk)("div",ba,[t[3]||(t[3]=(0,s.Lk)("span",{class:"detail-label"},"Total Change:",-1)),(0,s.Lk)("span",wa,(0,l.v_)((a.startWeight-a.currentWeight).toFixed(1))+"kg",1)])]),(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("close")),class:"btn-primary"},"Continue")])])])):(0,s.Q3)("",!0)}var La={name:"GoalAchievedModal",props:{show:{type:Boolean,default:!1},goalWeight:{type:Number,required:!0},currentWeight:{type:Number,required:!0},startWeight:{type:Number,required:!0}},created(){this.recordGoalAchievement()},methods:{async recordGoalAchievement(){try{await Ve.calculateWellnessScore()}catch(e){console.error("Failed to record goal achievement:",e)}},randomConfettiStyle(){const e=["#f44336","#e91e63","#9c27b0","#673ab7","#3f51b5","#2196f3","#03a9f4","#00bcd4","#009688","#4CAF50","#8BC34A","#CDDC39","#FFEB3B","#FFC107","#FF9800","#FF5722"];return{backgroundColor:e[Math.floor(Math.random()*e.length)],left:100*Math.random()+"vw",top:-10*Math.random()-10+"vh",transform:"rotate("+360*Math.random()+"deg)",width:Math.random()+.5+"rem",height:.3*Math.random()+.1+"rem",animationDelay:5*Math.random()+"s",animationDuration:3*Math.random()+3+"s"}}}};const Ca=(0,b.A)(La,[["render",_a],["__scopeId","data-v-34894052"]]);var Aa=Ca,Sa={name:"WeightHistoryCard",components:{DashboardCard:_t,GoalAchievedModal:Aa},props:{profile:{type:Object,default:null},weightHistory:{type:Array,default:()=>[]},weightChange:{type:Number,default:null},error:{type:String,default:null}},data(){return{showGoalAchievedModal:!1,goalAchieved:!1,lastAchievedGoal:null}},computed:{weightChangeClass(){return Ne.evaluateWeightChange(this.weightChange,this.profile?.fitness_goal)},recentEntries(){return this.weightHistory&&this.weightHistory.length?[...this.weightHistory].sort((e,t)=>new Date(t.recorded_at)-new Date(e.recorded_at)).slice(0,5):[]},normalizedEntries(){if(!this.weightHistory||0===this.weightHistory.length)return[];const e=[...this.weightHistory].sort((e,t)=>new Date(e.recorded_at)-new Date(t.recorded_at)).slice(-10),t=e.map(e=>parseFloat(e.weight_kg)),a=Math.min(...t),i=Math.max(...t),s=Math.max(i-a,2);return e.map(e=>({value:parseFloat(e.weight_kg),recorded_at:e.recorded_at,height:(parseFloat(e.weight_kg)-a)/s*80+10}))},startWeight(){if(!this.weightHistory||0===this.weightHistory.length)return this.profile?.weight_kg;const e=[...this.weightHistory].sort((e,t)=>new Date(e.recorded_at)-new Date(t.recorded_at)).shift();return e.weight_kg},goalProgressPercentage(){if(!this.profile?.target_weight_kg||!this.startWeight)return 0;const e=parseFloat(this.profile.weight_kg),t=parseFloat(this.profile.target_weight_kg),a=parseFloat(this.startWeight);if(a===t)return 100;const i=Math.abs(a-t),s=Math.abs(a-e),r=s/i*100;return Math.min(Math.max(r,0),100)},remainingToGoal(){if(!this.profile?.target_weight_kg)return 0;const e=parseFloat(this.profile.weight_kg),t=parseFloat(this.profile.target_weight_kg);return e-t},goalProgressClass(){return this.profile?.target_weight_kg&&this.profile?.fitness_goal?"weight_loss"===this.profile.fitness_goal?this.remainingToGoal>0?"progress-loss":"progress-complete":"muscle_gain"===this.profile.fitness_goal?this.remainingToGoal<0?"progress-gain":"progress-complete":"":""},goalCompleted(){return this.profile?.target_weight_kg&&Math.abs(parseFloat(this.profile.weight_kg)-parseFloat(this.profile.target_weight_kg))<=.5}},watch:{remainingToGoal(e){!this.goalAchieved&&Math.abs(e)<.5&&(this.lastAchievedGoal=this.profile?.target_weight_kg,this.showGoalAchievedModal=!0,this.goalAchieved=!0)},"profile.target_weight_kg":function(e){e!==this.lastAchievedGoal&&(this.goalAchieved=!1)}},methods:{formatDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},formatDateTime(e){const t=new Date(e);return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})+" "+t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})},getBarColor(e,t){if(!t||!this.profile?.weight_kg)return this.$primary||"#30C1B1";const a=parseFloat(this.profile.weight_kg),i=getComputedStyle(document.documentElement).getPropertyValue("--success-color")||"#4CAF50",s=getComputedStyle(document.documentElement).getPropertyValue("--warning-color")||"#FF9800";return"weight_loss"===t?e<=a?i:s:"muscle_gain"===t?e>=a?i:s:"#30C1B1"}}};const Ea=(0,b.A)(Sa,[["render",da],["__scopeId","data-v-f6cda6b4"]]);var Pa=Ea;const Ma={key:0,class:"daily-limit-warning"},Da={key:2,class:"dashboard-card__loading"},Fa={key:3,class:"dashboard-card__empty"},xa={class:"empty-actions"},Ia=["disabled"],Ta={key:0,class:"context-summary"},Xa={class:"context-items"},Wa={key:0,class:"context-item"},Va={key:1,class:"context-item"},$a={key:2,class:"context-item"},Na={class:"insights-container"},Ua={class:"insight-header"},Ba={class:"insight-date"},Ra={class:"insight-content"},Ha={class:"insights-actions"},Oa=["disabled","title"],ja={key:0,class:"btn-spinner",width:"16",height:"16",viewBox:"0 0 24 24"},Ga=["disabled"],qa={class:"generation-info"},Qa={class:"info-row"},za={class:"info-value"},Ja={key:0,class:"info-row"};function Ka(e,t,a,i,r,o){const n=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(n,{title:"AI Insights"},{default:(0,s.k6)(()=>[r.dailyLimitReached?((0,s.uX)(),(0,s.CE)("div",Ma,t[3]||(t[3]=[(0,s.Lk)("div",{class:"warning-icon"},"⚠️",-1),(0,s.Lk)("p",null,"You've reached your daily AI insight generation limit. Showing cached insights.",-1)]))):(0,s.Q3)("",!0),r.statusMessage?((0,s.uX)(),(0,s.CE)("p",{key:1,class:(0,l.C4)(["status-message",r.statusMessageClass])},(0,l.v_)(r.statusMessage),3)):(0,s.Q3)("",!0),r.loading?((0,s.uX)(),(0,s.CE)("div",Da,[t[4]||(t[4]=(0,s.Lk)("div",{class:"loading-spinner"},null,-1)),(0,s.Lk)("p",null,(0,l.v_)(r.loadingMessage),1)])):r.insights.length?((0,s.uX)(),(0,s.CE)(s.FK,{key:4},[r.contextSummary?((0,s.uX)(),(0,s.CE)("div",Ta,[t[8]||(t[8]=(0,s.Lk)("h4",null,"Based on your profile:",-1)),(0,s.Lk)("div",Xa,[r.contextSummary.bmi?((0,s.uX)(),(0,s.CE)("span",Wa," BMI: "+(0,l.v_)(r.contextSummary.bmi),1)):(0,s.Q3)("",!0),r.contextSummary.recent_activities?((0,s.uX)(),(0,s.CE)("span",Va,(0,l.v_)(r.contextSummary.recent_activities)+" recent activities ",1)):(0,s.Q3)("",!0),r.contextSummary.milestones_this_month?((0,s.uX)(),(0,s.CE)("span",$a,(0,l.v_)(r.contextSummary.milestones_this_month)+" milestones this month ",1)):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Na,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.insights,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:e.id||t,class:(0,l.C4)(["insight-item",`priority-${e.priority}`])},[(0,s.Lk)("div",Ua,[(0,s.Lk)("span",{class:(0,l.C4)(["priority-badge",`priority-${e.priority}`])},(0,l.v_)(o.getPriorityIcon(e.priority))+" "+(0,l.v_)(o.getPriorityDisplay(e.priority)),3),(0,s.Lk)("span",Ba,(0,l.v_)(o.formatDate(e.created_at)),1)]),(0,s.Lk)("p",Ra,(0,l.v_)(e.content),1)],2))),128))]),(0,s.Lk)("div",Ha,[(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>o.reloadInsights(!0)),class:"btn btn-secondary",disabled:r.loading||r.dailyLimitReached,title:r.dailyLimitReached?"Daily regeneration limit reached":"Generate fresh insights (counts toward daily limit)"},[r.loading?((0,s.uX)(),(0,s.CE)("svg",ja,t[9]||(t[9]=[(0,s.Lk)("circle",{cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"2",fill:"none",opacity:"0.3"},null,-1),(0,s.Lk)("path",{d:"M2 12C2 6.48 6.48 2 12 2",stroke:"currentColor","stroke-width":"2",fill:"none"},null,-1)]))):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,l.v_)(r.loading?"Generating...":"Regenerate Insights"),1)],8,Oa),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.refreshCachedInsights&&o.refreshCachedInsights(...e)),class:"btn btn-text",disabled:r.loading}," Refresh ",8,Ga)]),(0,s.Lk)("div",qa,[(0,s.Lk)("div",Qa,[t[10]||(t[10]=(0,s.Lk)("span",{class:"info-label"},"Last updated:",-1)),(0,s.Lk)("span",za,(0,l.v_)(o.formatDate(r.insights[0]?.created_at)),1)]),r.cached?((0,s.uX)(),(0,s.CE)("div",Ja,t[11]||(t[11]=[(0,s.Lk)("span",{class:"cached-indicator"},"📋 Showing cached insights",-1)]))):(0,s.Q3)("",!0)])],64)):((0,s.uX)(),(0,s.CE)("div",Fa,[t[6]||(t[6]=(0,s.Lk)("div",{class:"empty-icon"},"🤖",-1)),t[7]||(t[7]=(0,s.Lk)("p",null,"No insights available yet.",-1)),(0,s.Lk)("div",xa,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>o.reloadInsights(!1)),class:"btn btn-primary",disabled:r.loading}," Generate Insights ",8,Ia),t[5]||(t[5]=(0,s.Lk)("p",{class:"help-text"},"Complete your health profile for personalized insights",-1))])]))]),_:1})}class Ya{getInsights(){return Xe.A.get("analytics/aiinsight/").then(e=>e.data)}generateInsights(e,t=!1){const a="analytics/aiinsight/generate/"+(t?"?force=true":"");return Xe.A.post(a,e).then(e=>e.data)}}var Za=new Ya,ei={name:"AiInsightsCard",components:{DashboardCard:_t},props:{userData:{type:Object,required:!0}},data(){return{insights:[],loading:!1,error:null,statusMessage:"",statusMessageClass:"",loadingMessage:"Loading your personalized AI insights...",dailyLimitReached:!1,cached:!1,contextSummary:null}},created(){this.loadInsights(!1)},methods:{async loadInsights(e=!1){this.loading=!0,this.error=null,this.statusMessage="",this.statusMessageClass="",this.loadingMessage=e?"Generating fresh insights...":"Loading your personalized AI insights...";try{const t=await Za.generateInsights(this.userData,e);t.insights?(this.insights=Array.isArray(t.insights)?t.insights:[],this.cached=t.cached||!1,this.contextSummary=t.context_summary||null,e&&t.cached?(this.statusMessage="Daily regeneration limit reached. Showing cached insights.",this.statusMessageClass="warning",this.dailyLimitReached=!0):e&&!t.cached&&(this.statusMessage="Fresh insights generated successfully!",this.statusMessageClass="success",this.dailyLimitReached=!1)):this.insights=Array.isArray(t)?t:[]}catch(t){if(console.error("AI Insights error:",t),429===t.response?.status){this.statusMessage=t.response.data?.detail||"Daily insight generation limit reached.",this.statusMessageClass="warning",this.dailyLimitReached=!0;try{const e=await Za.generateInsights(this.userData,!1);e.insights&&(this.insights=Array.isArray(e.insights)?e.insights:[],this.cached=!0)}catch(a){console.error("Failed to load cached insights:",a),this.insights=this.generateFallbackInsights()}}else this.insights=this.generateFallbackInsights(),this.statusMessage="AI service temporarily unavailable. Showing general recommendations.",this.statusMessageClass="info"}finally{this.loading=!1}},async reloadInsights(e=!1){await this.loadInsights(e)},async refreshCachedInsights(){await this.loadInsights(!1)},generateFallbackInsights(){const e=[{content:"Stay hydrated by drinking at least 8 glasses of water daily for optimal health.",priority:"medium",created_at:(new Date).toISOString()},{content:"Aim for 7-9 hours of quality sleep each night to support recovery and wellness.",priority:"high",created_at:(new Date).toISOString()},{content:"Take a 10-minute walk after meals to improve digestion and blood sugar control.",priority:"low",created_at:(new Date).toISOString()}];return"weight_loss"===this.userData.fitness_goal&&e.unshift({content:"Focus on creating a moderate caloric deficit through both diet and exercise for sustainable weight loss.",priority:"high",created_at:(new Date).toISOString()}),e},getPriorityDisplay(e){const t={high:"High Priority",medium:"Medium Priority",low:"Low Priority"};return t[e]||e},getPriorityIcon(e){const t={high:"🔴",medium:"🟡",low:"🟢"};return t[e]||"🔵"},formatDate(e){if(!e)return"";const t=new Date(e);return t.toLocaleDateString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}};const ti=(0,b.A)(ei,[["render",Ka],["__scopeId","data-v-57dd1efb"]]);var ai=ti;const ii={class:"modal-content"},si={class:"form-group"},ri={key:0,class:"alert alert-error"},oi={class:"form-actions"},ni=["disabled"],li={key:0,class:"loading-spinner"};function ci(e,t,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",{class:"modal is-active",onClick:t[4]||(t[4]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",ii,[(0,s.Lk)("span",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),t[6]||(t[6]=(0,s.Lk)("h2",null,"Log New Weight",-1)),(0,s.Lk)("form",{onSubmit:t[3]||(t[3]=(0,i.D$)((...e)=>n.handleSubmit&&n.handleSubmit(...e),["prevent"]))},[(0,s.Lk)("div",si,[t[5]||(t[5]=(0,s.Lk)("label",{for:"weight",class:"form-label"},"Weight (kg)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"weight","onUpdate:modelValue":t[1]||(t[1]=e=>o.weight=e),step:"0.1",required:"",min:"20",max:"300",placeholder:"Enter your weight in kg",class:"form-control"},null,512),[[i.Jo,o.weight]])]),a.error?((0,s.uX)(),(0,s.CE)("div",ri,(0,l.v_)(a.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",oi,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=t=>e.$emit("close"))}," Cancel "),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:a.loading},[a.loading?((0,s.uX)(),(0,s.CE)("span",li)):(0,s.Q3)("",!0),(0,s.Lk)("span",null,(0,l.v_)(a.loading?"Saving...":"Save"),1)],8,ni)])],32)])])}var di={name:"AddWeightModal",props:{loading:{type:Boolean,default:!1},error:{type:String,default:null}},data(){return{weight:null}},methods:{handleSubmit(){!this.weight||this.weight<20||this.weight>300?this.$emit("error","Please enter a valid weight between 20 and 300 kg"):this.$emit("save",this.weight)}}};const ui=(0,b.A)(di,[["render",ci],["__scopeId","data-v-94758290"]]);var hi=ui;const gi={class:"milestones-container"},pi={class:"milestone-icon"},vi={key:0},mi={key:1},fi={key:2},ki={key:3},yi={class:"milestone-details"},bi={class:"milestone-title"},wi={class:"milestone-date"};function _i(e,t,a,i,r,o){const n=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(n,{title:"Achievements & Milestones",isEmpty:!o.filteredMilestones||0===o.filteredMilestones.length,loading:r.loading},{empty:(0,s.k6)(()=>t[0]||(t[0]=[(0,s.Lk)("p",null,"Complete your health profile and start tracking your progress to earn achievements!",-1)])),default:(0,s.k6)(()=>[(0,s.Lk)("div",gi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.filteredMilestones,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:(0,l.C4)(["milestone-item",`milestone-${e.milestone_type}`])},[(0,s.Lk)("div",pi,["weight"===e.milestone_type?((0,s.uX)(),(0,s.CE)("span",vi,"⚖️")):"activity"===e.milestone_type?((0,s.uX)(),(0,s.CE)("span",mi,"🏃")):"habit"===e.milestone_type?((0,s.uX)(),(0,s.CE)("span",fi,"🔄")):((0,s.uX)(),(0,s.CE)("span",ki,"🏆"))]),(0,s.Lk)("div",yi,[(0,s.Lk)("h4",bi,(0,l.v_)(e.description||"Achievement unlocked!"),1),(0,s.Lk)("span",wi,(0,l.v_)(o.formatDate(e.achieved_at)),1)])],2))),128)),t[1]||(t[1]=(0,s.Lk)("div",{class:"milestone-footer"},[(0,s.Lk)("p",{class:"milestone-info"},"Milestones contribute to your wellness score!")],-1))])]),_:1},8,["isEmpty","loading"])}var Li={name:"MilestonesCard",components:{DashboardCard:_t},props:{milestones:{type:[Array,Object],default:()=>[]},summary:{type:Object,default:null}},data(){return{localMilestones:[],loading:!1,error:null}},computed:{filteredMilestones(){let e=[];return this.milestones&&(Array.isArray(this.milestones)?e=this.milestones:this.milestones.milestones&&Array.isArray(this.milestones.milestones)?e=this.milestones.milestones:this.milestones.results&&Array.isArray(this.milestones.results)&&(e=this.milestones.results)),0===e.length&&Array.isArray(this.localMilestones)&&(e=this.localMilestones),e.filter(e=>null!==e&&void 0!==e&&e.id&&e.description)}},created(){(!this.milestones||Array.isArray(this.milestones)&&0===this.milestones.length)&&this.loadMilestones()},methods:{async loadMilestones(){this.loading=!0;try{const e=await Ve.getMilestones();e.data&&e.data.results?this.localMilestones=e.data.results.filter(e=>null!==e):Array.isArray(e.data)?this.localMilestones=e.data.filter(e=>null!==e):this.localMilestones=[]}catch(e){console.error("Failed to load milestones:",e),this.error=e,this.localMilestones=[]}finally{this.loading=!1}},formatDate(e){if(!e)return"Date unknown";try{const t=new Date(e);return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})}catch(t){return console.error("Error formatting date:",e,t),"Invalid date"}}}};const Ci=(0,b.A)(Li,[["render",_i],["__scopeId","data-v-6bf7c8fa"]]);var Ai=Ci;const Si={class:"activities-container"},Ei={class:"activities-stats"},Pi={class:"stats-header"},Mi={class:"time-period-selector"},Di=["onClick"],Fi={class:"stats-grid"},xi={class:"stat-item"},Ii={class:"stat-info"},Ti={class:"stat-value"},Xi={class:"stat-item"},Wi={class:"stat-info"},Vi={class:"stat-value"},$i={class:"stat-item"},Ni={class:"stat-info"},Ui={class:"stat-value"},Bi={key:0,class:"stat-item"},Ri={class:"stat-info"},Hi={class:"stat-value"},Oi={key:0,class:"activity-distribution"},ji={class:"distribution-chart"},Gi=["title"],qi={key:0},Qi={class:"distribution-legend"},zi={class:"legend-label"},Ji={key:1,class:"recent-activities"},Ki={class:"activity-list"},Yi={class:"activity-details"},Zi={class:"activity-name"},es={class:"activity-meta"},ts={key:0},as={key:1},is={key:2,class:"view-all-link"};function ss(e,t,a,i,r,o){const n=(0,s.g2)("router-link"),c=(0,s.g2)("add-activity-modal"),d=(0,s.g2)("dashboard-card");return(0,s.uX)(),(0,s.Wv)(d,{title:"Activities",loading:r.loading,error:r.error},{default:(0,s.k6)(()=>[(0,s.Lk)("div",Si,[(0,s.Lk)("div",Ei,[(0,s.Lk)("div",Pi,[t[2]||(t[2]=(0,s.Lk)("h3",null,"Activity Summary",-1)),(0,s.Lk)("div",Mi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.timePeriods,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,onClick:t=>r.selectedPeriod=e.value,class:(0,l.C4)([{active:r.selectedPeriod===e.value},"period-btn"])},(0,l.v_)(e.label),11,Di))),128))])]),(0,s.Lk)("div",Fi,[(0,s.Lk)("div",xi,[t[4]||(t[4]=(0,s.Lk)("div",{class:"stat-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M12 2L2 7V17C2 19.21 3.79 21 6 21H18C20.21 21 22 19.21 22 17V7L12 2Z",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M12 12L2 7",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M12 12L22 7",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M12 12V22",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,s.Lk)("div",Ii,[(0,s.Lk)("div",Ti,(0,l.v_)(o.periodStats.totalActivities),1),t[3]||(t[3]=(0,s.Lk)("div",{class:"stat-label"},"Activities",-1))])]),(0,s.Lk)("div",Xi,[t[6]||(t[6]=(0,s.Lk)("div",{class:"stat-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("circle",{cx:"12",cy:"12",r:"10",stroke:"#30C1B1","stroke-width":"2"}),(0,s.Lk)("path",{d:"M12 6V12L16 14",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round"})])],-1)),(0,s.Lk)("div",Wi,[(0,s.Lk)("div",Vi,(0,l.v_)(o.formatDuration(o.periodStats.totalDuration)),1),t[5]||(t[5]=(0,s.Lk)("div",{class:"stat-label"},"Total Time",-1))])]),(0,s.Lk)("div",$i,[t[8]||(t[8]=(0,s.Lk)("div",{class:"stat-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M20 6L9 17L4 12",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,s.Lk)("div",Ni,[(0,s.Lk)("div",Ui,(0,l.v_)(o.periodStats.activeDays),1),t[7]||(t[7]=(0,s.Lk)("div",{class:"stat-label"},"Active Days",-1))])]),o.periodStats.totalDistance>0?((0,s.uX)(),(0,s.CE)("div",Bi,[t[10]||(t[10]=(0,s.Lk)("div",{class:"stat-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M13 16H12V12H11M12 8H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,s.Lk)("div",Ri,[(0,s.Lk)("div",Hi,(0,l.v_)(o.periodStats.totalDistance.toFixed(1)),1),t[9]||(t[9]=(0,s.Lk)("div",{class:"stat-label"},"Distance (km)",-1))])])):(0,s.Q3)("",!0)])]),o.activityDistribution.length>0?((0,s.uX)(),(0,s.CE)("div",Oi,[t[11]||(t[11]=(0,s.Lk)("h3",null,"Activity Breakdown",-1)),(0,s.Lk)("div",ji,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activityDistribution,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:(0,l.C4)(["distribution-bar",`type-${e.type}`]),style:(0,l.Tr)({width:e.percentage+"%"}),title:`${e.label}: ${e.count} activities`},[e.percentage>10?((0,s.uX)(),(0,s.CE)("span",qi,(0,l.v_)(e.count),1)):(0,s.Q3)("",!0)],14,Gi))),128))]),(0,s.Lk)("div",Qi,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activityDistribution,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"legend-item"},[(0,s.Lk)("span",{class:(0,l.C4)(["legend-color",`type-${e.type}`])},null,2),(0,s.Lk)("span",zi,(0,l.v_)(e.label)+" ("+(0,l.v_)(e.count)+")",1)]))),128))])])):(0,s.Q3)("",!0),r.recentActivities.length>0?((0,s.uX)(),(0,s.CE)("div",Ji,[t[12]||(t[12]=(0,s.Lk)("h3",null,"Recent Activities",-1)),(0,s.Lk)("div",Ki,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(r.recentActivities,e=>((0,s.uX)(),(0,s.CE)("div",{key:e.id,class:"activity-item"},[(0,s.Lk)("div",{class:(0,l.C4)(`activity-icon type-${e.activity_type}`)},[(0,s.Lk)("span",null,(0,l.v_)(o.getActivityIcon(e.activity_type)),1)],2),(0,s.Lk)("div",Yi,[(0,s.Lk)("div",Zi,(0,l.v_)(e.name),1),(0,s.Lk)("div",es,[(0,s.Lk)("span",null,(0,l.v_)(o.formatDate(e.performed_at)),1),(0,s.Lk)("span",null,(0,l.v_)(e.duration_minutes)+" min",1),e.distance_km?((0,s.uX)(),(0,s.CE)("span",ts,(0,l.v_)(e.distance_km)+" km",1)):(0,s.Q3)("",!0),e.calories_burned?((0,s.uX)(),(0,s.CE)("span",as,(0,l.v_)(e.calories_burned)+" cal",1)):(0,s.Q3)("",!0)])])]))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>r.showAddActivityModal=!0),class:"btn btn-primary btn-block"},t[13]||(t[13]=[(0,s.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M12 5V19M5 12H19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),(0,s.eW)(" Log New Activity ")])),r.recentActivities.length>=5?((0,s.uX)(),(0,s.CE)("div",is,[(0,s.bF)(n,{to:"/activities"},{default:(0,s.k6)(()=>t[14]||(t[14]=[(0,s.eW)("View all activities")])),_:1,__:[14]})])):(0,s.Q3)("",!0)]),r.showAddActivityModal?((0,s.uX)(),(0,s.Wv)(c,{key:0,loading:r.modalLoading,error:r.modalError,onClose:t[1]||(t[1]=e=>r.showAddActivityModal=!1),onSave:o.saveNewActivity},null,8,["loading","error","onSave"])):(0,s.Q3)("",!0)]),_:1},8,["loading","error"])}const rs={class:"modal-content"},os={class:"modal-header"},ns={class:"form-group"},ls={class:"activity-type-grid"},cs=["onClick"],ds={class:"activity-type-icon"},us={class:"activity-type-label"},hs={class:"form-group"},gs={class:"form-group"},ps={class:"duration-input"},vs={class:"duration-presets"},ms=["onClick"],fs={key:0,class:"form-group"},ks={class:"form-group"},ys={class:"form-group"},bs={for:"calories",class:"form-label"},ws={class:"form-group"},_s={key:1,class:"alert alert-error"},Ls={class:"form-actions"},Cs=["disabled"],As={key:0,class:"loading-spinner"};function Ss(e,t,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",{class:"modal is-active",onClick:t[10]||(t[10]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",rs,[(0,s.Lk)("div",os,[t[12]||(t[12]=(0,s.Lk)("h2",null,"Log New Activity",-1)),(0,s.Lk)("button",{class:"close-button",onClick:t[0]||(t[0]=t=>e.$emit("close")),"aria-label":"Close"},t[11]||(t[11]=[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),(0,s.Lk)("form",{onSubmit:t[9]||(t[9]=(0,i.D$)((...e)=>n.handleSubmit&&n.handleSubmit(...e),["prevent"])),class:"activity-form"},[(0,s.Lk)("div",ns,[t[13]||(t[13]=(0,s.Lk)("label",{class:"form-label"},"Activity Type",-1)),(0,s.Lk)("div",ls,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activityTypes,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,type:"button",onClick:t=>o.activity.activity_type=e.value,class:(0,l.C4)([{active:o.activity.activity_type===e.value},"activity-type-btn"])},[(0,s.Lk)("span",ds,(0,l.v_)(e.icon),1),(0,s.Lk)("span",us,(0,l.v_)(e.label),1)],10,cs))),128))])]),(0,s.Lk)("div",hs,[t[14]||(t[14]=(0,s.Lk)("label",{for:"activityName",class:"form-label"},"Activity Name",-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"activityName","onUpdate:modelValue":t[1]||(t[1]=e=>o.activity.name=e),class:"form-control",placeholder:"e.g., Morning Run, Yoga Session",required:""},null,512),[[i.Jo,o.activity.name]])]),(0,s.Lk)("div",gs,[t[15]||(t[15]=(0,s.Lk)("label",{for:"duration",class:"form-label"},"Duration (minutes)",-1)),(0,s.Lk)("div",ps,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"duration","onUpdate:modelValue":t[2]||(t[2]=e=>o.activity.duration_minutes=e),class:"form-control",min:"1",max:"480",required:""},null,512),[[i.Jo,o.activity.duration_minutes,void 0,{number:!0}]]),(0,s.Lk)("div",vs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.durationPresets,e=>((0,s.uX)(),(0,s.CE)("button",{key:e,type:"button",onClick:t=>o.activity.duration_minutes=e,class:"preset-btn"},(0,l.v_)(e)+"m ",9,ms))),128))])])]),n.showDistanceField?((0,s.uX)(),(0,s.CE)("div",fs,[t[16]||(t[16]=(0,s.Lk)("label",{for:"distance",class:"form-label"},"Distance (km)",-1)),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"distance","onUpdate:modelValue":t[3]||(t[3]=e=>o.activity.distance_km=e),class:"form-control",min:"0",step:"0.1",placeholder:"Optional"},null,512),[[i.Jo,o.activity.distance_km,void 0,{number:!0}]])])):(0,s.Q3)("",!0),(0,s.Lk)("div",ks,[t[18]||(t[18]=(0,s.Lk)("label",{for:"location",class:"form-label"},"Location",-1)),(0,s.bo)((0,s.Lk)("select",{id:"location","onUpdate:modelValue":t[4]||(t[4]=e=>o.activity.location=e),class:"form-control"},t[17]||(t[17]=[(0,s.Lk)("option",{value:"home"},"Home",-1),(0,s.Lk)("option",{value:"gym"},"Gym",-1),(0,s.Lk)("option",{value:"outdoors"},"Outdoors",-1),(0,s.Lk)("option",{value:"other"},"Other",-1)]),512),[[i.u1,o.activity.location]])]),(0,s.Lk)("div",ys,[(0,s.Lk)("label",bs,[t[19]||(t[19]=(0,s.eW)(" Calories Burned (optional) ")),o.activity.activity_type&&o.activity.duration_minutes?((0,s.uX)(),(0,s.CE)("button",{key:0,type:"button",onClick:t[5]||(t[5]=(...e)=>n.estimateCalories&&n.estimateCalories(...e)),class:"estimate-btn"}," Estimate ")):(0,s.Q3)("",!0)]),(0,s.bo)((0,s.Lk)("input",{type:"number",id:"calories","onUpdate:modelValue":t[6]||(t[6]=e=>o.activity.calories_burned=e),class:"form-control",min:"0",placeholder:"Optional"},null,512),[[i.Jo,o.activity.calories_burned,void 0,{number:!0}]])]),(0,s.Lk)("div",ws,[t[20]||(t[20]=(0,s.Lk)("label",{for:"notes",class:"form-label"},"Notes (optional)",-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"notes","onUpdate:modelValue":t[7]||(t[7]=e=>o.activity.notes=e),class:"form-control",rows:"3",placeholder:"How did you feel? Any achievements?"},null,512),[[i.Jo,o.activity.notes]])]),a.error?((0,s.uX)(),(0,s.CE)("div",_s,(0,l.v_)(a.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",Ls,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[8]||(t[8]=t=>e.$emit("close"))}," Cancel "),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:a.loading||!n.isFormValid},[a.loading?((0,s.uX)(),(0,s.CE)("span",As)):(0,s.Q3)("",!0),(0,s.eW)(" "+(0,l.v_)(a.loading?"Saving...":"Save Activity"),1)],8,Cs)])],32)])])}var Es={name:"AddActivityModal",props:{loading:{type:Boolean,default:!1},error:{type:String,default:null}},data(){return{activity:{name:"",activity_type:"cardio",duration_minutes:null,location:"home",distance_km:null,calories_burned:null,notes:""},activityTypes:[{value:"cardio",label:"Cardio",icon:"🏃"},{value:"strength",label:"Strength",icon:"💪"},{value:"flexibility",label:"Flexibility",icon:"🧘"},{value:"sports",label:"Sports",icon:"⚽"},{value:"hiit",label:"HIIT",icon:"⚡"},{value:"yoga",label:"Yoga",icon:"🧘"},{value:"other",label:"Other",icon:"🏋️"}],durationPresets:[15,30,45,60,90,120]}},computed:{showDistanceField(){return["cardio","sports"].includes(this.activity.activity_type)},isFormValid(){return this.activity.name&&this.activity.activity_type&&this.activity.duration_minutes>0}},methods:{handleSubmit(){if(!this.isFormValid)return;const e={name:this.activity.name,activity_type:this.activity.activity_type,duration_minutes:parseInt(this.activity.duration_minutes),location:this.activity.location,distance_km:this.activity.distance_km?parseFloat(this.activity.distance_km):null,calories_burned:this.activity.calories_burned?parseInt(this.activity.calories_burned):null,notes:this.activity.notes||null};this.$emit("save",e)},estimateCalories(){const e={cardio:10,strength:8,flexibility:3,sports:9,hiit:12,yoga:4,other:6},t=e[this.activity.activity_type]||6;this.activity.calories_burned=Math.round(this.activity.duration_minutes*t)}}};const Ps=(0,b.A)(Es,[["render",Ss],["__scopeId","data-v-cafb1d7c"]]);var Ms=Ps,Ds={name:"ActivitiesCard",components:{DashboardCard:_t,AddActivityModal:Ms},data(){return{loading:!1,error:null,selectedPeriod:"week",timePeriods:[{value:"week",label:"Week"},{value:"month",label:"Month"},{value:"year",label:"Year"}],activities:[],recentActivities:[],showAddActivityModal:!1,modalLoading:!1,modalError:null}},computed:{periodStats(){const e=new Date;let t=new Date;switch(this.selectedPeriod){case"week":t.setDate(e.getDate()-7);break;case"month":t.setMonth(e.getMonth()-1);break;case"year":t.setFullYear(e.getFullYear()-1);break}const a=this.activities.filter(e=>{const a=new Date(e.performed_at);return a>=t}),i=a.length,s=a.reduce((e,t)=>e+(t.duration_minutes||0),0),r=a.reduce((e,t)=>e+(parseFloat(t.distance_km)||0),0),o=new Set(a.map(e=>new Date(e.performed_at).toLocaleDateString())),n=o.size;return{totalActivities:i,totalDuration:s,totalDistance:r,activeDays:n}},activityDistribution(){const e={},t=this.getActivitiesForPeriod();t.forEach(t=>{e[t.activity_type]||(e[t.activity_type]=0),e[t.activity_type]++});const a=t.length;return Object.entries(e).map(([e,t])=>({type:e,label:this.getActivityTypeLabel(e),count:t,percentage:a>0?t/a*100:0})).sort((e,t)=>t.count-e.count)}},mounted(){this.fetchActivities()},methods:{async fetchActivities(){this.loading=!0,this.error=null;try{const e=await Be.getAllActivities();e.data&&e.data.results?this.activities=e.data.results:Array.isArray(e.data)?this.activities=e.data:this.activities=[],this.recentActivities=[...this.activities].sort((e,t)=>new Date(t.performed_at)-new Date(e.performed_at)).slice(0,5)}catch(e){console.error("Error fetching activities:",e),this.error="Failed to load activities. Please try again.",this.activities=[],this.recentActivities=[]}finally{this.loading=!1}},getActivitiesForPeriod(){const e=new Date;let t=new Date;switch(this.selectedPeriod){case"week":t.setDate(e.getDate()-7);break;case"month":t.setMonth(e.getMonth()-1);break;case"year":t.setFullYear(e.getFullYear()-1);break}return this.activities.filter(e=>{const a=new Date(e.performed_at);return a>=t})},async saveNewActivity(e){this.modalLoading=!0,this.modalError=null;try{console.log("Saving activity data:",e),await Be.createActivity(e),await this.fetchActivities(),this.showAddActivityModal=!1,this.$emit("activity-added")}catch(t){console.error("Error saving activity:",t),t.response&&t.response.data?this.modalError=`Failed to save activity: ${t.response.data.message||"Please check your input and try again."}`:this.modalError="Failed to save activity. Please try again."}finally{this.modalLoading=!1}},formatDuration(e){if(e<60)return`${e}m`;const t=Math.floor(e/60),a=e%60;return a>0?`${t}h ${a}m`:`${t}h`},formatDate(e){const t=new Date(e),a=new Date,i=new Date(a);return i.setDate(i.getDate()-1),t.toDateString()===a.toDateString()?"Today":t.toDateString()===i.toDateString()?"Yesterday":t.toLocaleDateString(void 0,{month:"short",day:"numeric"})},getActivityIcon(e){const t={cardio:"🏃",strength:"💪",flexibility:"🧘",sports:"⚽",hiit:"⚡",yoga:"🧘",other:"🏋️"};return t[e]||"🏃"},getActivityTypeLabel(e){const t={cardio:"Cardio",strength:"Strength",flexibility:"Flexibility",sports:"Sports",hiit:"HIIT",yoga:"Yoga",other:"Other"};return t[e]||e}}};const Fs=(0,b.A)(Ds,[["render",ss],["__scopeId","data-v-32002ede"]]);var xs=Fs;const Is={class:"meal-planning-card dashboard-card"},Ts={class:"card__content"},Xs={class:"features-grid"},Ws={class:"feature"},Vs={key:0,class:"quick-stats"},$s={class:"stat"},Ns={class:"stat-value"},Us={class:"stat"},Bs={class:"stat-value"},Rs={key:1,class:"setup-prompt"},Hs={class:"card__actions"};function Os(e,t,a,i,r,o){return(0,s.uX)(),(0,s.CE)("div",Is,[t[7]||(t[7]=(0,s.Lk)("div",{class:"card__header"},[(0,s.Lk)("h3",{class:"card__title"},[(0,s.Lk)("i",{class:"fas fa-utensils card__icon"}),(0,s.eW)(" Meal Planning ")]),(0,s.Lk)("p",{class:"card__subtitle"},"AI-powered nutrition planning")],-1)),(0,s.Lk)("div",Ts,[(0,s.Lk)("div",Xs,[(0,s.Lk)("div",Ws,[t[1]||(t[1]=(0,s.Lk)("i",{class:"fas fa-search"},null,-1)),(0,s.Lk)("span",null,"Browse "+(0,l.v_)(r.recipeCount)+" Recipes",1)]),t[2]||(t[2]=(0,s.Fv)('<div class="feature" data-v-0bf7ae4d><i class="fas fa-user-cog" data-v-0bf7ae4d></i><span data-v-0bf7ae4d>Set Nutrition Goals</span></div><div class="feature" data-v-0bf7ae4d><i class="fas fa-calendar-alt" data-v-0bf7ae4d></i><span data-v-0bf7ae4d>Generate Meal Plans</span></div><div class="feature" data-v-0bf7ae4d><i class="fas fa-chart-line" data-v-0bf7ae4d></i><span data-v-0bf7ae4d>Track Progress</span></div>',3))]),o.hasNutritionProfile?((0,s.uX)(),(0,s.CE)("div",Vs,[(0,s.Lk)("div",$s,[t[3]||(t[3]=(0,s.Lk)("span",{class:"stat-label"},"Daily Calories",-1)),(0,s.Lk)("span",Ns,(0,l.v_)(a.nutritionProfile?.calorie_target||2e3),1)]),(0,s.Lk)("div",Us,[t[4]||(t[4]=(0,s.Lk)("span",{class:"stat-label"},"Protein Goal",-1)),(0,s.Lk)("span",Bs,(0,l.v_)(Math.round(a.nutritionProfile?.protein_target||0))+"g",1)])])):((0,s.uX)(),(0,s.CE)("div",Rs,t[5]||(t[5]=[(0,s.Lk)("i",{class:"fas fa-arrow-right"},null,-1),(0,s.Lk)("span",null,"Complete your nutrition profile to get started",-1)])))]),(0,s.Lk)("div",Hs,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=t=>e.$emit("navigate-to-meal-planning")),class:"btn btn-primary"},t[6]||(t[6]=[(0,s.Lk)("i",{class:"fas fa-utensils"},null,-1),(0,s.eW)(" Open Meal Planning ")]))])])}var js={name:"MealPlanningCard",props:{nutritionProfile:{type:Object,default:null}},emits:["navigate-to-meal-planning"],data(){return{recipeCount:5e3}},computed:{hasNutritionProfile(){return this.nutritionProfile&&this.nutritionProfile.calorie_target}}};const Gs=(0,b.A)(js,[["render",Os],["__scopeId","data-v-0bf7ae4d"]]);var qs=Gs;const Qs={class:"milestone-modal"},zs={class:"confetti-container"},Js={class:"modal-content"},Ks={class:"achievement-header"},Ys={class:"achievement-subtitle"},Zs={class:"milestones-list"},er={class:"milestone-icon"},tr={class:"milestone-content"},ar={class:"milestone-details"},ir={class:"milestone-type"},sr={key:0,class:"milestone-value"},rr={key:0,class:"progress-impact"},or={class:"impact-details"},nr={class:"impact-item"},lr={class:"impact-value"},cr={class:"impact-item"},dr={class:"impact-value"},ur={key:1,class:"sharing-section"},hr={class:"sharing-buttons"},gr={class:"modal-actions"};function pr(e,t,a,r,o,n){return(0,s.uX)(),(0,s.CE)("div",{class:"milestone-modal-overlay",onClick:t[5]||(t[5]=(0,i.D$)(t=>e.$emit("close"),["self"]))},[(0,s.Lk)("div",Qs,[(0,s.Lk)("div",zs,[((0,s.uX)(),(0,s.CE)(s.FK,null,(0,s.pI)(50,e=>(0,s.Lk)("div",{key:e,class:"confetti",style:(0,l.Tr)(n.getConfettiStyle(e))},null,4)),64))]),(0,s.Lk)("div",Js,[(0,s.Lk)("div",Ks,[t[6]||(t[6]=(0,s.Lk)("div",{class:"achievement-icon"},"🏆",-1)),(0,s.Lk)("h2",null,(0,l.v_)(n.getModalTitle()),1),(0,s.Lk)("p",Ys,(0,l.v_)(n.getModalSubtitle()),1)]),(0,s.Lk)("div",Zs,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.milestones,(e,t)=>((0,s.uX)(),(0,s.CE)("div",{key:t,class:"milestone-card",style:(0,l.Tr)({animationDelay:.2*t+"s"})},[(0,s.Lk)("div",er,(0,l.v_)(n.getMilestoneIcon(e.milestone_type)),1),(0,s.Lk)("div",tr,[(0,s.Lk)("h3",null,(0,l.v_)(e.description),1),(0,s.Lk)("div",ar,[(0,s.Lk)("span",ir,(0,l.v_)(n.getMilestoneTypeLabel(e.milestone_type)),1),e.progress_value?((0,s.uX)(),(0,s.CE)("span",sr,(0,l.v_)(n.formatProgressValue(e)),1)):(0,s.Q3)("",!0)])])],4))),128))]),a.showProgressImpact?((0,s.uX)(),(0,s.CE)("div",rr,[t[9]||(t[9]=(0,s.Lk)("h4",null,"Impact on Your Wellness Score",-1)),(0,s.Lk)("div",or,[(0,s.Lk)("div",nr,[t[7]||(t[7]=(0,s.Lk)("span",{class:"impact-label"},"Progress Score Boost:",-1)),(0,s.Lk)("span",lr,"+"+(0,l.v_)(5*a.milestones.length)+" points",1)]),(0,s.Lk)("div",cr,[t[8]||(t[8]=(0,s.Lk)("span",{class:"impact-label"},"Total Milestones:",-1)),(0,s.Lk)("span",dr,(0,l.v_)(a.totalMilestones)+" achieved",1)])])])):(0,s.Q3)("",!0),a.showSharing?((0,s.uX)(),(0,s.CE)("div",ur,[t[13]||(t[13]=(0,s.Lk)("h4",null,"Share Your Achievement",-1)),(0,s.Lk)("div",hr,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=e=>n.shareToSocial("twitter")),class:"share-btn twitter"},t[10]||(t[10]=[(0,s.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[(0,s.Lk)("path",{d:"M23 3a10.9 10.9 0 01-3.14 1.53 4.48 4.48 0 00-7.86 3v1A10.66 10.66 0 013 4s-4 9 5 13a11.64 11.64 0 01-7 2c9 5 20 0 20-11.5a4.5 4.5 0 00-.08-.83A7.72 7.72 0 0023 3z"})],-1),(0,s.eW)(" Tweet ")])),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>n.shareToSocial("facebook")),class:"share-btn facebook"},t[11]||(t[11]=[(0,s.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"currentColor"},[(0,s.Lk)("path",{d:"M18 2h-3a5 5 0 00-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 011-1h3z"})],-1),(0,s.eW)(" Share ")])),(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>n.copyToClipboard&&n.copyToClipboard(...e)),class:"share-btn copy"},t[12]||(t[12]=[(0,s.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2"},[(0,s.Lk)("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",ry:"2"}),(0,s.Lk)("path",{d:"M5 15H4a2 2 0 01-2-2V4a2 2 0 012-2h9a2 2 0 012 2v1"})],-1),(0,s.eW)(" Copy ")]))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",gr,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("close")),class:"btn btn-primary"}," Continue Your Journey "),(0,s.Lk)("button",{onClick:t[4]||(t[4]=(...e)=>n.viewAllMilestones&&n.viewAllMilestones(...e)),class:"btn btn-secondary"}," View All Achievements ")])])])])}var vr={name:"MilestoneAchievementModal",props:{milestones:{type:Array,required:!0},showProgressImpact:{type:Boolean,default:!0},showSharing:{type:Boolean,default:!0},totalMilestones:{type:Number,default:0}},emits:["close"],methods:{getModalTitle(){return 1===this.milestones.length?"Achievement Unlocked!":`${this.milestones.length} New Achievements!`},getModalSubtitle(){return 1===this.milestones.length?"Congratulations on reaching this milestone!":"You're making incredible progress on your wellness journey!"},getMilestoneIcon(e){const t={weight:"⚖️",activity:"🏃",habit:"🔄",goal:"🎯",streak:"🔥"};return t[e]||"🏆"},getMilestoneTypeLabel(e){const t={weight:"Weight Goal",activity:"Activity Milestone",habit:"Habit Streak",goal:"Goal Achievement",streak:"Streak Milestone"};return t[e]||"Achievement"},formatProgressValue(e){if(!e.progress_value)return"";switch(e.milestone_type){case"weight":return`${e.progress_value} kg`;case"activity":return`${e.progress_value} days/week`;case"habit":return`${e.progress_value} day streak`;default:return e.progress_value}},getConfettiStyle(e){const t=["#FFD700","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF"];return{backgroundColor:t[e%t.length],left:100*Math.random()+"vw",animationDelay:3*Math.random()+"s",animationDuration:3*Math.random()+2+"s"}},shareToSocial(e){const t=this.getShareText(),a=window.location.origin;let i="";switch(e){case"twitter":i=`https://twitter.com/intent/tweet?text=${encodeURIComponent(t)}&url=${encodeURIComponent(a)}`;break;case"facebook":i=`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(a)}&quote=${encodeURIComponent(t)}`;break}i&&window.open(i,"_blank","width=600,height=400")},async copyToClipboard(){const e=this.getShareText();try{await navigator.clipboard.writeText(e)}catch(t){console.error("Failed to copy to clipboard:",t)}},getShareText(){return 1===this.milestones.length?`Just achieved a new milestone: ${this.milestones[0].description} 🏆 #WellnessJourney #HealthGoals`:`Just unlocked ${this.milestones.length} new achievements on my wellness journey! 🏆 #WellnessJourney #HealthGoals`},viewAllMilestones(){this.$emit("close"),this.$router.push("/achievements")}}};const mr=(0,b.A)(vr,[["render",pr],["__scopeId","data-v-597e4ab6"]]);var fr=mr,kr={name:"Dashboard",components:{WellnessScoreCard:At,BmiStatusCard:Tt,ActivityLevelCard:Rt,MealPlanningCard:qs,WeightHistoryCard:Pa,AiInsightsCard:ai,MilestonesCard:Ai,AddWeightModal:hi,ActivitiesCard:xs,MilestoneAchievementModal:fr},data(){return{profile:null,weightHistory:[],insights:[],insightsLoading:!1,activities:[],recentMilestones:[],milestoneSummary:null,newMilestones:[],achievedMilestones:[],loading:!0,error:null,bmi:null,rawWellnessScore:null,weightChange:null,lastUpdated:null,showAddWeightModal:!1,showMilestoneModal:!1,newWeight:null,weightLoading:!1,weightError:null,nutritionProfile:null}},computed:{currentUser(){return this.$store.getters["auth/currentUser"]},hasProfileData(){return this.profile&&this.profile.height_cm&&this.profile.weight_kg},formattedWellnessScore(){return Ve.formatWellnessScore(this.rawWellnessScore)},enhancedUserData(){return{...this.profile,bmi:this.bmi,recentActivities:Array.isArray(this.activities)?this.activities.length:0,recentMilestones:Array.isArray(this.recentMilestones)?this.recentMilestones.length:0,restrictions:this.getUserRestrictions(),nutritionProfile:this.nutritionProfile,hasNutritionProfile:!!this.nutritionProfile}}},async mounted(){this.currentUser?await this.initializeDashboard():this.$router.push("/login")},methods:{async initializeDashboard(){try{this.loading=!0,this.error=null,await this.fetchHealthData(),this.hasProfileData&&await Promise.all([this.calculateBMI(),this.fetchAnalyticsData(),this.calculateWeightChange()]),this.lastUpdated=new Date}catch(e){console.error("Dashboard initialization error:",e),this.error="Failed to load your health data. Please try again."}finally{this.loading=!1}},async fetchHealthData(){try{const[i,s]=await Promise.all([Te.A.getHealthProfile(),Te.A.getWeightHistory()]);try{const{mealPlanningApi:e}=await Promise.resolve().then(a.bind(a,5090)),t=await e.getNutritionProfile();this.nutritionProfile=t.data}catch(e){console.warn("Nutrition profile not found:",e),this.nutritionProfile=null}this.profile=i.data,s.data&&s.data.results?this.weightHistory=s.data.results:Array.isArray(s.data)?this.weightHistory=s.data:this.weightHistory=[];const r=(new Date).toISOString().split("T")[0],o=(()=>{const e=new Date;return e.setDate(e.getDate()-14),e.toISOString().split("T")[0]})();try{const e=await Be.getActivitiesByDateRange(o,r);e.data&&e.data.results?this.activities=e.data.results:Array.isArray(e.data)?this.activities=e.data:this.activities=[]}catch(t){console.error("Error fetching activities:",t),this.activities=[]}}catch(i){throw console.error("Error fetching health data:",i),i.response&&404===i.response.status?this.error="Please complete your health profile to view your dashboard.":this.error="Failed to load health data. Please try again.",i}},async fetchAnalyticsData(){try{const e=await Ve.getDashboardAnalytics();this.rawWellnessScore=e.wellnessScore,this.recentMilestones=e.milestones,this.milestoneSummary=e.milestoneSummary,this.insights=e.insights,!this.rawWellnessScore&&this.hasProfileData&&await this.recalculateWellnessScore()}catch(e){console.error("Error fetching analytics data:",e)}},async recalculateWellnessScore(){try{const e=await Ve.calculateWellnessScore({weekly_activity_days:this.getWeeklyActivityDays()});this.rawWellnessScore=e.data,e.data.milestones_achieved&&e.data.milestones_achieved.length>0&&(this.achievedMilestones=e.data.milestones_achieved,this.showMilestoneModal=!0,await this.fetchRecentMilestones())}catch(e){console.error("Error calculating wellness score:",e),this.rawWellnessScore={total_score:0,components:{bmi:{score:0,status:"Not Available"},activity:{score:0,status:"Not Available"},progress:{score:0,status:"Not Available"},habits:{score:0,status:"Not Available"},nutrition:{score:0,status:"Not Available"}},breakdown:{message:"Unable to calculate wellness score. Please check your network connection and try again.",last_updated:(new Date).toISOString()}},this.$toast&&this.$toast.error("Unable to calculate wellness score. Some features may not work properly.")}},async fetchRecentMilestones(){try{const e=await Ve.getRecentMilestones(30);e.data&&e.data.milestones?this.recentMilestones=Array.isArray(e.data.milestones)?e.data.milestones.filter(e=>null!==e):[]:e.data&&e.data.results?this.recentMilestones=Array.isArray(e.data.results)?e.data.results.filter(e=>null!==e):[]:Array.isArray(e.data)?this.recentMilestones=e.data.filter(e=>null!==e):this.recentMilestones=[]}catch(e){console.error("Error fetching milestones:",e),this.recentMilestones=[]}},calculateBMI(){this.profile.height_cm&&this.profile.weight_kg&&(this.bmi=Ne.calculateBMI(this.profile.height_cm,this.profile.weight_kg))},calculateWeightChange(){if(!this.weightHistory||this.weightHistory.length<2)this.weightChange=0;else try{const e=[...this.weightHistory].sort((e,t)=>new Date(t.recorded_at)-new Date(e.recorded_at));this.weightChange=e[0].weight_kg-e[1].weight_kg}catch(e){this.weightChange=0}},getWeeklyActivityDays(){if(!Array.isArray(this.activities))return 0;try{const e=new Date,t=new Date(e);t.setDate(e.getDate()-e.getDay());const a=this.activities.filter(e=>{const a=new Date(e.performed_at);return a>=t}),i=new Set(a.map(e=>new Date(e.performed_at).toDateString()));return i.size}catch(e){return console.error("Error calculating weekly activity days:",e),0}},getUserRestrictions(){if(!this.profile)return[];const e=[];return this.profile.is_gluten_free&&e.push("gluten_free"),this.profile.is_dairy_free&&e.push("dairy_free"),this.profile.is_nut_free&&e.push("nut_free"),this.profile.has_other_restrictions&&this.profile.other_restrictions_note&&e.push(this.profile.other_restrictions_note),e},async saveNewWeight(e){if(!e||e<20||e>300)this.weightError="Please enter a valid weight between 20 and 300 kg";else{this.weightLoading=!0,this.weightError=null;try{await Te.A.addWeightEntry(e),await Te.A.updateHealthProfile({...this.profile,weight_kg:e}),await this.fetchHealthData(),this.calculateBMI(),this.calculateWeightChange();const t=await Ve.checkForNewMilestones({weight_kg:e});t.length>0&&(this.achievedMilestones=t,this.showMilestoneModal=!0),await this.recalculateWellnessScore(),this.showAddWeightModal=!1}catch(t){this.weightError="Failed to save weight. Please try again."}finally{this.weightLoading=!1}}},async onActivityAdded(){await this.fetchHealthData(),await this.recalculateWellnessScore()},onWeightGoalAchieved(){this.achievedMilestones.push({milestone_type:"weight",description:`Congratulations! You've reached your weight goal of ${this.profile.target_weight_kg}kg!`}),this.showMilestoneModal=!0},onMilestoneAchieved(e){this.newMilestones.push(e),this.fetchRecentMilestones()},dismissMilestones(){this.newMilestones=[]},closeMilestoneModal(){this.showMilestoneModal=!1,this.achievedMilestones=[]},getMilestoneIcon(e){const t={weight:"⚖️",activity:"🏃",habit:"🔄"};return t[e]||"🏆"},getUsernameDisplay(){if(this.currentUser){if(this.currentUser.username)return this.currentUser.username;if(this.currentUser.access)try{const e=this.currentUser.access.split(".")[1],t=e.replace(/-/g,"+").replace(/_/g,"/"),a=decodeURIComponent(atob(t).split("").map(e=>"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)).join("")),i=JSON.parse(a);return i.username||`User #${i.user_id}`}catch(e){console.error("Error extracting username from token:",e)}}return"User"},formatDateTime(e){return new Date(e).toLocaleString(void 0,{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},async generateInsights(){if(this.hasProfileData){this.insightsLoading=!0;try{const e=await Ve.generateInsights(this.enhancedUserData);this.insights=e.data||[]}catch(e){console.error("Error generating insights:",e),this.insights=[]}finally{this.insightsLoading=!1}}},async regenerateInsights(){this.insightsLoading=!0;try{await Ve.generateInsights(this.enhancedUserData,!0),await this.fetchAnalyticsData()}catch(e){console.error("Regeneration error:",e)}finally{this.insightsLoading=!1}},navigateToMealPlanning(){this.$router.push("/meal-planning")}}};const yr=(0,b.A)(kr,[["render",Ie],["__scopeId","data-v-50d6c83a"]]);var br=yr;const wr={class:"profile-container"},_r={class:"profile-header"},Lr={class:"header-content"},Cr={class:"profile-completion"},Ar={class:"completion-circle"},Sr={class:"progress-ring",width:"60",height:"60"},Er={class:"completion-text"},Pr={class:"profile-tabs-container"},Mr={class:"profile-tabs",role:"tablist"},Dr=["onClick","aria-selected"],Fr={class:"tab-icon"},xr={class:"tab-content"},Ir={class:"tab-title"},Tr={class:"tab-description"},Xr={key:0,class:"tab-indicator"},Wr={class:"tab-panels"},Vr={key:0,class:"tab-panel",role:"tabpanel"},$r={key:0,class:"loading-state"},Nr={class:"form-card"},Ur={class:"card-content"},Br={class:"form-grid"},Rr={class:"form-group"},Hr={class:"input-group"},Or={key:0,class:"error-message"},jr={class:"form-group"},Gr={class:"form-card"},qr={class:"card-content"},Qr={class:"form-grid"},zr={class:"form-group"},Jr={class:"input-group"},Kr={key:0,class:"error-message"},Yr={class:"form-group"},Zr={class:"input-group"},eo={key:0,class:"error-message"},to={key:0,class:"metrics-display"},ao={class:"metric-card"},io={class:"metric-info"},so={class:"metric-value"},ro={class:"value"},oo={class:"form-actions"},no=["disabled"],lo=["disabled"],co={key:0,class:"btn-loading"},uo={key:1,class:"btn-content"},ho={key:1,class:"tab-panel",role:"tabpanel"},go={class:"nutrition-wrapper"},po={key:2,class:"tab-panel",role:"tabpanel"},vo={class:"form-card"},mo={class:"card-content"},fo={class:"form-group"},ko={class:"number-input-container"},yo={class:"number-slider"},bo={class:"form-group"},wo={class:"activity-grid"},_o={class:"form-card"},Lo={class:"card-content"},Co={class:"form-grid"},Ao={class:"form-group"},So={class:"form-group"},Eo={class:"form-grid"},Po={class:"form-group"},Mo={class:"form-group"},Do={class:"form-card"},Fo={class:"card-content"},xo={class:"form-grid"},Io={class:"form-group"},To={class:"input-group"},Xo={class:"form-group"},Wo={class:"input-group"},Vo={class:"form-group"},$o={class:"input-group"},No={class:"form-actions"},Uo=["disabled"],Bo=["disabled"],Ro={key:0,class:"btn-loading"},Ho={key:1,class:"btn-content"},Oo={key:3,class:"tab-panel",role:"tabpanel"},jo={class:"form-card"},Go={class:"card-content"},qo={class:"form-group"},Qo={class:"form-group"},zo={class:"form-group"},Jo={key:0,class:"form-group"},Ko={class:"input-group"},Yo={key:1,class:"achievement-card"},Zo={class:"achievement-content"},en={class:"form-card"},tn={class:"card-content"},an={class:"form-group"},sn={class:"form-group"},rn={class:"restriction-grid"},on={key:0,class:"form-group"},nn={class:"form-card"},ln={class:"card-content"},cn={class:"privacy-setting"},dn={class:"privacy-toggle"},un={class:"form-actions"},hn=["disabled"],gn=["disabled"],pn={key:0,class:"btn-loading"},vn={key:1,class:"btn-content"},mn={class:"status-icon"},fn={class:"status-content"};function kn(e,t,a,r,o,n){const c=(0,s.g2)("FormSelect"),d=(0,s.g2)("nutrition-profile-setup");return(0,s.uX)(),(0,s.CE)("div",wr,[(0,s.Lk)("div",_r,[(0,s.Lk)("div",Lr,[t[36]||(t[36]=(0,s.Lk)("div",{class:"header-text"},[(0,s.Lk)("h1",{class:"profile-title"},"Your Profile"),(0,s.Lk)("p",{class:"profile-subtitle"},"Complete your profile to unlock personalized recommendations and insights")],-1)),(0,s.Lk)("div",Cr,[(0,s.Lk)("div",Ar,[((0,s.uX)(),(0,s.CE)("svg",Sr,[(0,s.Lk)("circle",{class:"progress-ring-circle",stroke:"currentColor","stroke-width":"4",fill:"transparent",r:"26",cx:"30",cy:"30",style:(0,l.Tr)({strokeDasharray:1.63*n.completionPercentage+" 163",strokeDashoffset:0})},null,4)])),(0,s.Lk)("span",Er,(0,l.v_)(n.completionPercentage)+"%",1)]),t[35]||(t[35]=(0,s.Lk)("span",{class:"completion-label"},"Complete",-1))])])]),(0,s.Lk)("div",Pr,[(0,s.Lk)("nav",Mr,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.tabs,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.id,onClick:t=>o.activeTab=e.id,class:(0,l.C4)(["tab-item",{active:o.activeTab===e.id}]),"aria-selected":o.activeTab===e.id,role:"tab"},[(0,s.Lk)("div",Fr,[(0,s.Lk)("i",{class:(0,l.C4)(e.icon)},null,2)]),(0,s.Lk)("div",xr,[(0,s.Lk)("span",Ir,(0,l.v_)(e.title),1),(0,s.Lk)("span",Tr,(0,l.v_)(e.description),1)]),o.activeTab===e.id?((0,s.uX)(),(0,s.CE)("div",Xr)):(0,s.Q3)("",!0)],10,Dr))),128))])]),(0,s.Lk)("div",Wr,["general"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",Vr,[o.loading?((0,s.uX)(),(0,s.CE)("div",$r,t[37]||(t[37]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",{class:"loading-text"},"Loading your profile data...",-1)]))):((0,s.uX)(),(0,s.CE)("form",{key:1,onSubmit:t[5]||(t[5]=(0,i.D$)((...e)=>n.saveProfile&&n.saveProfile(...e),["prevent"])),class:"profile-form"},[(0,s.Lk)("div",Nr,[t[41]||(t[41]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-user-circle"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Personal Information"),(0,s.Lk)("p",null,"Basic information to personalize your experience")])],-1)),(0,s.Lk)("div",Ur,[(0,s.Lk)("div",Br,[(0,s.Lk)("div",Rr,[t[39]||(t[39]=(0,s.Lk)("label",{for:"age",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Age"),(0,s.Lk)("span",{class:"label-required"},"*")],-1)),(0,s.Lk)("div",Hr,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"age","onUpdate:modelValue":t[0]||(t[0]=e=>o.profile.age=e),placeholder:"Enter your age",min:"13",max:"120",class:(0,l.C4)(["form-input",{error:o.validationErrors.age}])},null,2),[[i.Jo,o.profile.age,void 0,{number:!0}]]),t[38]||(t[38]=(0,s.Lk)("div",{class:"input-suffix"},"years",-1))]),o.validationErrors.age?((0,s.uX)(),(0,s.CE)("span",Or,(0,l.v_)(o.validationErrors.age),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",jr,[t[40]||(t[40]=(0,s.Lk)("label",{for:"gender",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Gender")],-1)),(0,s.bF)(c,{id:"gender",modelValue:o.profile.gender,"onUpdate:modelValue":t[1]||(t[1]=e=>o.profile.gender=e),placeholder:"Select gender",options:[{value:"M",label:"Male"},{value:"F",label:"Female"},{value:"O",label:"Other"}]},null,8,["modelValue"])])])])]),(0,s.Lk)("div",Gr,[t[48]||(t[48]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-weight"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Physical Metrics"),(0,s.Lk)("p",null,"Height and weight for health calculations")])],-1)),(0,s.Lk)("div",qr,[(0,s.Lk)("div",Qr,[(0,s.Lk)("div",zr,[t[43]||(t[43]=(0,s.Lk)("label",{for:"height",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Height")],-1)),(0,s.Lk)("div",Jr,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"height","onUpdate:modelValue":t[2]||(t[2]=e=>o.profile.height_cm=e),placeholder:"170",min:"100",max:"250",step:"0.1",class:(0,l.C4)(["form-input",{error:o.validationErrors.height_cm}])},null,2),[[i.Jo,o.profile.height_cm,void 0,{number:!0}]]),t[42]||(t[42]=(0,s.Lk)("div",{class:"input-suffix"},"cm",-1))]),o.validationErrors.height_cm?((0,s.uX)(),(0,s.CE)("span",Kr,(0,l.v_)(o.validationErrors.height_cm),1)):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Yr,[t[45]||(t[45]=(0,s.Lk)("label",{for:"weight",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Weight")],-1)),(0,s.Lk)("div",Zr,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"weight","onUpdate:modelValue":t[3]||(t[3]=e=>o.profile.weight_kg=e),placeholder:"70",min:"30",max:"300",step:"0.1",class:(0,l.C4)(["form-input",{error:o.validationErrors.weight_kg}])},null,2),[[i.Jo,o.profile.weight_kg,void 0,{number:!0}]]),t[44]||(t[44]=(0,s.Lk)("div",{class:"input-suffix"},"kg",-1))]),o.validationErrors.weight_kg?((0,s.uX)(),(0,s.CE)("span",eo,(0,l.v_)(o.validationErrors.weight_kg),1)):(0,s.Q3)("",!0)])]),o.profile.height_cm&&o.profile.weight_kg?((0,s.uX)(),(0,s.CE)("div",to,[(0,s.Lk)("div",ao,[t[47]||(t[47]=(0,s.Lk)("div",{class:"metric-icon"},[(0,s.Lk)("i",{class:"fas fa-chart-line"})],-1)),(0,s.Lk)("div",io,[t[46]||(t[46]=(0,s.Lk)("span",{class:"metric-label"},"Body Mass Index",-1)),(0,s.Lk)("div",so,[(0,s.Lk)("span",ro,(0,l.v_)(n.calculateBMI().toFixed(1)),1),(0,s.Lk)("span",{class:(0,l.C4)(["category",n.getBMICategoryClass()])},(0,l.v_)(n.getBMICategory()),3)])])])])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",oo,[(0,s.Lk)("button",{type:"button",class:"btn btn-outline",onClick:t[4]||(t[4]=(...e)=>n.resetForm&&n.resetForm(...e)),disabled:o.saveLoading},t[49]||(t[49]=[(0,s.Lk)("i",{class:"fas fa-undo"},null,-1),(0,s.eW)(" Reset Changes ")]),8,no),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.saveLoading||Object.keys(o.validationErrors).length>0},[o.saveLoading?((0,s.uX)(),(0,s.CE)("span",co,t[50]||(t[50]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,s.eW)(" Saving... ")]))):((0,s.uX)(),(0,s.CE)("span",uo,t[51]||(t[51]=[(0,s.Lk)("i",{class:"fas fa-save"},null,-1),(0,s.eW)(" Save Profile ")])))],8,lo)])],32))])):(0,s.Q3)("",!0),"nutrition"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",ho,[(0,s.Lk)("div",go,[t[52]||(t[52]=(0,s.Fv)('<div class="nutrition-intro" data-v-3fd0c8e4><div class="intro-card" data-v-3fd0c8e4><div class="intro-icon" data-v-3fd0c8e4><i class="fas fa-leaf" data-v-3fd0c8e4></i></div><div class="intro-content" data-v-3fd0c8e4><h3 data-v-3fd0c8e4>Nutrition Profile</h3><p data-v-3fd0c8e4>Set up your nutrition preferences to get personalized meal recommendations and track your dietary goals.</p></div></div></div>',1)),(0,s.bF)(d,{profile:o.nutritionProfile,loading:o.nutritionProfileLoading,onProfileUpdated:n.onNutritionProfileUpdated},null,8,["profile","loading","onProfileUpdated"])])])):(0,s.Q3)("",!0),"activity"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",po,[(0,s.Lk)("form",{onSubmit:t[20]||(t[20]=(0,i.D$)((...e)=>n.saveProfile&&n.saveProfile(...e),["prevent"])),class:"profile-form"},[(0,s.Lk)("div",vo,[t[61]||(t[61]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-running"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Current Activity Level"),(0,s.Lk)("p",null,"Tell us about your current exercise routine")])],-1)),(0,s.Lk)("div",mo,[(0,s.Lk)("div",fo,[t[54]||(t[54]=(0,s.Lk)("label",{for:"weeklyActivityDays",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Exercise days per week")],-1)),(0,s.Lk)("div",ko,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"weeklyActivityDays","onUpdate:modelValue":t[6]||(t[6]=e=>o.profile.weekly_activity_days=e),min:"0",max:"7",placeholder:"0",class:"form-input number-input"},null,512),[[i.Jo,o.profile.weekly_activity_days,void 0,{number:!0}]]),(0,s.Lk)("div",yo,[(0,s.bo)((0,s.Lk)("input",{type:"range",min:"0",max:"7","onUpdate:modelValue":t[7]||(t[7]=e=>o.profile.weekly_activity_days=e),class:"slider"},null,512),[[i.Jo,o.profile.weekly_activity_days,void 0,{number:!0}]]),t[53]||(t[53]=(0,s.Lk)("div",{class:"slider-labels"},[(0,s.Lk)("span",null,"0"),(0,s.Lk)("span",null,"7")],-1))])]),t[55]||(t[55]=(0,s.Lk)("small",{class:"form-help"},"Select how many days per week you currently exercise",-1))]),(0,s.Lk)("div",bo,[t[60]||(t[60]=(0,s.Lk)("label",{class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Types of exercise you do")],-1)),(0,s.Lk)("div",wo,[(0,s.Lk)("div",{class:(0,l.C4)(["activity-card",{active:o.profile.does_cardio}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"cardio","onUpdate:modelValue":t[8]||(t[8]=e=>o.profile.does_cardio=e),class:"activity-checkbox"},null,512),[[i.lH,o.profile.does_cardio]]),t[56]||(t[56]=(0,s.Fv)('<label for="cardio" class="activity-label" data-v-3fd0c8e4><div class="activity-icon" data-v-3fd0c8e4><i class="fas fa-heartbeat" data-v-3fd0c8e4></i></div><div class="activity-info" data-v-3fd0c8e4><span class="activity-name" data-v-3fd0c8e4>Cardio</span><span class="activity-desc" data-v-3fd0c8e4>Running, cycling, swimming</span></div></label>',1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["activity-card",{active:o.profile.does_strength}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"strength","onUpdate:modelValue":t[9]||(t[9]=e=>o.profile.does_strength=e),class:"activity-checkbox"},null,512),[[i.lH,o.profile.does_strength]]),t[57]||(t[57]=(0,s.Fv)('<label for="strength" class="activity-label" data-v-3fd0c8e4><div class="activity-icon" data-v-3fd0c8e4><i class="fas fa-dumbbell" data-v-3fd0c8e4></i></div><div class="activity-info" data-v-3fd0c8e4><span class="activity-name" data-v-3fd0c8e4>Strength</span><span class="activity-desc" data-v-3fd0c8e4>Weights, resistance</span></div></label>',1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["activity-card",{active:o.profile.does_flexibility}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"flexibility","onUpdate:modelValue":t[10]||(t[10]=e=>o.profile.does_flexibility=e),class:"activity-checkbox"},null,512),[[i.lH,o.profile.does_flexibility]]),t[58]||(t[58]=(0,s.Fv)('<label for="flexibility" class="activity-label" data-v-3fd0c8e4><div class="activity-icon" data-v-3fd0c8e4><i class="fas fa-leaf" data-v-3fd0c8e4></i></div><div class="activity-info" data-v-3fd0c8e4><span class="activity-name" data-v-3fd0c8e4>Flexibility</span><span class="activity-desc" data-v-3fd0c8e4>Yoga, stretching</span></div></label>',1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["activity-card",{active:o.profile.does_sports}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"sports","onUpdate:modelValue":t[11]||(t[11]=e=>o.profile.does_sports=e),class:"activity-checkbox"},null,512),[[i.lH,o.profile.does_sports]]),t[59]||(t[59]=(0,s.Fv)('<label for="sports" class="activity-label" data-v-3fd0c8e4><div class="activity-icon" data-v-3fd0c8e4><i class="fas fa-futbol" data-v-3fd0c8e4></i></div><div class="activity-info" data-v-3fd0c8e4><span class="activity-name" data-v-3fd0c8e4>Sports</span><span class="activity-desc" data-v-3fd0c8e4>Team &amp; racket sports</span></div></label>',1))],2)])])])]),(0,s.Lk)("div",_o,[t[70]||(t[70]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-clock"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Workout Details"),(0,s.Lk)("p",null,"Information about your typical workouts")])],-1)),(0,s.Lk)("div",Lo,[(0,s.Lk)("div",Co,[(0,s.Lk)("div",Ao,[t[63]||(t[63]=(0,s.Lk)("label",{for:"sessionDuration",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Average workout duration")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"sessionDuration","onUpdate:modelValue":t[12]||(t[12]=e=>o.profile.avg_session_duration=e),class:"form-select"},t[62]||(t[62]=[(0,s.Lk)("option",{value:""},"Select duration",-1),(0,s.Lk)("option",{value:"short"},"15-30 minutes",-1),(0,s.Lk)("option",{value:"medium"},"30-60 minutes",-1),(0,s.Lk)("option",{value:"long"},"60+ minutes",-1)]),512),[[i.u1,o.profile.avg_session_duration]])]),(0,s.Lk)("div",So,[t[65]||(t[65]=(0,s.Lk)("label",{for:"fitnessLevel",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Current fitness level")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"fitnessLevel","onUpdate:modelValue":t[13]||(t[13]=e=>o.profile.fitness_level=e),class:"form-select"},t[64]||(t[64]=[(0,s.Lk)("option",{value:""},"Select level",-1),(0,s.Lk)("option",{value:"beginner"},"Beginner - New to exercise",-1),(0,s.Lk)("option",{value:"intermediate"},"Intermediate - 3+ months active",-1),(0,s.Lk)("option",{value:"advanced"},"Advanced - 1+ years training",-1)]),512),[[i.u1,o.profile.fitness_level]])])]),(0,s.Lk)("div",Eo,[(0,s.Lk)("div",Po,[t[67]||(t[67]=(0,s.Lk)("label",{for:"environment",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Preferred environment")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"environment","onUpdate:modelValue":t[14]||(t[14]=e=>o.profile.preferred_environment=e),class:"form-select"},t[66]||(t[66]=[(0,s.Lk)("option",{value:""},"Select preference",-1),(0,s.Lk)("option",{value:"home"},"Home",-1),(0,s.Lk)("option",{value:"gym"},"Gym",-1),(0,s.Lk)("option",{value:"outdoors"},"Outdoors",-1)]),512),[[i.u1,o.profile.preferred_environment]])]),(0,s.Lk)("div",Mo,[t[69]||(t[69]=(0,s.Lk)("label",{for:"timePreference",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Preferred time")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"timePreference","onUpdate:modelValue":t[15]||(t[15]=e=>o.profile.time_preference=e),class:"form-select"},t[68]||(t[68]=[(0,s.Lk)("option",{value:""},"Select time",-1),(0,s.Lk)("option",{value:"morning"},"Morning",-1),(0,s.Lk)("option",{value:"afternoon"},"Afternoon",-1),(0,s.Lk)("option",{value:"evening"},"Evening",-1)]),512),[[i.u1,o.profile.time_preference]])])])])]),(0,s.Lk)("div",Do,[t[77]||(t[77]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-tachometer-alt"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Physical Capacity"),(0,s.Lk)("p",null,"Help us understand your current fitness level")])],-1)),(0,s.Lk)("div",Fo,[(0,s.Lk)("div",xo,[(0,s.Lk)("div",Io,[t[72]||(t[72]=(0,s.Lk)("label",{for:"endurance",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Continuous walk/run duration")],-1)),(0,s.Lk)("div",To,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"endurance","onUpdate:modelValue":t[16]||(t[16]=e=>o.profile.endurance_minutes=e),placeholder:"15",min:"0",max:"300",class:"form-input"},null,512),[[i.Jo,o.profile.endurance_minutes,void 0,{number:!0}]]),t[71]||(t[71]=(0,s.Lk)("div",{class:"input-suffix"},"minutes",-1))])]),(0,s.Lk)("div",Xo,[t[74]||(t[74]=(0,s.Lk)("label",{for:"pushups",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Maximum pushups")],-1)),(0,s.Lk)("div",Wo,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"pushups","onUpdate:modelValue":t[17]||(t[17]=e=>o.profile.pushup_count=e),placeholder:"10",min:"0",max:"200",class:"form-input"},null,512),[[i.Jo,o.profile.pushup_count,void 0,{number:!0}]]),t[73]||(t[73]=(0,s.Lk)("div",{class:"input-suffix"},"reps",-1))])])]),(0,s.Lk)("div",Vo,[t[76]||(t[76]=(0,s.Lk)("label",{for:"squats",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Maximum bodyweight squats")],-1)),(0,s.Lk)("div",$o,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"squats","onUpdate:modelValue":t[18]||(t[18]=e=>o.profile.squat_count=e),placeholder:"20",min:"0",max:"200",class:"form-input"},null,512),[[i.Jo,o.profile.squat_count,void 0,{number:!0}]]),t[75]||(t[75]=(0,s.Lk)("div",{class:"input-suffix"},"reps",-1))])])])]),(0,s.Lk)("div",No,[(0,s.Lk)("button",{type:"button",class:"btn btn-outline",onClick:t[19]||(t[19]=(...e)=>n.resetForm&&n.resetForm(...e)),disabled:o.saveLoading},t[78]||(t[78]=[(0,s.Lk)("i",{class:"fas fa-undo"},null,-1),(0,s.eW)(" Reset Changes ")]),8,Uo),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.saveLoading||Object.keys(o.validationErrors).length>0},[o.saveLoading?((0,s.uX)(),(0,s.CE)("span",Ro,t[79]||(t[79]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,s.eW)(" Saving... ")]))):((0,s.uX)(),(0,s.CE)("span",Ho,t[80]||(t[80]=[(0,s.Lk)("i",{class:"fas fa-save"},null,-1),(0,s.eW)(" Save Profile ")])))],8,Bo)])],32)])):(0,s.Q3)("",!0),"goals"===o.activeTab?((0,s.uX)(),(0,s.CE)("div",Oo,[(0,s.Lk)("form",{onSubmit:t[33]||(t[33]=(0,i.D$)((...e)=>n.saveProfile&&n.saveProfile(...e),["prevent"])),class:"profile-form"},[(0,s.Lk)("div",jo,[t[91]||(t[91]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-bullseye"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Lifestyle & Goals"),(0,s.Lk)("p",null,"Tell us about your lifestyle and what you want to achieve")])],-1)),(0,s.Lk)("div",Go,[(0,s.Lk)("div",qo,[t[81]||(t[81]=(0,s.Lk)("label",{for:"occupation",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Occupation type")],-1)),(0,s.bo)((0,s.Lk)("input",{type:"text",id:"occupation","onUpdate:modelValue":t[21]||(t[21]=e=>o.profile.occupation_type=e),placeholder:"e.g., Office worker, Teacher, Construction",class:"form-input"},null,512),[[i.Jo,o.profile.occupation_type]])]),(0,s.Lk)("div",Qo,[t[83]||(t[83]=(0,s.Lk)("label",{for:"activity",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Overall activity level")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"activity","onUpdate:modelValue":t[22]||(t[22]=e=>o.profile.activity_level=e),class:"form-select"},t[82]||(t[82]=[(0,s.Fv)('<option value="sedentary" data-v-3fd0c8e4>Sedentary (little or no exercise)</option><option value="light" data-v-3fd0c8e4>Lightly Active (light exercise 1-3 days/week)</option><option value="moderate" data-v-3fd0c8e4>Moderately Active (moderate exercise 3-5 days/week)</option><option value="active" data-v-3fd0c8e4>Active (hard exercise 6-7 days/week)</option><option value="very_active" data-v-3fd0c8e4>Very Active (very hard exercise &amp; physical job)</option>',5)]),512),[[i.u1,o.profile.activity_level]]),t[84]||(t[84]=(0,s.Lk)("small",{class:"form-help"},"Choose the option that best describes your typical week",-1))]),(0,s.Lk)("div",zo,[t[86]||(t[86]=(0,s.Lk)("label",{for:"goal",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Primary fitness goal")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"goal","onUpdate:modelValue":t[23]||(t[23]=e=>o.profile.fitness_goal=e),class:"form-select"},t[85]||(t[85]=[(0,s.Fv)('<option value="weight_loss" data-v-3fd0c8e4>Weight Loss</option><option value="muscle_gain" data-v-3fd0c8e4>Muscle Gain</option><option value="general_fitness" data-v-3fd0c8e4>General Fitness</option><option value="endurance" data-v-3fd0c8e4>Endurance</option><option value="flexibility" data-v-3fd0c8e4>Flexibility</option>',5)]),512),[[i.u1,o.profile.fitness_goal]])]),"weight_loss"===o.profile.fitness_goal||"muscle_gain"===o.profile.fitness_goal?((0,s.uX)(),(0,s.CE)("div",Jo,[t[88]||(t[88]=(0,s.Lk)("label",{for:"target_weight",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Target weight")],-1)),(0,s.Lk)("div",Ko,[(0,s.bo)((0,s.Lk)("input",{type:"number",id:"target_weight","onUpdate:modelValue":t[24]||(t[24]=e=>o.profile.target_weight_kg=e),placeholder:"70",min:"30",max:"300",step:"0.1",class:"form-input"},null,512),[[i.Jo,o.profile.target_weight_kg,void 0,{number:!0}]]),t[87]||(t[87]=(0,s.Lk)("div",{class:"input-suffix"},"kg",-1))])])):(0,s.Q3)("",!0),n.isGoalAchieved?((0,s.uX)(),(0,s.CE)("div",Yo,[t[90]||(t[90]=(0,s.Lk)("div",{class:"achievement-icon"},[(0,s.Lk)("i",{class:"fas fa-trophy"})],-1)),(0,s.Lk)("div",Zo,[t[89]||(t[89]=(0,s.Lk)("h4",null,"Congratulations!",-1)),(0,s.Lk)("p",null,"You've reached your weight goal of "+(0,l.v_)(o.profile.target_weight_kg)+"kg!",1)])])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",en,[t[100]||(t[100]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-utensils"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Dietary Preferences"),(0,s.Lk)("p",null,"Help us tailor nutritional recommendations to your needs")])],-1)),(0,s.Lk)("div",tn,[(0,s.Lk)("div",an,[t[93]||(t[93]=(0,s.Lk)("label",{for:"dietaryPreference",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Primary dietary preference")],-1)),(0,s.bo)((0,s.Lk)("select",{id:"dietaryPreference","onUpdate:modelValue":t[25]||(t[25]=e=>o.profile.dietary_preference=e),class:"form-select"},t[92]||(t[92]=[(0,s.Fv)('<option value="" data-v-3fd0c8e4>Select preference</option><option value="omnivore" data-v-3fd0c8e4>Omnivore (Eats Everything)</option><option value="vegetarian" data-v-3fd0c8e4>Vegetarian</option><option value="vegan" data-v-3fd0c8e4>Vegan</option><option value="pescatarian" data-v-3fd0c8e4>Pescatarian</option><option value="keto" data-v-3fd0c8e4>Keto</option><option value="paleo" data-v-3fd0c8e4>Paleo</option>',7)]),512),[[i.u1,o.profile.dietary_preference]])]),(0,s.Lk)("div",sn,[t[98]||(t[98]=(0,s.Lk)("label",{class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Food restrictions & allergies")],-1)),(0,s.Lk)("div",rn,[(0,s.Lk)("div",{class:(0,l.C4)(["restriction-card",{active:o.profile.is_gluten_free}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"glutenFree","onUpdate:modelValue":t[26]||(t[26]=e=>o.profile.is_gluten_free=e),class:"restriction-checkbox"},null,512),[[i.lH,o.profile.is_gluten_free]]),t[94]||(t[94]=(0,s.Lk)("label",{for:"glutenFree",class:"restriction-label"},[(0,s.Lk)("i",{class:"fas fa-wheat"}),(0,s.eW)(" Gluten-Free ")],-1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["restriction-card",{active:o.profile.is_dairy_free}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"dairyFree","onUpdate:modelValue":t[27]||(t[27]=e=>o.profile.is_dairy_free=e),class:"restriction-checkbox"},null,512),[[i.lH,o.profile.is_dairy_free]]),t[95]||(t[95]=(0,s.Lk)("label",{for:"dairyFree",class:"restriction-label"},[(0,s.Lk)("i",{class:"fas fa-cheese"}),(0,s.eW)(" Dairy-Free ")],-1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["restriction-card",{active:o.profile.is_nut_free}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"nutFree","onUpdate:modelValue":t[28]||(t[28]=e=>o.profile.is_nut_free=e),class:"restriction-checkbox"},null,512),[[i.lH,o.profile.is_nut_free]]),t[96]||(t[96]=(0,s.Lk)("label",{for:"nutFree",class:"restriction-label"},[(0,s.Lk)("i",{class:"fas fa-seedling"}),(0,s.eW)(" Nut-Free ")],-1))],2),(0,s.Lk)("div",{class:(0,l.C4)(["restriction-card",{active:o.profile.has_other_restrictions}])},[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"otherRestrictions","onUpdate:modelValue":t[29]||(t[29]=e=>o.profile.has_other_restrictions=e),class:"restriction-checkbox"},null,512),[[i.lH,o.profile.has_other_restrictions]]),t[97]||(t[97]=(0,s.Lk)("label",{for:"otherRestrictions",class:"restriction-label"},[(0,s.Lk)("i",{class:"fas fa-plus"}),(0,s.eW)(" Other ")],-1))],2)])]),o.profile.has_other_restrictions?((0,s.uX)(),(0,s.CE)("div",on,[t[99]||(t[99]=(0,s.Lk)("label",{for:"otherRestrictionsNote",class:"form-label"},[(0,s.Lk)("span",{class:"label-text"},"Describe your other restrictions")],-1)),(0,s.bo)((0,s.Lk)("textarea",{id:"otherRestrictionsNote","onUpdate:modelValue":t[30]||(t[30]=e=>o.profile.other_restrictions_note=e),rows:"3",placeholder:"Please describe any other dietary restrictions or allergies",class:"form-textarea"},null,512),[[i.Jo,o.profile.other_restrictions_note]])])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",nn,[t[103]||(t[103]=(0,s.Lk)("div",{class:"card-header"},[(0,s.Lk)("div",{class:"card-icon"},[(0,s.Lk)("i",{class:"fas fa-shield-alt"})]),(0,s.Lk)("div",{class:"card-title"},[(0,s.Lk)("h3",null,"Privacy Settings"),(0,s.Lk)("p",null,"Control how your data is used")])],-1)),(0,s.Lk)("div",ln,[(0,s.Lk)("div",cn,[(0,s.Lk)("div",dn,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox",id:"data_sharing","onUpdate:modelValue":t[31]||(t[31]=e=>o.profile.data_sharing_consent=e),class:"toggle-checkbox"},null,512),[[i.lH,o.profile.data_sharing_consent]]),t[101]||(t[101]=(0,s.Lk)("label",{for:"data_sharing",class:"toggle-label"},[(0,s.Lk)("span",{class:"toggle-switch"})],-1))]),t[102]||(t[102]=(0,s.Lk)("div",{class:"privacy-content"},[(0,s.Lk)("h4",null,"Share data for personalized recommendations"),(0,s.Lk)("p",null,"We use this information only to provide personalized wellness recommendations. Your privacy is important to us.")],-1))])])]),(0,s.Lk)("div",un,[(0,s.Lk)("button",{type:"button",class:"btn btn-outline",onClick:t[32]||(t[32]=(...e)=>n.resetForm&&n.resetForm(...e)),disabled:o.saveLoading},t[104]||(t[104]=[(0,s.Lk)("i",{class:"fas fa-undo"},null,-1),(0,s.eW)(" Reset Changes ")]),8,hn),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.saveLoading||Object.keys(o.validationErrors).length>0},[o.saveLoading?((0,s.uX)(),(0,s.CE)("span",pn,t[105]||(t[105]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,s.eW)(" Saving... ")]))):((0,s.uX)(),(0,s.CE)("span",vn,t[106]||(t[106]=[(0,s.Lk)("i",{class:"fas fa-save"},null,-1),(0,s.eW)(" Save Profile ")])))],8,gn)])],32)])):(0,s.Q3)("",!0)]),o.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["status-message",o.successful?"success":"error"])},[(0,s.Lk)("div",mn,[(0,s.Lk)("i",{class:(0,l.C4)(o.successful?"fas fa-check-circle":"fas fa-exclamation-circle")},null,2)]),(0,s.Lk)("div",fn,[(0,s.Lk)("p",null,(0,l.v_)(o.message),1)]),(0,s.Lk)("button",{onClick:t[34]||(t[34]=e=>o.message=""),class:"status-close"},t[107]||(t[107]=[(0,s.Lk)("i",{class:"fas fa-times"},null,-1)]))],2)):(0,s.Q3)("",!0)])}const yn={class:"form-select-wrapper"},bn=["for"],wn=["id","value","disabled","required"],_n={key:0,value:"",disabled:""},Ln=["value"],Cn={key:1,class:"form-text form-text--help"},An={key:2,class:"form-text form-text--error"};function Sn(e,t,a,i,r,o){return(0,s.uX)(),(0,s.CE)("div",yn,[a.label?((0,s.uX)(),(0,s.CE)("label",{key:0,for:a.id,class:(0,l.C4)(["form-label",{"form-label--required":a.required}])},(0,l.v_)(a.label),11,bn)):(0,s.Q3)("",!0),(0,s.Lk)("div",{class:(0,l.C4)(["form-select-container",{"form-select-container--error":a.hasError}])},[(0,s.Lk)("select",{id:a.id,value:a.modelValue,onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),disabled:a.disabled,required:a.required,class:(0,l.C4)(["form-select",{"form-select--error":a.hasError}])},[a.placeholder?((0,s.uX)(),(0,s.CE)("option",_n,(0,l.v_)(a.placeholder),1)):(0,s.Q3)("",!0),(0,s.RG)(e.$slots,"default",{},()=>[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(a.options,e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value||e,value:e.value||e},(0,l.v_)(e.label||e.text||e),9,Ln))),128))],!0)],42,wn),t[1]||(t[1]=(0,s.Lk)("div",{class:"form-select-icon"},[(0,s.Lk)("i",{class:"fas fa-chevron-down"})],-1))],2),a.helpText&&!a.hasError?((0,s.uX)(),(0,s.CE)("div",Cn,(0,l.v_)(a.helpText),1)):(0,s.Q3)("",!0),a.hasError&&a.errorMessage?((0,s.uX)(),(0,s.CE)("div",An,(0,l.v_)(a.errorMessage),1)):(0,s.Q3)("",!0)])}var En={name:"FormSelect",emits:["update:modelValue"],props:{modelValue:{type:[String,Number],default:""},id:{type:String,required:!0},label:{type:String,default:null},placeholder:{type:String,default:null},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},required:{type:Boolean,default:!1},helpText:{type:String,default:null},errorMessage:{type:String,default:null},hasError:{type:Boolean,default:!1}}};const Pn=(0,b.A)(En,[["render",Sn],["__scopeId","data-v-49133cd2"]]);var Mn=Pn;const Dn={class:"nutrition-profile-setup"},Fn={class:"profile-card"},xn={class:"card-header"},In={class:"ai-wizard-header"},Tn={class:"ai-wizard-content"},Xn={key:0,class:"ai-step"},Wn={class:"form-grid"},Vn={class:"form-group"},$n={class:"form-group"},Nn={class:"form-group"},Un={class:"form-group"},Bn={key:1,class:"ai-step"},Rn={class:"goal-options"},Hn=["onClick"],On={class:"goal-icon"},jn={class:"goal-text"},Gn={key:2,class:"ai-step"},qn={class:"activity-options"},Qn=["onClick"],zn={class:"activity-icon"},Jn={class:"activity-text"},Kn={key:3,class:"ai-step"},Yn={class:"dietary-preferences"},Zn=["onClick"],el={class:"diet-emoji"},tl={key:4,class:"ai-step"},al={key:0,class:"generating-profile"},il={key:1,class:"profile-preview"},sl={class:"profile-summary"},rl={class:"macro-preview"},ol={class:"macro-item"},nl={class:"macro-value"},ll={class:"macro-item"},cl={class:"macro-value"},dl={class:"macro-item"},ul={class:"macro-value"},hl={class:"macro-item"},gl={class:"macro-value"},pl={class:"meal-plan-preview"},vl={class:"ai-wizard-footer"},ml=["disabled"],fl={key:1,class:"error-messages"},kl={class:"error-card"},yl={key:2,class:"loading-state"},bl={class:"form-section"},wl={class:"targets-grid"},_l={class:"form-group enhanced-input"},Ll={class:"input-wrapper"},Cl={class:"input-hint"},Al={class:"form-group enhanced-input"},Sl={class:"input-wrapper"},El={class:"input-hint"},Pl={class:"form-group enhanced-input"},Ml={class:"input-wrapper"},Dl={class:"input-hint"},Fl={class:"form-group enhanced-input"},xl={class:"input-wrapper"},Il={class:"input-hint"},Tl={class:"macro-distribution"},Xl={class:"macro-chart"},Wl={class:"macro-bar"},Vl={class:"macro-legend"},$l={class:"legend-item"},Nl={class:"legend-item"},Ul={class:"legend-item"},Bl={class:"form-section"},Rl={key:0,class:"conflict-warning"},Hl={class:"preferences-grid"},Ol=["value","disabled"],jl={key:0,class:"disabled-reason"},Gl={class:"form-section"},ql={class:"preferences-grid"},Ql=["value"],zl={class:"form-section"},Jl={class:"preferences-grid"},Kl=["value"],Yl={class:"form-section"},Zl={class:"form-group"},ec={key:0,class:"ingredient-tags"},tc=["onClick"],ac={class:"form-section"},ic={class:"meal-prefs-grid"},sc={class:"form-group"},rc={class:"form-group"},oc={class:"form-actions"},nc=["disabled"],lc={key:0},cc={key:1};function dc(e,t,a,r,o,n){const c=(0,s.g2)("FormSelect");return(0,s.uX)(),(0,s.CE)("div",Dn,[(0,s.Lk)("div",Fn,[(0,s.Lk)("div",xn,[t[26]||(t[26]=(0,s.Lk)("h2",null,"🎯 Your Personalized Nutrition Profile",-1)),t[27]||(t[27]=(0,s.Lk)("p",null,"Let AI help you create the perfect nutrition plan tailored to your goals",-1)),o.hasExistingProfile?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[0]||(t[0]=e=>o.showAIWizard=!0),class:"ai-wizard-btn",type:"button"},t[25]||(t[25]=[(0,s.Lk)("i",{class:"fas fa-magic"},null,-1),(0,s.eW)(" Generate with AI ")])))]),o.showAIWizard?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"ai-wizard-overlay",onClick:t[10]||(t[10]=e=>o.showAIWizard=!1)},[(0,s.Lk)("div",{class:"ai-wizard-modal",onClick:t[9]||(t[9]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("div",In,[t[28]||(t[28]=(0,s.Lk)("h3",null,"🤖 AI Nutrition Profile Generator",-1)),(0,s.Lk)("button",{onClick:t[1]||(t[1]=e=>o.showAIWizard=!1),class:"close-btn"},"×")]),(0,s.Lk)("div",Tn,[1===o.aiStep?((0,s.uX)(),(0,s.CE)("div",Xn,[t[32]||(t[32]=(0,s.Lk)("h4",null,"Tell me about yourself",-1)),(0,s.Lk)("div",Wn,[(0,s.Lk)("div",Vn,[t[29]||(t[29]=(0,s.Lk)("label",null,"Age",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.aiProfile.age=e),type:"number",min:"13",max:"100",class:"form-input"},null,512),[[i.Jo,o.aiProfile.age,void 0,{number:!0}]])]),(0,s.Lk)("div",$n,[(0,s.bF)(c,{id:"gender-select",modelValue:o.aiProfile.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>o.aiProfile.gender=e),label:"Gender",placeholder:"Select...",options:[{value:"male",label:"Male"},{value:"female",label:"Female"},{value:"other",label:"Other"}]},null,8,["modelValue"])]),(0,s.Lk)("div",Nn,[t[30]||(t[30]=(0,s.Lk)("label",null,"Height (cm)",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.aiProfile.height=e),type:"number",min:"100",max:"250",class:"form-input"},null,512),[[i.Jo,o.aiProfile.height,void 0,{number:!0}]])]),(0,s.Lk)("div",Un,[t[31]||(t[31]=(0,s.Lk)("label",null,"Weight (kg)",-1)),(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.aiProfile.weight=e),type:"number",min:"30",max:"300",class:"form-input"},null,512),[[i.Jo,o.aiProfile.weight,void 0,{number:!0}]])])])])):(0,s.Q3)("",!0),2===o.aiStep?((0,s.uX)(),(0,s.CE)("div",Bn,[t[33]||(t[33]=(0,s.Lk)("h4",null,"What's your primary goal?",-1)),(0,s.Lk)("div",Rn,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.goalOptions,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,onClick:t=>o.aiProfile.goal=e.value,class:(0,l.C4)(["goal-option",{active:o.aiProfile.goal===e.value}])},[(0,s.Lk)("div",On,(0,l.v_)(e.icon),1),(0,s.Lk)("div",jn,[(0,s.Lk)("h5",null,(0,l.v_)(e.label),1),(0,s.Lk)("p",null,(0,l.v_)(e.description),1)])],10,Hn))),128))])])):(0,s.Q3)("",!0),3===o.aiStep?((0,s.uX)(),(0,s.CE)("div",Gn,[t[34]||(t[34]=(0,s.Lk)("h4",null,"Activity Level",-1)),(0,s.Lk)("div",qn,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activityOptions,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,onClick:t=>o.aiProfile.activity=e.value,class:(0,l.C4)(["activity-option",{active:o.aiProfile.activity===e.value}])},[(0,s.Lk)("div",zn,(0,l.v_)(e.icon),1),(0,s.Lk)("div",Jn,[(0,s.Lk)("h5",null,(0,l.v_)(e.label),1),(0,s.Lk)("p",null,(0,l.v_)(e.description),1)])],10,Qn))),128))])])):(0,s.Q3)("",!0),4===o.aiStep?((0,s.uX)(),(0,s.CE)("div",Kn,[t[35]||(t[35]=(0,s.Lk)("h4",null,"Dietary Preferences",-1)),(0,s.Lk)("div",Yn,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.popularDiets,e=>((0,s.uX)(),(0,s.CE)("button",{key:e.value,onClick:t=>n.toggleDiet(e.value),class:(0,l.C4)(["diet-option",{active:o.aiProfile.diets.includes(e.value)}])},[(0,s.Lk)("span",el,(0,l.v_)(e.emoji),1),(0,s.Lk)("span",null,(0,l.v_)(e.label),1)],10,Zn))),128))])])):(0,s.Q3)("",!0),5===o.aiStep?((0,s.uX)(),(0,s.CE)("div",tl,[o.generatingProfile?((0,s.uX)(),(0,s.CE)("div",al,t[36]||(t[36]=[(0,s.Lk)("div",{class:"spinner"},null,-1),(0,s.Lk)("h4",null,"🧠 AI is analyzing your preferences...",-1),(0,s.Lk)("p",null,"Creating your personalized nutrition profile",-1)]))):((0,s.uX)(),(0,s.CE)("div",il,[t[42]||(t[42]=(0,s.Lk)("h4",null,"✨ Your AI-Generated Profile",-1)),(0,s.Lk)("div",sl,[(0,s.Lk)("div",rl,[(0,s.Lk)("div",ol,[t[37]||(t[37]=(0,s.Lk)("span",{class:"macro-label"},"Daily Calories",-1)),(0,s.Lk)("span",nl,(0,l.v_)(o.aiGeneratedProfile.calorie_target),1)]),(0,s.Lk)("div",ll,[t[38]||(t[38]=(0,s.Lk)("span",{class:"macro-label"},"Protein",-1)),(0,s.Lk)("span",cl,(0,l.v_)(o.aiGeneratedProfile.protein_target)+"g",1)]),(0,s.Lk)("div",dl,[t[39]||(t[39]=(0,s.Lk)("span",{class:"macro-label"},"Carbs",-1)),(0,s.Lk)("span",ul,(0,l.v_)(o.aiGeneratedProfile.carb_target)+"g",1)]),(0,s.Lk)("div",hl,[t[40]||(t[40]=(0,s.Lk)("span",{class:"macro-label"},"Fat",-1)),(0,s.Lk)("span",gl,(0,l.v_)(o.aiGeneratedProfile.fat_target)+"g",1)])]),(0,s.Lk)("div",pl,[t[41]||(t[41]=(0,s.Lk)("h5",null,"Recommended Meal Structure",-1)),(0,s.Lk)("p",null,(0,l.v_)(o.aiGeneratedProfile.meals_per_day)+" meals per day",1),(0,s.Lk)("p",null,(0,l.v_)(o.aiGeneratedProfile.snacks_per_day||0)+" snacks per day",1)])])]))])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",vl,[o.aiStep>1?((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[6]||(t[6]=e=>o.aiStep--),class:"btn-secondary"}," Back ")):(0,s.Q3)("",!0),o.aiStep<5?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[7]||(t[7]=(...e)=>n.nextAIStep&&n.nextAIStep(...e)),class:"btn-primary",disabled:!n.canProceedToNextStep}," Next ",8,ml)):(0,s.Q3)("",!0),5!==o.aiStep||o.generatingProfile?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:2,onClick:t[8]||(t[8]=(...e)=>n.applyAIProfile&&n.applyAIProfile(...e)),class:"btn-success"}," Apply This Profile "))])])])):(0,s.Q3)("",!0),o.validationErrors.length>0?((0,s.uX)(),(0,s.CE)("div",fl,[(0,s.Lk)("div",kl,[t[43]||(t[43]=(0,s.Lk)("h4",null,"Please fix the following issues:",-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.validationErrors,e=>((0,s.uX)(),(0,s.CE)("li",{key:e},(0,l.v_)(e),1))),128))])])])):(0,s.Q3)("",!0),a.loading?((0,s.uX)(),(0,s.CE)("div",yl,t[44]||(t[44]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",null,"Loading your profile...",-1)]))):((0,s.uX)(),(0,s.CE)("form",{key:3,onSubmit:t[24]||(t[24]=(0,i.D$)((...e)=>n.saveProfile&&n.saveProfile(...e),["prevent"])),class:"profile-form"},[(0,s.Lk)("div",bl,[t[57]||(t[57]=(0,s.Lk)("h3",null,"🎯 Daily Nutrition Targets",-1)),(0,s.Lk)("div",wl,[(0,s.Lk)("div",_l,[t[46]||(t[46]=(0,s.Lk)("label",{for:"calorie_target"},"Daily Calories",-1)),(0,s.Lk)("div",Ll,[(0,s.bo)((0,s.Lk)("input",{id:"calorie_target","onUpdate:modelValue":t[11]||(t[11]=e=>o.formData.calorie_target=e),type:"number",min:"1000",max:"5000",class:"form-input",required:""},null,512),[[i.Jo,o.formData.calorie_target,void 0,{number:!0}]]),(0,s.Lk)("div",Cl,[t[45]||(t[45]=(0,s.Lk)("i",{class:"fas fa-fire"},null,-1)),(0,s.Lk)("span",null,(0,l.v_)(n.getCalorieRecommendation()),1)])])]),(0,s.Lk)("div",Al,[t[48]||(t[48]=(0,s.Lk)("label",{for:"protein_target"},"Protein (g)",-1)),(0,s.Lk)("div",Sl,[(0,s.bo)((0,s.Lk)("input",{id:"protein_target","onUpdate:modelValue":t[12]||(t[12]=e=>o.formData.protein_target=e),type:"number",min:"0",max:"500",class:"form-input",required:""},null,512),[[i.Jo,o.formData.protein_target,void 0,{number:!0}]]),(0,s.Lk)("div",El,[t[47]||(t[47]=(0,s.Lk)("i",{class:"fas fa-dumbbell"},null,-1)),(0,s.Lk)("span",null,(0,l.v_)((o.formData.protein_target/o.formData.calorie_target*100*4).toFixed(0))+"% of calories",1)])])]),(0,s.Lk)("div",Pl,[t[50]||(t[50]=(0,s.Lk)("label",{for:"carb_target"},"Carbs (g)",-1)),(0,s.Lk)("div",Ml,[(0,s.bo)((0,s.Lk)("input",{id:"carb_target","onUpdate:modelValue":t[13]||(t[13]=e=>o.formData.carb_target=e),type:"number",min:"0",max:"1000",class:"form-input",required:""},null,512),[[i.Jo,o.formData.carb_target,void 0,{number:!0}]]),(0,s.Lk)("div",Dl,[t[49]||(t[49]=(0,s.Lk)("i",{class:"fas fa-bread-slice"},null,-1)),(0,s.Lk)("span",null,(0,l.v_)((o.formData.carb_target/o.formData.calorie_target*100*4).toFixed(0))+"% of calories",1)])])]),(0,s.Lk)("div",Fl,[t[52]||(t[52]=(0,s.Lk)("label",{for:"fat_target"},"Fat (g)",-1)),(0,s.Lk)("div",xl,[(0,s.bo)((0,s.Lk)("input",{id:"fat_target","onUpdate:modelValue":t[14]||(t[14]=e=>o.formData.fat_target=e),type:"number",min:"0",max:"300",class:"form-input",required:""},null,512),[[i.Jo,o.formData.fat_target,void 0,{number:!0}]]),(0,s.Lk)("div",Il,[t[51]||(t[51]=(0,s.Lk)("i",{class:"fas fa-oil-can"},null,-1)),(0,s.Lk)("span",null,(0,l.v_)((o.formData.fat_target/o.formData.calorie_target*100*9).toFixed(0))+"% of calories",1)])])])]),(0,s.Lk)("div",Tl,[t[56]||(t[56]=(0,s.Lk)("h4",null,"Macronutrient Distribution",-1)),(0,s.Lk)("div",Xl,[(0,s.Lk)("div",Wl,[(0,s.Lk)("div",{class:"macro-segment protein",style:(0,l.Tr)({width:n.proteinPercentage+"%"})},null,4),(0,s.Lk)("div",{class:"macro-segment carbs",style:(0,l.Tr)({width:n.carbPercentage+"%"})},null,4),(0,s.Lk)("div",{class:"macro-segment fat",style:(0,l.Tr)({width:n.fatPercentage+"%"})},null,4)]),(0,s.Lk)("div",Vl,[(0,s.Lk)("div",$l,[t[53]||(t[53]=(0,s.Lk)("span",{class:"legend-color protein"},null,-1)),(0,s.Lk)("span",null,"Protein "+(0,l.v_)(n.proteinPercentage)+"%",1)]),(0,s.Lk)("div",Nl,[t[54]||(t[54]=(0,s.Lk)("span",{class:"legend-color carbs"},null,-1)),(0,s.Lk)("span",null,"Carbs "+(0,l.v_)(n.carbPercentage)+"%",1)]),(0,s.Lk)("div",Ul,[t[55]||(t[55]=(0,s.Lk)("span",{class:"legend-color fat"},null,-1)),(0,s.Lk)("span",null,"Fat "+(0,l.v_)(n.fatPercentage)+"%",1)])])])])]),(0,s.Lk)("div",Bl,[t[61]||(t[61]=(0,s.Lk)("h3",null,"Dietary Preferences",-1)),o.dietaryConflicts.length>0?((0,s.uX)(),(0,s.CE)("div",Rl,[t[58]||(t[58]=(0,s.Lk)("i",{class:"fas fa-exclamation-triangle"},null,-1)),t[59]||(t[59]=(0,s.Lk)("span",null,"Warning: Some selected preferences may conflict with each other",-1)),(0,s.Lk)("ul",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.dietaryConflicts,e=>((0,s.uX)(),(0,s.CE)("li",{key:e},(0,l.v_)(e),1))),128))])])):(0,s.Q3)("",!0),(0,s.Lk)("div",Hl,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.availableDietaryPreferences,e=>((0,s.uX)(),(0,s.CE)("label",{key:e.value,class:(0,l.C4)(["checkbox-label",{disabled:n.isPreferenceDisabled(e.value)}])},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>o.formData.dietary_preferences=e),type:"checkbox",value:e.value,disabled:n.isPreferenceDisabled(e.value),class:"checkbox-input",onChange:t[16]||(t[16]=(...e)=>n.checkDietaryConflicts&&n.checkDietaryConflicts(...e))},null,40,Ol),[[i.lH,o.formData.dietary_preferences]]),t[60]||(t[60]=(0,s.Lk)("span",{class:"checkbox-custom"},null,-1)),(0,s.eW)(" "+(0,l.v_)(e.label)+" ",1),n.isPreferenceDisabled(e.value)?((0,s.uX)(),(0,s.CE)("span",jl," (Conflicts with current selection) ")):(0,s.Q3)("",!0)],2))),128))])]),(0,s.Lk)("div",Gl,[t[63]||(t[63]=(0,s.Lk)("h3",null,"Allergies & Intolerances",-1)),(0,s.Lk)("div",ql,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.availableAllergies,e=>((0,s.uX)(),(0,s.CE)("label",{key:e.value,class:"checkbox-label"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[17]||(t[17]=e=>o.formData.allergies_intolerances=e),type:"checkbox",value:e.value,class:"checkbox-input"},null,8,Ql),[[i.lH,o.formData.allergies_intolerances]]),t[62]||(t[62]=(0,s.Lk)("span",{class:"checkbox-custom"},null,-1)),(0,s.eW)(" "+(0,l.v_)(e.label),1)]))),128))])]),(0,s.Lk)("div",zl,[t[65]||(t[65]=(0,s.Lk)("h3",null,"Favorite Cuisines",-1)),(0,s.Lk)("div",Jl,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.availableCuisines,e=>((0,s.uX)(),(0,s.CE)("label",{key:e.value,class:"checkbox-label"},[(0,s.bo)((0,s.Lk)("input",{"onUpdate:modelValue":t[18]||(t[18]=e=>o.formData.cuisine_preferences=e),type:"checkbox",value:e.value,class:"checkbox-input"},null,8,Kl),[[i.lH,o.formData.cuisine_preferences]]),t[64]||(t[64]=(0,s.Lk)("span",{class:"checkbox-custom"},null,-1)),(0,s.eW)(" "+(0,l.v_)(e.label),1)]))),128))])]),(0,s.Lk)("div",Yl,[t[68]||(t[68]=(0,s.Lk)("h3",null,"Disliked Ingredients",-1)),(0,s.Lk)("div",Zl,[t[66]||(t[66]=(0,s.Lk)("label",{for:"disliked_ingredients"},"Ingredients you want to avoid",-1)),(0,s.bo)((0,s.Lk)("input",{id:"disliked_ingredients","onUpdate:modelValue":t[19]||(t[19]=e=>o.dislikedIngredientsInput=e),type:"text",class:"form-input",placeholder:"Enter ingredients separated by commas (e.g., mushrooms, tofu, cilantro)",onBlur:t[20]||(t[20]=(...e)=>n.updateDislikedIngredients&&n.updateDislikedIngredients(...e))},null,544),[[i.Jo,o.dislikedIngredientsInput]]),t[67]||(t[67]=(0,s.Lk)("span",{class:"form-help"},"Separate multiple ingredients with commas",-1)),o.formData.disliked_ingredients.length>0?((0,s.uX)(),(0,s.CE)("div",ec,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.formData.disliked_ingredients,e=>((0,s.uX)(),(0,s.CE)("span",{key:e,class:"ingredient-tag"},[(0,s.eW)((0,l.v_)(e)+" ",1),(0,s.Lk)("button",{type:"button",onClick:t=>n.removeDislikedIngredient(e),class:"remove-tag"},"×",8,tc)]))),128))])):(0,s.Q3)("",!0)])]),(0,s.Lk)("div",ac,[t[71]||(t[71]=(0,s.Lk)("h3",null,"Meal Preferences",-1)),(0,s.Lk)("div",ic,[(0,s.Lk)("div",sc,[(0,s.bF)(c,{id:"meals_per_day",modelValue:o.formData.meals_per_day,"onUpdate:modelValue":t[21]||(t[21]=e=>o.formData.meals_per_day=e),label:"Meals per Day",options:[{value:2,label:"2 meals"},{value:3,label:"3 meals"},{value:4,label:"4 meals"},{value:5,label:"5 meals"},{value:6,label:"6 meals"}],"help-text":"Choose the number of meals you prefer per day"},null,8,["modelValue"])]),(0,s.Lk)("div",rc,[t[70]||(t[70]=(0,s.Lk)("label",{for:"timezone"},"Timezone",-1)),(0,s.bo)((0,s.Lk)("select",{id:"timezone","onUpdate:modelValue":t[22]||(t[22]=e=>o.formData.timezone=e),class:"form-select"},t[69]||(t[69]=[(0,s.Fv)('<option value="UTC" data-v-7ef3f1e1>UTC</option><option value="Europe/London" data-v-7ef3f1e1>London</option><option value="Europe/Berlin" data-v-7ef3f1e1>Berlin</option><option value="Europe/Tallinn" data-v-7ef3f1e1>Tallinn (Estonia)</option><option value="America/New_York" data-v-7ef3f1e1>New York</option><option value="America/Los_Angeles" data-v-7ef3f1e1>Los Angeles</option><option value="Asia/Tokyo" data-v-7ef3f1e1>Tokyo</option>',7)]),512),[[i.u1,o.formData.timezone]])])])]),(0,s.Lk)("div",oc,[(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.saving||n.hasValidationErrors},[o.saving?((0,s.uX)(),(0,s.CE)("span",lc,t[72]||(t[72]=[(0,s.Lk)("i",{class:"fas fa-spinner fa-spin"},null,-1),(0,s.eW)(" Saving... ")]))):((0,s.uX)(),(0,s.CE)("span",cc,t[73]||(t[73]=[(0,s.Lk)("i",{class:"fas fa-save"},null,-1),(0,s.eW)(" Save Profile ")])))],8,nc),(0,s.Lk)("button",{type:"button",onClick:t[23]||(t[23]=(...e)=>n.calculateTargets&&n.calculateTargets(...e)),class:"btn btn-secondary"},t[74]||(t[74]=[(0,s.Lk)("i",{class:"fas fa-calculator"},null,-1),(0,s.eW)(" Auto-Calculate Targets ")]))])],32))])])}a(116);var uc=a(5090),hc={name:"NutritionProfileSetup",components:{FormSelect:Mn},props:{profile:{type:Object,default:null},loading:{type:Boolean,default:!1}},emits:["profile-updated"],data(){return{saving:!1,validationErrors:[],dietaryConflicts:[],dislikedIngredientsInput:"",formData:{calorie_target:2e3,protein_target:100,carb_target:250,fat_target:67,dietary_preferences:[],allergies_intolerances:[],cuisine_preferences:[],disliked_ingredients:[],meals_per_day:3,timezone:"Europe/Tallinn"},availableDietaryPreferences:[{value:"vegetarian",label:"Vegetarian",conflicts:["paleo"]},{value:"vegan",label:"Vegan",conflicts:["paleo","pescatarian","keto"]},{value:"pescatarian",label:"Pescatarian",conflicts:["vegan","vegetarian","paleo"]},{value:"keto",label:"Ketogenic",conflicts:["vegan","high_carb","mediterranean"]},{value:"paleo",label:"Paleo",conflicts:["vegetarian","vegan","pescatarian","mediterranean"]},{value:"mediterranean",label:"Mediterranean",conflicts:["keto","paleo","low_carb"]},{value:"low_carb",label:"Low Carb",conflicts:["mediterranean","high_carb"]},{value:"high_carb",label:"High Carb",conflicts:["keto","low_carb"]},{value:"high_protein",label:"High Protein",conflicts:[]},{value:"gluten_free",label:"Gluten Free",conflicts:[]},{value:"dairy_free",label:"Dairy Free",conflicts:[]},{value:"low_sodium",label:"Low Sodium",conflicts:[]},{value:"diabetic",label:"Diabetic Friendly",conflicts:["high_carb"]},{value:"heart_healthy",label:"Heart Healthy",conflicts:[]},{value:"whole30",label:"Whole30",conflicts:["vegetarian","vegan"]}],availableAllergies:[{value:"nuts",label:"Tree Nuts"},{value:"peanuts",label:"Peanuts"},{value:"dairy",label:"Dairy/Lactose"},{value:"gluten",label:"Gluten"},{value:"eggs",label:"Eggs"},{value:"fish",label:"Fish"},{value:"shellfish",label:"Shellfish"},{value:"soy",label:"Soy"},{value:"sesame",label:"Sesame"},{value:"sulfites",label:"Sulfites"}],availableCuisines:[{value:"italian",label:"Italian"},{value:"mexican",label:"Mexican"},{value:"asian",label:"Asian"},{value:"indian",label:"Indian"},{value:"mediterranean",label:"Mediterranean"},{value:"american",label:"American"},{value:"french",label:"French"},{value:"thai",label:"Thai"},{value:"japanese",label:"Japanese"},{value:"chinese",label:"Chinese"},{value:"middle_eastern",label:"Middle Eastern"},{value:"korean",label:"Korean"},{value:"greek",label:"Greek"},{value:"spanish",label:"Spanish"}],aiStep:1,showAIWizard:!1,aiProfile:{age:null,gender:"",height:null,weight:null,goal:"",activity:"",diets:[]},goalOptions:[{value:"weight_loss",label:"Weight Loss",icon:"🔥",description:"Lose weight by burning more calories than you consume"},{value:"muscle_gain",label:"Muscle Gain",icon:"💪",description:"Gain muscle mass while maintaining a healthy weight"},{value:"maintenance",label:"Maintenance",icon:"⚖️",description:"Maintain your current weight and body composition"},{value:"performance",label:"Performance",icon:"⚽️",description:"Optimize for athletic performance"}],activityOptions:[{value:"sedentary",label:"Sedentary (little or no exercise)",icon:"💺"},{value:"light",label:"Lightly Active (exercise 1-3 days/week)",icon:"🏃"},{value:"moderate",label:"Moderately Active (exercise 3-5 days/week)",icon:"🏃‍♂️"},{value:"very_active",label:"Very Active (exercise 6-7 days/week)",icon:"🏃‍♂️"},{value:"extra_active",label:"Extra Active (very intense exercise, physical job, or 2x training)",icon:"💪"}],popularDiets:[{value:"keto",label:"Ketogenic",emoji:"🧘‍♂️"},{value:"paleo",label:"Paleo",emoji:"🥑"},{value:"mediterranean",label:"Mediterranean",emoji:"🌊"},{value:"low_carb",label:"Low Carb",emoji:"🍎"},{value:"high_protein",label:"High Protein",emoji:"💪"},{value:"vegan",label:"Vegan",emoji:"🌱"},{value:"vegetarian",label:"Vegetarian",emoji:"🥦"},{value:"gluten_free",label:"Gluten Free",emoji:"🌾"},{value:"dairy_free",label:"Dairy Free",emoji:"🥛"},{value:"low_sodium",label:"Low Sodium",emoji:"🧂"}],aiGeneratedProfile:null,generatingProfile:!1,hasExistingProfile:!1}},computed:{hasValidationErrors(){return this.validationErrors.length>0||this.dietaryConflicts.length>0},proteinPercentage(){return 0===this.formData.calorie_target?0:Math.round(4*this.formData.protein_target/this.formData.calorie_target*100)},carbPercentage(){return 0===this.formData.calorie_target?0:Math.round(4*this.formData.carb_target/this.formData.calorie_target*100)},fatPercentage(){return 0===this.formData.calorie_target?0:Math.round(9*this.formData.fat_target/this.formData.calorie_target*100)},canProceedToNextStep(){switch(this.aiStep){case 1:return this.aiProfile.age&&this.aiProfile.gender&&this.aiProfile.height&&this.aiProfile.weight;case 2:return this.aiProfile.goal;case 3:return this.aiProfile.activity;case 4:return!0;default:return!0}}},watch:{profile:{immediate:!0,handler(e){e?(this.formData={...this.formData,...e},e.disliked_ingredients&&(this.dislikedIngredientsInput=e.disliked_ingredients.join(", ")),this.checkDietaryConflicts(),this.hasExistingProfile=!0):this.hasExistingProfile=!1}}},methods:{async saveProfile(){if(this.validateForm(),!this.hasValidationErrors){this.saving=!0;try{const e=await uc.mealPlanningApi.updateNutritionProfile(this.formData);this.$emit("profile-updated",e.data),this.$toast?.success?.("Nutrition profile saved successfully!")||alert("Nutrition profile saved successfully!")}catch(e){console.error("Error saving profile:",e);const t=e.response?.data?.detail||e.response?.data?.message||e.message||"Failed to save nutrition profile";this.$toast?.error?.(t)||alert(t)}finally{this.saving=!1}}},validateForm(){this.validationErrors=[],(!this.formData.calorie_target||this.formData.calorie_target<1e3||this.formData.calorie_target>5e3)&&this.validationErrors.push("Daily calories must be between 1000 and 5000"),(!this.formData.protein_target||this.formData.protein_target<0||this.formData.protein_target>500)&&this.validationErrors.push("Protein target must be between 0 and 500g"),(!this.formData.carb_target||this.formData.carb_target<0||this.formData.carb_target>1e3)&&this.validationErrors.push("Carbohydrate target must be between 0 and 1000g"),(!this.formData.fat_target||this.formData.fat_target<0||this.formData.fat_target>300)&&this.validationErrors.push("Fat target must be between 0 and 300g");const e=4*this.formData.protein_target+4*this.formData.carb_target+9*this.formData.fat_target,t=Math.abs(e-this.formData.calorie_target);t>100&&this.validationErrors.push(`Macro calories (${Math.round(e)}) don't match calorie target (${this.formData.calorie_target}). Difference: ${Math.round(t)} calories`)},checkDietaryConflicts(){this.dietaryConflicts=[];const e=this.formData.dietary_preferences;for(let t=0;t<e.length;t++)for(let a=t+1;a<e.length;a++){const i=this.availableDietaryPreferences.find(a=>a.value===e[t]),s=this.availableDietaryPreferences.find(t=>t.value===e[a]);i?.conflicts?.includes(e[a])&&this.dietaryConflicts.push(`${i.label} conflicts with ${s.label}`)}},isPreferenceDisabled(e){const t=this.formData.dietary_preferences;if(t.includes(e))return!1;const a=this.availableDietaryPreferences.find(t=>t.value===e);return!!a?.conflicts&&t.some(e=>a.conflicts.includes(e))},updateDislikedIngredients(){this.dislikedIngredientsInput.trim()?this.formData.disliked_ingredients=this.dislikedIngredientsInput.split(",").map(e=>e.trim()).filter(e=>e.length>0):this.formData.disliked_ingredients=[]},removeDislikedIngredient(e){this.formData.disliked_ingredients=this.formData.disliked_ingredients.filter(t=>t!==e),this.dislikedIngredientsInput=this.formData.disliked_ingredients.join(", ")},calculateTargets(){const e=2e3,t=this.formData.dietary_preferences.includes("keto"),a=this.formData.dietary_preferences.includes("low_carb"),i=this.formData.dietary_preferences.includes("high_protein");let s,r,o;t?(s=.25,r=.05,o=.7):a?(s=.3,r=.2,o=.5):i?(s=.35,r=.35,o=.3):(s=.25,r=.45,o=.3),this.formData.calorie_target=e,this.formData.protein_target=Math.round(e*s/4),this.formData.carb_target=Math.round(e*r/4),this.formData.fat_target=Math.round(e*o/9),this.validateForm()},async applyAIProfile(){try{this.formData={...this.formData,...this.aiGeneratedProfile},this.hasExistingProfile=!0,this.showAIWizard=!1,await this.saveProfile(),this.$toast?.success?.("🎉 AI-generated nutrition profile applied successfully!")}catch(e){console.error("Error applying AI profile:",e),this.$toast?.error?.("Failed to apply AI profile. Please try manually adjusting your settings.")}},async nextAIStep(){if(4===this.aiStep){this.generatingProfile=!0,this.aiStep++;try{const e=await uc.mealPlanningApi.generateNutritionProfile({user_data:{age:this.aiProfile.age,gender:this.aiProfile.gender,height:this.aiProfile.height,weight:this.aiProfile.weight},goals:{primary_goal:this.aiProfile.goal,activity_level:this.aiProfile.activity},preferences:{dietary_preferences:this.aiProfile.diets}});this.aiGeneratedProfile=e.data,setTimeout(()=>{this.generatingProfile=!1},2e3)}catch(e){console.error("Error generating AI profile:",e),this.aiGeneratedProfile=this.calculateAIProfile(),this.generatingProfile=!1}}else this.aiStep<5&&this.aiStep++},calculateAIProfile(){const{age:e,gender:t,height:a,weight:i,goal:s,activity:r}=this.aiProfile;let o;o="male"===t?10*i+6.25*a-5*e+5:10*i+6.25*a-5*e-161;const n={sedentary:1.2,light:1.375,moderate:1.55,very_active:1.725,extra_active:1.9};let l=o*(n[r]||1.2);"weight_loss"===s?l-=500:"muscle_gain"===s&&(l+=300);let c=.25,d=.45,u=.3;return this.aiProfile.diets.includes("keto")?(c=.25,d=.05,u=.7):this.aiProfile.diets.includes("high_protein")?(c=.35,d=.4,u=.25):this.aiProfile.diets.includes("low_carb")&&(c=.3,d=.2,u=.5),{calorie_target:Math.round(l),protein_target:Math.round(l*c/4),carb_target:Math.round(l*d/4),fat_target:Math.round(l*u/9),meals_per_day:"muscle_gain"===s?4:3,snacks_per_day:"muscle_gain"===s?2:1,dietary_preferences:this.aiProfile.diets}},getCalorieRecommendation(){const e=this.formData.calorie_target;return e<1200?"Very Low (may be too restrictive)":e<1800?"Low (weight loss focused)":e<2500?"Moderate (maintenance/slow change)":e<3e3?"High (muscle gain/active lifestyle)":"Very High (intensive training)"},toggleDiet(e){const t=this.aiProfile.diets.indexOf(e);t>-1?this.aiProfile.diets.splice(t,1):this.aiProfile.diets.push(e)}}};const gc=(0,b.A)(hc,[["render",dc],["__scopeId","data-v-7ef3f1e1"]]);var pc=gc,vc={name:"Profile",components:{FormSelect:Mn,NutritionProfileSetup:pc},data(){return{tabs:[{id:"general",title:"General",description:"Basic info",icon:"fas fa-user"},{id:"nutrition",title:"Nutrition",description:"Diet & meals",icon:"fas fa-utensils"},{id:"activity",title:"Activity",description:"Fitness & exercise",icon:"fas fa-dumbbell"},{id:"goals",title:"Goals",description:"Targets & preferences",icon:"fas fa-target"}],profile:{age:null,gender:"",height_cm:null,weight_kg:null,occupation_type:"",activity_level:"moderate",fitness_goal:"general_fitness",target_weight_kg:null,weekly_activity_days:null,does_cardio:!1,does_strength:!1,does_flexibility:!1,does_sports:!1,avg_session_duration:"",fitness_level:"",preferred_environment:"",time_preference:"",endurance_minutes:null,pushup_count:null,squat_count:null,dietary_preference:"",is_gluten_free:!1,is_dairy_free:!1,is_nut_free:!1,has_other_restrictions:!1,other_restrictions_note:"",data_sharing_consent:!1},originalProfile:null,loading:!0,saveLoading:!1,message:"",successful:!1,validationErrors:{},activeTab:"general",nutritionProfile:{},nutritionProfileLoading:!1}},mounted(){this.fetchProfile(),this.loadNutritionProfile()},computed:{isGoalAchieved(){return this.profile?.target_weight_kg&&this.profile?.weight_kg&&Math.abs(parseFloat(this.profile.weight_kg)-parseFloat(this.profile.target_weight_kg))<=.5},completionPercentage(){const e=["age","gender","height_cm","weight_kg","activity_level","fitness_goal","weekly_activity_days","avg_session_duration","fitness_level","dietary_preference"],t=e.filter(e=>{const t=this.profile[e];return null!==t&&""!==t&&void 0!==t}).length;return Math.round(t/e.length*100)}},methods:{fetchProfile(){this.loading=!0,this.message="",Te.A.getHealthProfile().then(e=>{e.data&&(Object.keys(this.profile).forEach(t=>{t in e.data&&(this.profile[t]=e.data[t])}),this.originalProfile=JSON.parse(JSON.stringify(this.profile))),this.loading=!1}).catch(e=>{console.error("Error fetching profile:",e),this.loading=!1,e.response&&404===e.response.status?this.originalProfile=JSON.parse(JSON.stringify(this.profile)):(this.message="Failed to load profile. Please try again.",this.successful=!1)})},resetGoal(){this.profile.target_weight_kg=null,this.saveProfile()},calculateBMI(){if(!this.profile.height_cm||!this.profile.weight_kg)return 0;const e=this.profile.height_cm/100;return this.profile.weight_kg/(e*e)},getBMICategory(){const e=this.calculateBMI();return e<18.5?"Underweight":e<25?"Normal weight":e<30?"Overweight":"Obese"},getBMICategoryClass(){const e=this.calculateBMI();return e<18.5?"underweight":e<25?"normal":e<30?"overweight":"obese"},validateForm(){return this.validationErrors={},null!==this.profile.age&&(this.profile.age<13?this.validationErrors.age="Age must be at least 13":this.profile.age>120&&(this.validationErrors.age="Age must be below 120")),null!==this.profile.height_cm&&(this.profile.height_cm<100?this.validationErrors.height_cm="Height must be at least 100 cm":this.profile.height_cm>250&&(this.validationErrors.height_cm="Height must be below 250 cm")),null!==this.profile.weight_kg&&(this.profile.weight_kg<30?this.validationErrors.weight_kg="Weight must be at least 30 kg":this.profile.weight_kg>300&&(this.validationErrors.weight_kg="Weight must be below 300 kg")),null!==this.profile.target_weight_kg&&(this.profile.target_weight_kg<30?this.validationErrors.target_weight_kg="Target weight must be at least 30 kg":this.profile.target_weight_kg>300&&(this.validationErrors.target_weight_kg="Target weight must be below 300 kg")),null!==this.profile.weekly_activity_days&&(this.profile.weekly_activity_days<0?this.validationErrors.weekly_activity_days="Activity days cannot be negative":this.profile.weekly_activity_days>7&&(this.validationErrors.weekly_activity_days="Activity days cannot exceed 7")),null!==this.profile.endurance_minutes&&this.profile.endurance_minutes>300&&(this.validationErrors.endurance_minutes="Please enter a value below 300 minutes"),null!==this.profile.pushup_count&&this.profile.pushup_count>200&&(this.validationErrors.pushup_count="Please enter a realistic value"),null!==this.profile.squat_count&&this.profile.squat_count>200&&(this.validationErrors.squat_count="Please enter a realistic value"),0===Object.keys(this.validationErrors).length},saveProfile(){if(!this.validateForm())return this.message="Please correct the validation errors before saving.",void(this.successful=!1);if(this.saveLoading=!0,this.message="",JSON.stringify(this.profile)===JSON.stringify(this.originalProfile))return this.message="No changes to save.",this.successful=!0,void(this.saveLoading=!1);const e={...this.profile};["age","height_cm","weight_kg","target_weight_kg","weekly_activity_days","endurance_minutes","pushup_count","squat_count"].forEach(t=>{null!==e[t]&&""!==e[t]&&(e[t]=Number(e[t]))}),Te.A.updateHealthProfile(e).then(e=>{console.log("Profile saved successfully:",e.data),this.successful=!0,this.message="Profile saved successfully!",this.originalProfile=JSON.parse(JSON.stringify(this.profile)),this.triggerWellnessScoreUpdate()}).catch(e=>{if(console.error("Error saving profile:",e),this.successful=!1,e.response&&e.response.data){const t=e.response.data;if("object"===typeof t){const e=Object.entries(t).map(([e,t])=>Array.isArray(t)?`${e}: ${t.join(", ")}`:`${e}: ${t}`).join("; ");this.message=`Failed to save profile: ${e}`}else this.message="Failed to save profile. Please check your inputs and try again."}else this.message="Failed to save profile. Please try again."}).finally(()=>{this.saveLoading=!1,setTimeout(()=>{const e=document.querySelector(".status-message");e&&e.scrollIntoView({behavior:"smooth",block:"center"})},100)})},resetForm(){confirm("Are you sure you want to reset all changes?")&&(this.originalProfile?this.profile=JSON.parse(JSON.stringify(this.originalProfile)):this.profile={age:null,gender:"",height_cm:null,weight_kg:null,occupation_type:"",activity_level:"moderate",fitness_goal:"general_fitness",target_weight_kg:null,weekly_activity_days:null,does_cardio:!1,does_strength:!1,does_flexibility:!1,does_sports:!1,avg_session_duration:"",fitness_level:"",preferred_environment:"",time_preference:"",endurance_minutes:null,pushup_count:null,squat_count:null,dietary_preference:"",is_gluten_free:!1,is_dairy_free:!1,is_nut_free:!1,has_other_restrictions:!1,other_restrictions_note:"",data_sharing_consent:!1},this.message="Form has been reset.",this.successful=!0,this.validationErrors={})},triggerWellnessScoreUpdate(){Ve.calculateWellnessScore().then(e=>{console.log("Wellness score updated:",e.data)}).catch(e=>{console.error("Error updating wellness score:",e)})},async loadNutritionProfile(){this.nutritionProfileLoading=!0;try{const{mealPlanningApi:e}=await Promise.resolve().then(a.bind(a,5090)),t=await e.getNutritionProfile();this.nutritionProfile=t.data}catch(e){console.error("Failed to load nutrition profile:",e),this.nutritionProfile={calorie_target:2e3,protein_target:100,carb_target:250,fat_target:67,dietary_preferences:[],allergies_intolerances:[],cuisine_preferences:[],disliked_ingredients:[],meals_per_day:3,timezone:"Europe/Tallinn"}}finally{this.nutritionProfileLoading=!1}},onNutritionProfileUpdated(e){this.nutritionProfile=e,this.nutritionProfileLoading=!1,this.message="Nutrition profile updated successfully!",this.successful=!0,this.$nextTick(()=>{this.$forceUpdate()})}}};const mc=(0,b.A)(vc,[["render",kn],["__scopeId","data-v-3fd0c8e4"]]);var fc=mc;const kc={class:"settings-container"},yc={class:"settings-card"},bc={class:"setting-item"},wc={class:"setting-status"},_c=["disabled"],Lc={class:"setting-item"},Cc={class:"setting-status"},Ac=["disabled"],Sc=["disabled"],Ec={class:"setting-item"},Pc={class:"setting-status"},Mc={class:"modal-content"},Dc={class:"form-group"},Fc={class:"form-group"},xc={class:"form-group"},Ic={key:0,class:"error-message"},Tc={key:1,class:"success-message"},Xc={class:"form-actions"},Wc=["disabled"],Vc={class:"settings-card"},$c={class:"setting-item"},Nc={class:"setting-status"},Uc={class:"toggle-switch"},Bc={class:"toggle-label"},Rc={class:"setting-item"},Hc={class:"setting-status"},Oc=["disabled"],jc={class:"settings-card"},Gc={class:"setting-item"},qc={class:"setting-status"},Qc={class:"toggle-switch"},zc={class:"toggle-label"},Jc={class:"setting-item"},Kc={class:"setting-status"},Yc={class:"toggle-switch"},Zc=["disabled"],ed={class:"toggle-label"};function td(e,t,a,r,o,n){const c=(0,s.g2)("TwoFactorModal");return(0,s.uX)(),(0,s.CE)("div",kc,[o.notification.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["notification-alert",o.notification.type])},[(0,s.eW)((0,l.v_)(o.notification.message)+" ",1),(0,s.Lk)("button",{class:"notification-close",onClick:t[0]||(t[0]=e=>o.notification.show=!1)},"×")],2)):(0,s.Q3)("",!0),t[40]||(t[40]=(0,s.Lk)("h1",null,"Account Settings",-1)),(0,s.Lk)("div",yc,[t[30]||(t[30]=(0,s.Lk)("h2",null,"Security Settings",-1)),(0,s.Lk)("div",bc,[t[22]||(t[22]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Email Verification"),(0,s.Lk)("p",null,"Verify your email address to access all platform features")],-1)),(0,s.Lk)("div",wc,[(0,s.Lk)("span",{class:(0,l.C4)({"status-verified":o.user.email_verified,"status-unverified":!o.user.email_verified})},(0,l.v_)(o.user.email_verified?"Verified":"Unverified"),3),o.user.email_verified?(0,s.Q3)("",!0):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[1]||(t[1]=(...e)=>n.resendVerificationEmail&&n.resendVerificationEmail(...e)),class:"btn btn-secondary",disabled:o.loading.verification},(0,l.v_)(o.loading.verification?"Sending...":"Resend Email"),9,_c))])]),(0,s.Lk)("div",Lc,[t[23]||(t[23]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Two-Factor Authentication"),(0,s.Lk)("p",null,"Add an extra layer of security to your account")],-1)),(0,s.Lk)("div",Cc,[(0,s.Lk)("span",{class:(0,l.C4)({"status-enabled":o.user.two_factor_enabled,"status-disabled":!o.user.two_factor_enabled})},(0,l.v_)(o.user.two_factor_enabled?"Enabled":"Disabled"),3),o.user.two_factor_enabled?((0,s.uX)(),(0,s.CE)("button",{key:1,onClick:t[3]||(t[3]=(...e)=>n.disableTwoFactor&&n.disableTwoFactor(...e)),class:"btn btn-danger",disabled:o.loading.twoFactor},(0,l.v_)(o.loading.twoFactor?"Disabling...":"Disable"),9,Sc)):((0,s.uX)(),(0,s.CE)("button",{key:0,onClick:t[2]||(t[2]=(...e)=>n.setupTwoFactor&&n.setupTwoFactor(...e)),class:"btn btn-primary",disabled:o.loading.twoFactor},(0,l.v_)(o.loading.twoFactor?"Setting up...":"Enable"),9,Ac))])]),(0,s.Lk)("div",Ec,[t[24]||(t[24]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Password"),(0,s.Lk)("p",null,"Update your password regularly to keep your account secure")],-1)),(0,s.Lk)("div",Pc,[(0,s.Lk)("button",{onClick:t[4]||(t[4]=e=>o.showPasswordModal=!0),class:"btn btn-secondary"}," Change Password ")])]),o.showPasswordModal?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"modal",onClick:t[11]||(t[11]=(0,i.D$)(e=>o.showPasswordModal=!1,["self"]))},[(0,s.Lk)("div",Mc,[(0,s.Lk)("span",{class:"close-button",onClick:t[5]||(t[5]=e=>o.showPasswordModal=!1)},"×"),t[29]||(t[29]=(0,s.Lk)("h2",null,"Change Password",-1)),(0,s.Lk)("form",{onSubmit:t[10]||(t[10]=(0,i.D$)((...e)=>n.changePassword&&n.changePassword(...e),["prevent"]))},[(0,s.Lk)("div",Dc,[t[25]||(t[25]=(0,s.Lk)("label",{for:"currentPassword"},"Current Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"currentPassword","onUpdate:modelValue":t[6]||(t[6]=e=>o.passwordForm.currentPassword=e),required:""},null,512),[[i.Jo,o.passwordForm.currentPassword]])]),(0,s.Lk)("div",Fc,[t[26]||(t[26]=(0,s.Lk)("label",{for:"newPassword"},"New Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"newPassword","onUpdate:modelValue":t[7]||(t[7]=e=>o.passwordForm.newPassword=e),required:"",minlength:"8"},null,512),[[i.Jo,o.passwordForm.newPassword]]),t[27]||(t[27]=(0,s.Lk)("small",null,"Password must be at least 8 characters long",-1))]),(0,s.Lk)("div",xc,[t[28]||(t[28]=(0,s.Lk)("label",{for:"confirmPassword"},"Confirm New Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[8]||(t[8]=e=>o.passwordForm.confirmPassword=e),required:""},null,512),[[i.Jo,o.passwordForm.confirmPassword]])]),o.passwordError?((0,s.uX)(),(0,s.CE)("div",Ic,(0,l.v_)(o.passwordError),1)):(0,s.Q3)("",!0),o.passwordSuccess?((0,s.uX)(),(0,s.CE)("div",Tc,(0,l.v_)(o.passwordSuccess),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",Xc,[(0,s.Lk)("button",{type:"button",class:"btn btn-secondary",onClick:t[9]||(t[9]=e=>o.showPasswordModal=!1)}," Cancel "),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary",disabled:o.loading.password},(0,l.v_)(o.loading.password?"Updating...":"Update Password"),9,Wc)])],32)])])):(0,s.Q3)("",!0)]),(0,s.Lk)("div",Vc,[t[34]||(t[34]=(0,s.Lk)("h2",null,"Data Privacy",-1)),(0,s.Lk)("div",$c,[t[32]||(t[32]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Data Sharing Consent"),(0,s.Lk)("p",null,"Control how your health data is used for personalized recommendations")],-1)),(0,s.Lk)("div",Nc,[(0,s.Lk)("label",Uc,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[12]||(t[12]=e=>o.privacySettings.dataSharingConsent=e),onChange:t[13]||(t[13]=(...e)=>n.updatePrivacySettings&&n.updatePrivacySettings(...e))},null,544),[[i.lH,o.privacySettings.dataSharingConsent]]),t[31]||(t[31]=(0,s.Lk)("span",{class:"slider"},null,-1))]),(0,s.Lk)("span",Bc,(0,l.v_)(o.privacySettings.dataSharingConsent?"Enabled":"Disabled"),1)])]),(0,s.Lk)("div",Rc,[t[33]||(t[33]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Export Your Data"),(0,s.Lk)("p",null,"Download all your health data in a portable format")],-1)),(0,s.Lk)("div",Hc,[(0,s.Lk)("button",{onClick:t[14]||(t[14]=(...e)=>n.exportData&&n.exportData(...e)),class:"btn btn-secondary",disabled:o.loading.export},(0,l.v_)(o.loading.export?"Preparing...":"Export Data"),9,Oc)])])]),(0,s.Lk)("div",jc,[t[39]||(t[39]=(0,s.Lk)("h2",null,"Notifications",-1)),(0,s.Lk)("div",Gc,[t[36]||(t[36]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Email Notifications"),(0,s.Lk)("p",null,"Receive updates, insights, and recommendations via email")],-1)),(0,s.Lk)("div",qc,[(0,s.Lk)("label",Qc,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[15]||(t[15]=e=>o.notificationSettings.emailEnabled=e),onChange:t[16]||(t[16]=(...e)=>n.updateNotificationSettings&&n.updateNotificationSettings(...e))},null,544),[[i.lH,o.notificationSettings.emailEnabled]]),t[35]||(t[35]=(0,s.Lk)("span",{class:"slider"},null,-1))]),(0,s.Lk)("span",zc,(0,l.v_)(o.notificationSettings.emailEnabled?"Enabled":"Disabled"),1)])]),(0,s.Lk)("div",Jc,[t[38]||(t[38]=(0,s.Lk)("div",{class:"setting-info"},[(0,s.Lk)("h3",null,"Weekly Summary"),(0,s.Lk)("p",null,"Receive a weekly summary of your health metrics and progress")],-1)),(0,s.Lk)("div",Kc,[(0,s.Lk)("label",Yc,[(0,s.bo)((0,s.Lk)("input",{type:"checkbox","onUpdate:modelValue":t[17]||(t[17]=e=>o.notificationSettings.weeklySummary=e),onChange:t[18]||(t[18]=(...e)=>n.updateNotificationSettings&&n.updateNotificationSettings(...e)),disabled:!o.notificationSettings.emailEnabled},null,40,Zc),[[i.lH,o.notificationSettings.weeklySummary]]),t[37]||(t[37]=(0,s.Lk)("span",{class:"slider"},null,-1))]),(0,s.Lk)("span",ed,(0,l.v_)(o.notificationSettings.weeklySummary?"Enabled":"Disabled"),1)])])]),(0,s.bF)(c,{show:o.showTwoFactorModal,step:o.setupStep,"qr-code":o.qrCodeUrl,secret:o.secretKey,code:o.verificationCode,error:o.twoFactorError,verifying:o.loading.verification,onClose:t[19]||(t[19]=e=>o.showTwoFactorModal=!1),onStep:t[20]||(t[20]=e=>o.setupStep=e),"onUpdate:code":t[21]||(t[21]=e=>o.verificationCode=e),onVerify:n.verifyTwoFactor},null,8,["show","step","qr-code","secret","code","error","verifying","onVerify"])])}a(4603),a(7566),a(8721);class ad{getCurrentUser(){return Xe.A.get("users/me/")}verifyEmail(e){return Xe.A.post("users/verify-email/",{token:e})}resendVerificationEmail(e){return e?Xe.A.post("users/resend-verification/",{email:e}):Xe.A.post("users/resend-verification/")}generateTwoFactorSecret(){return Xe.A.post("users/2fa/generate/")}verifyTwoFactor(e){return Xe.A.post("users/2fa/verify/",{code:e})}disableTwoFactor(){return Xe.A.post("users/2fa/disable/")}changePassword(e,t){return Xe.A.post("users/change-password/",{current_password:e,new_password:t})}getNotificationSettings(){return Xe.A.get("users/notification-settings/")}updateNotificationSettings(e){return Xe.A.put("users/notification-settings/",e)}exportUserData(){return Xe.A.get("users/export-data/")}resetPassword(e){return Xe.A.post("users/reset-password/",{email:e})}confirmResetPassword(e,t){return Xe.A.post("users/reset-password/confirm/",{token:e,new_password:t})}}var id=new ad;const sd={key:0,class:"setup-qr"},rd={class:"qr-container"},od=["src"],nd={key:1,class:"loading-spinner"},ld={key:0,class:"manual-key"},cd=["disabled"],dd={key:1,class:"verify-code"},ud={class:"code-input"},hd=["value"],gd={key:0,class:"error-message"},pd={class:"form-actions"},vd=["disabled"];function md(e,t,a,r,o,n){return(0,s.uX)(),(0,s.Wv)(i.eB,{name:"modal-fade"},{default:(0,s.k6)(()=>[a.show?((0,s.uX)(),(0,s.CE)("div",{key:0,class:"two-factor-modal-backdrop",onClick:t[6]||(t[6]=t=>e.$emit("close"))},[(0,s.Lk)("div",{class:"two-factor-modal-content",onClick:t[5]||(t[5]=(0,i.D$)(()=>{},["stop"]))},[(0,s.Lk)("button",{class:"two-factor-modal-close",onClick:t[0]||(t[0]=t=>e.$emit("close"))},"×"),t[10]||(t[10]=(0,s.Lk)("h2",null,"Set Up Two-Factor Authentication",-1)),1===a.step?((0,s.uX)(),(0,s.CE)("div",sd,[t[8]||(t[8]=(0,s.Lk)("p",null,"Scan this QR code with your authenticator app (Google Authenticator, Authy, etc.)",-1)),(0,s.Lk)("div",rd,[a.qrCode?((0,s.uX)(),(0,s.CE)("img",{key:0,src:a.qrCode,alt:"QR Code for 2FA setup"},null,8,od)):((0,s.uX)(),(0,s.CE)("div",nd))]),a.secret?((0,s.uX)(),(0,s.CE)("p",ld,[t[7]||(t[7]=(0,s.eW)(" Or enter this key manually: ")),(0,s.Lk)("strong",null,(0,l.v_)(a.secret),1)])):(0,s.Q3)("",!0),(0,s.Lk)("button",{onClick:t[1]||(t[1]=t=>e.$emit("step",2)),class:"btn btn-primary",disabled:!a.qrCode}," Next ",8,cd)])):(0,s.Q3)("",!0),2===a.step?((0,s.uX)(),(0,s.CE)("div",dd,[t[9]||(t[9]=(0,s.Lk)("p",null,"Enter the 6-digit code from your authenticator app to verify setup",-1)),(0,s.Lk)("div",ud,[(0,s.Lk)("input",{type:"text",value:a.code,onInput:t[2]||(t[2]=t=>e.$emit("update:code",t.target.value)),placeholder:"000000",maxlength:"6",pattern:"[0-9]*",inputmode:"numeric"},null,40,hd)]),a.error?((0,s.uX)(),(0,s.CE)("div",gd,(0,l.v_)(a.error),1)):(0,s.Q3)("",!0),(0,s.Lk)("div",pd,[(0,s.Lk)("button",{onClick:t[3]||(t[3]=t=>e.$emit("step",1)),class:"btn btn-secondary"}," Back "),(0,s.Lk)("button",{onClick:t[4]||(t[4]=t=>e.$emit("verify")),class:"btn btn-primary",disabled:6!==a.code.length||a.verifying},(0,l.v_)(a.verifying?"Verifying...":"Verify & Enable"),9,vd)])])):(0,s.Q3)("",!0)])])):(0,s.Q3)("",!0)]),_:1})}var fd={name:"TwoFactorModal",props:{show:{type:Boolean,required:!0},step:{type:Number,default:1},qrCode:{type:String,default:""},secret:{type:String,default:""},code:{type:String,default:""},error:{type:String,default:""},verifying:{type:Boolean,default:!1}},emits:["close","step","update:code","verify"]};const kd=(0,b.A)(fd,[["render",md],["__scopeId","data-v-12d5e2e3"]]);var yd=kd,bd={name:"Settings",components:{TwoFactorModal:yd},data(){return{user:{email_verified:!1,two_factor_enabled:!1},privacySettings:{dataSharingConsent:!1},notificationSettings:{emailEnabled:!0,weeklySummary:!0},notification:{show:!1,message:"",type:"success"},loading:{verification:!1,twoFactor:!1,password:!1,export:!1},showTwoFactorModal:!1,showPasswordModal:!1,setupStep:1,qrCodeUrl:"",secretKey:"",verificationCode:"",twoFactorError:"",passwordForm:{currentPassword:"",newPassword:"",confirmPassword:""},passwordError:"",passwordSuccess:""}},mounted(){this.loadUserData(),this.loadPrivacySettings(),this.loadNotificationSettings()},methods:{showToast(e,t="success",a=3e3){this.notification={show:!0,message:e,type:t},setTimeout(()=>{this.notification.show=!1},a)},async loadUserData(){try{const e=await id.getCurrentUser();this.user=e.data}catch(e){console.error("Error loading user data:",e)}},async loadPrivacySettings(){try{const e=await Te.A.getHealthProfile();e.data&&(this.privacySettings.dataSharingConsent=e.data.data_sharing_consent||!1)}catch(e){console.error("Error loading privacy settings:",e)}},async loadNotificationSettings(){try{const e=await id.getNotificationSettings();this.notificationSettings=e.data}catch(e){console.error("Error loading notification settings:",e),this.notificationSettings={emailEnabled:!0,weeklySummary:!0}}},async resendVerificationEmail(){this.loading.verification=!0;try{await id.resendVerificationEmail(),this.showToast("Verification email sent successfully. Please check your inbox.","success",5e3)}catch(e){console.error("Error sending verification email:",e),this.showToast("Failed to send verification email. Please try again later.","error",5e3)}finally{this.loading.verification=!1}},async setupTwoFactor(){this.loading.twoFactor=!0;try{this.verificationCode="",this.twoFactorError="",this.setupStep=1;const e=await id.generateTwoFactorSecret();this.qrCodeUrl=e.data.qr_code,this.secretKey=e.data.secret_key,this.showTwoFactorModal=!0}catch(e){console.error("Error setting up 2FA:",e),this.showToast("Failed to set up two-factor authentication. Please try again later.","error",5e3)}finally{this.loading.twoFactor=!1}},async verifyTwoFactor(){if(6===this.verificationCode.length){this.loading.verification=!0;try{await id.verifyTwoFactor(this.verificationCode),this.user.two_factor_enabled=!0,this.showTwoFactorModal=!1,this.showToast("Two-factor authentication enabled successfully.","success",5e3)}catch(e){console.error("Error verifying 2FA code:",e),this.twoFactorError="Invalid verification code. Please try again."}finally{this.loading.verification=!1}}else this.twoFactorError="Please enter a valid 6-digit code"},async disableTwoFactor(){if(confirm("Are you sure you want to disable two-factor authentication? This will make your account less secure.")){this.loading.twoFactor=!0;try{await id.disableTwoFactor(),this.user.two_factor_enabled=!1,this.showToast("Two-factor authentication disabled.","success",5e3)}catch(e){console.error("Failed to disable 2FA:",e),this.showToast("Failed to disable two-factor authentication. Please try again later.","error",5e3)}finally{this.loading.twoFactor=!1}}},async changePassword(){if(this.passwordError="",this.passwordSuccess="",this.passwordForm.newPassword===this.passwordForm.confirmPassword)if(this.passwordForm.newPassword.length<8)this.passwordError="Password must be at least 8 characters long";else{this.loading.password=!0;try{await id.changePassword(this.passwordForm.currentPassword,this.passwordForm.newPassword),this.passwordSuccess="Password updated successfully",this.passwordForm={currentPassword:"",newPassword:"",confirmPassword:""},setTimeout(()=>{this.showPasswordModal=!1,this.passwordSuccess=""},2e3)}catch(e){console.error("Error changing password:",e),e.response&&e.response.data&&e.response.data.detail?this.passwordError=e.response.data.detail:this.passwordError="Failed to update password. Please try again."}finally{this.loading.password=!1}}else this.passwordError="New passwords do not match"},async updatePrivacySettings(){try{const e=await Te.A.getHealthProfile(),t={...e.data,data_sharing_consent:this.privacySettings.dataSharingConsent};await Te.A.updateHealthProfile(t),this.showToast("Privacy settings updated successfully.","success",3e3)}catch(e){console.error("Error updating privacy settings:",e),this.showToast("Failed to update privacy settings.","error",3e3),this.loadPrivacySettings()}},async updateNotificationSettings(){try{await id.updateNotificationSettings(this.notificationSettings),this.showToast("Notification settings updated successfully.","success",3e3)}catch(e){console.error("Error updating notification settings:",e),this.showToast("Failed to update notification settings.","error",3e3),this.loadNotificationSettings()}},async exportData(){this.loading.export=!0;try{const e=await id.exportUserData(),t=window.URL.createObjectURL(new Blob([JSON.stringify(e.data,null,2)])),a=document.createElement("a");a.href=t,a.setAttribute("download","my_wellness_data.json"),document.body.appendChild(a),a.click(),document.body.removeChild(a),this.showToast("Data exported successfully.","success",3e3)}catch(e){console.error("Error exporting data:",e),this.showToast("Failed to export data. Please try again later.","error",3e3)}finally{this.loading.export=!1}}}};const wd=(0,b.A)(bd,[["render",td],["__scopeId","data-v-f7e8cf18"]]);var _d=wd;const Ld={class:"verify-email-container"},Cd={class:"verify-card"},Ad={key:0,class:"loading"},Sd={key:1,class:"success"},Ed={key:2,class:"error"},Pd={class:"actions"},Md=["disabled"];function Dd(e,t,a,i,r,o){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Ld,[(0,s.Lk)("div",Cd,[r.loading?((0,s.uX)(),(0,s.CE)("div",Ad,t[1]||(t[1]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",null,"Verifying your email...",-1)]))):r.verified?((0,s.uX)(),(0,s.CE)("div",Sd,[t[3]||(t[3]=(0,s.Lk)("div",{class:"icon"},"✓",-1)),t[4]||(t[4]=(0,s.Lk)("h2",null,"Email Verified Successfully!",-1)),t[5]||(t[5]=(0,s.Lk)("p",null,"Your email has been verified. You can now access all features of the Wellness Platform.",-1)),(0,s.bF)(n,{to:"/login",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[2]||(t[2]=[(0,s.eW)("Login")])),_:1,__:[2]})])):r.error?((0,s.uX)(),(0,s.CE)("div",Ed,[t[7]||(t[7]=(0,s.Lk)("div",{class:"icon"},"!",-1)),t[8]||(t[8]=(0,s.Lk)("h2",null,"Verification Failed",-1)),(0,s.Lk)("p",null,(0,l.v_)(r.error),1),(0,s.Lk)("div",Pd,[(0,s.bF)(n,{to:"/login",class:"btn btn-secondary"},{default:(0,s.k6)(()=>t[6]||(t[6]=[(0,s.eW)("Back to Login")])),_:1,__:[6]}),(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.resendVerification&&o.resendVerification(...e)),class:"btn btn-primary",disabled:r.resending},(0,l.v_)(r.resending?"Sending...":"Resend Verification Email"),9,Md)])])):(0,s.Q3)("",!0)])])}var Fd={name:"VerifyEmail",data(){return{loading:!0,verified:!1,error:null,token:null,resending:!1}},mounted(){if(this.token=this.$route.params.token,!this.token)return this.loading=!1,void(this.error="Invalid verification link. Please check your email and try again.");this.verifyEmail()},methods:{async verifyEmail(){try{await id.verifyEmail(this.token),this.verified=!0}catch(e){console.error("Email verification failed:",e),e.response&&e.response.data&&e.response.data.detail?this.error=e.response.data.detail:this.error="Failed to verify your email. The link may have expired or is invalid."}finally{this.loading=!1}},async resendVerification(){this.resending=!0;try{await id.resendVerificationEmail(this.$route.query.email),this.$toast.success("Verification email sent. Please check your inbox.",{position:"top-right",duration:5e3})}catch(e){console.error("Failed to resend verification email:",e),this.$toast.error("Failed to send verification email. Please try again later.",{position:"top-right",duration:5e3})}finally{this.resending=!1}}}};const xd=(0,b.A)(Fd,[["render",Dd],["__scopeId","data-v-a7b6c8e6"]]);var Id=xd;const Td={class:"reset-password-container"},Xd={key:0,class:"reset-card"},Wd={class:"form-group"},Vd=["disabled"],$d={class:"form-footer"},Nd={key:1,class:"reset-card"},Ud={class:"form-group"},Bd={class:"form-group"},Rd=["disabled"],Hd={key:1,class:"form-footer"};function Od(e,t,a,r,o,n){const c=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Td,[o.token?((0,s.uX)(),(0,s.CE)("div",Nd,[t[13]||(t[13]=(0,s.Lk)("h2",null,"Create New Password",-1)),t[14]||(t[14]=(0,s.Lk)("p",null,"Please enter your new password below.",-1)),(0,s.Lk)("form",{onSubmit:t[4]||(t[4]=(0,i.D$)((...e)=>n.resetPassword&&n.resetPassword(...e),["prevent"]))},[(0,s.Lk)("div",Ud,[t[9]||(t[9]=(0,s.Lk)("label",{for:"newPassword"},"New Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"newPassword","onUpdate:modelValue":t[2]||(t[2]=e=>o.newPassword=e),required:"",minlength:"8",placeholder:"Enter new password"},null,512),[[i.Jo,o.newPassword]]),t[10]||(t[10]=(0,s.Lk)("small",null,"Password must be at least 8 characters long",-1))]),(0,s.Lk)("div",Bd,[t[11]||(t[11]=(0,s.Lk)("label",{for:"confirmPassword"},"Confirm Password",-1)),(0,s.bo)((0,s.Lk)("input",{type:"password",id:"confirmPassword","onUpdate:modelValue":t[3]||(t[3]=e=>o.confirmPassword=e),required:"",placeholder:"Confirm new password"},null,512),[[i.Jo,o.confirmPassword]])]),o.resetMessage?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["alert",o.resetSuccess?"alert-success":"alert-danger"])},(0,l.v_)(o.resetMessage),3)):(0,s.Q3)("",!0),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary btn-block",disabled:o.loading||o.resetSuccess},(0,l.v_)(o.loading?"Updating...":"Reset Password"),9,Rd),o.resetSuccess?((0,s.uX)(),(0,s.CE)("div",Hd,[(0,s.bF)(c,{to:"/login",class:"btn btn-secondary"},{default:(0,s.k6)(()=>t[12]||(t[12]=[(0,s.eW)("Go to Login")])),_:1,__:[12]})])):(0,s.Q3)("",!0)],32)])):((0,s.uX)(),(0,s.CE)("div",Xd,[t[7]||(t[7]=(0,s.Lk)("h2",null,"Reset Password",-1)),t[8]||(t[8]=(0,s.Lk)("p",null,"Enter your email address and we'll send you a link to reset your password.",-1)),(0,s.Lk)("form",{onSubmit:t[1]||(t[1]=(0,i.D$)((...e)=>n.requestReset&&n.requestReset(...e),["prevent"]))},[(0,s.Lk)("div",Wd,[t[5]||(t[5]=(0,s.Lk)("label",{for:"email"},"Email Address",-1)),(0,s.bo)((0,s.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[0]||(t[0]=e=>o.email=e),required:"",placeholder:"Enter your email"},null,512),[[i.Jo,o.email]])]),o.requestMessage?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["alert",o.requestSuccess?"alert-success":"alert-danger"])},(0,l.v_)(o.requestMessage),3)):(0,s.Q3)("",!0),(0,s.Lk)("button",{type:"submit",class:"btn btn-primary btn-block",disabled:o.loading},(0,l.v_)(o.loading?"Sending...":"Send Reset Link"),9,Vd),(0,s.Lk)("div",$d,[(0,s.bF)(c,{to:"/login"},{default:(0,s.k6)(()=>t[6]||(t[6]=[(0,s.eW)("Back to Login")])),_:1,__:[6]})])],32)]))])}var jd={name:"ResetPassword",data(){return{token:"",email:"",newPassword:"",confirmPassword:"",loading:!1,requestMessage:"",requestSuccess:!1,resetMessage:"",resetSuccess:!1}},created(){this.token=this.$route.params.token||""},methods:{async requestReset(){if(!this.email)return this.requestMessage="Please enter your email address",void(this.requestSuccess=!1);this.loading=!0,this.requestMessage="";try{await id.resetPassword(this.email),this.requestSuccess=!0,this.requestMessage="If your email is registered, you will receive a password reset link shortly.",this.email=""}catch(e){console.error("Failed to request password reset:",e),this.requestSuccess=!0,this.requestMessage="If your email is registered, you will receive a password reset link shortly."}finally{this.loading=!1}},async resetPassword(){if(this.newPassword!==this.confirmPassword)return this.resetMessage="Passwords do not match",void(this.resetSuccess=!1);if(this.newPassword.length<8)return this.resetMessage="Password must be at least 8 characters long",void(this.resetSuccess=!1);this.loading=!0,this.resetMessage="";try{await id.confirmResetPassword(this.token,this.newPassword),this.resetSuccess=!0,this.resetMessage="Your password has been reset successfully!",this.newPassword="",this.confirmPassword=""}catch(e){console.error("Failed to reset password:",e),this.resetSuccess=!1,e.response&&e.response.data&&e.response.data.detail?this.resetMessage=e.response.data.detail:this.resetMessage="Failed to reset your password. The link may have expired or is invalid."}finally{this.loading=!1}}}};const Gd=(0,b.A)(jd,[["render",Od],["__scopeId","data-v-66ed6f18"]]);var qd=Gd;const Qd={class:"verify-prompt-container"},zd={class:"verify-card"},Jd={class:"actions"},Kd=["disabled"],Yd=["disabled"],Zd={class:"logout-link"};function eu(e,t,a,i,r,o){return(0,s.uX)(),(0,s.CE)("div",Qd,[(0,s.Lk)("div",zd,[t[5]||(t[5]=(0,s.Lk)("div",{class:"icon"},"✉️",-1)),t[6]||(t[6]=(0,s.Lk)("h2",null,"Verify Your Email",-1)),(0,s.Lk)("p",null,[t[3]||(t[3]=(0,s.eW)(" To access all features of the Wellness Platform, please verify your email address. We've sent a verification link to ")),(0,s.Lk)("strong",null,(0,l.v_)(o.userEmail),1),t[4]||(t[4]=(0,s.eW)(". "))]),t[7]||(t[7]=(0,s.Lk)("div",{class:"instructions"},[(0,s.Lk)("ol",null,[(0,s.Lk)("li",null,"Check your email inbox (and spam folder)"),(0,s.Lk)("li",null,"Click on the verification link in the email"),(0,s.Lk)("li",null,"Return to this page after verification")])],-1)),r.message?((0,s.uX)(),(0,s.CE)("div",{key:0,class:(0,l.C4)(["alert",r.successful?"alert-success":"alert-danger"])},(0,l.v_)(r.message),3)):(0,s.Q3)("",!0),(0,s.Lk)("div",Jd,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.resendVerificationEmail&&o.resendVerificationEmail(...e)),class:"btn btn-primary",disabled:r.loading},(0,l.v_)(r.loading?"Sending...":"Resend Verification Email"),9,Kd),(0,s.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>o.checkVerificationStatus&&o.checkVerificationStatus(...e)),class:"btn btn-secondary",disabled:r.loading}," I've Verified My Email ",8,Yd)]),t[8]||(t[8]=(0,s.Lk)("div",{class:"help-text"},[(0,s.Lk)("p",null,[(0,s.eW)(" Having trouble? "),(0,s.Lk)("a",{href:"mailto:support@wellnessplatform.com"},"Contact Support")])],-1)),(0,s.Lk)("div",Zd,[(0,s.Lk)("button",{onClick:t[2]||(t[2]=(...e)=>o.logout&&o.logout(...e)),class:"btn-text"},"Sign Out")])])])}var tu={name:"VerifyPrompt",data(){return{loading:!1,message:"",successful:!1}},computed:{currentUser(){return this.$store.getters["auth/currentUser"]},isEmailVerified(){return this.$store.getters["auth/isEmailVerified"]},userEmail(){return this.currentUser?.email||"your email address"}},created(){this.currentUser||this.$router.push("/login")},methods:{async resendVerificationEmail(){this.loading=!0,this.message="";try{await id.resendVerificationEmail(),this.successful=!0,this.message="Verification email has been sent! Please check your inbox."}catch(e){console.error("Failed to resend verification email:",e),this.successful=!1,e.response&&e.response.data&&e.response.data.detail?this.message=e.response.data.detail:this.message="Failed to send verification email. Please try again later."}finally{this.loading=!1}},async checkVerificationStatus(){this.loading=!0,this.message="";try{const e=await id.getCurrentUser(),t=e.data;t.email_verified?(this.$store.commit("auth/updateUser",{email_verified:!0}),this.successful=!0,this.message="Email verified successfully! Redirecting...",setTimeout(()=>{this.$router.push("/dashboard")},1500)):(this.successful=!1,this.message="Your email is not verified yet. Please check your inbox and click the verification link.")}catch(e){console.error("Failed to check verification status:",e),this.successful=!1,this.message="Failed to check verification status. Please try again."}finally{this.loading=!1}},logout(){this.$store.dispatch("auth/logout"),this.$router.push("/login")}}};const au=(0,b.A)(tu,[["render",eu],["__scopeId","data-v-f693b14e"]]);var iu=au;const su={class:"activities-page"},ru={class:"page-header"},ou={class:"filters-section"},nu={class:"filters-grid"},lu={class:"filter-group"},cu={class:"filter-group"},du={class:"filter-group"},uu=["value"],hu={class:"filter-actions"},gu={key:0,class:"loading-container"},pu={key:1,class:"error-container"},vu={class:"error-message"},mu={key:2,class:"activities-content"},fu={key:0,class:"activities-data"},ku={class:"stats-section"},yu={class:"stats-grid"},bu={class:"stat-card"},wu={class:"stat-info"},_u={class:"stat-value"},Lu={class:"stat-card"},Cu={class:"stat-info"},Au={class:"stat-value"},Su={class:"stat-card"},Eu={class:"stat-info"},Pu={class:"stat-value"},Mu={class:"stat-card"},Du={class:"stat-info"},Fu={class:"stat-value"},xu={class:"stat-card"},Iu={class:"stat-info"},Tu={class:"stat-value"},Xu={ref:"statsChart",class:"stats-chart"},Wu={class:"activities-table-section"},Vu={class:"table-container"},$u={class:"activities-table"},Nu={class:"date-cell"},Uu={class:"date-info"},Bu={class:"date"},Ru={class:"time"},Hu={class:"type-cell"},Ou={class:"type-icon"},ju={class:"type-label"},Gu={class:"name-cell"},qu={class:"activity-name"},Qu={class:"duration-cell"},zu={class:"duration-value"},Ju={class:"distance-cell"},Ku={key:0,class:"distance-value"},Yu={key:1,class:"no-data"},Zu={class:"calories-cell"},eh={key:0,class:"calories-value"},th={key:1,class:"no-data"},ah={class:"notes-cell"},ih=["title"],sh={key:1,class:"no-data"},rh={class:"actions-cell"},oh={class:"action-buttons"},nh=["onClick"],lh=["onClick"],ch={key:1,class:"empty-state"};function dh(e,t,a,r,o,n){const c=(0,s.g2)("add-activity-modal");return(0,s.uX)(),(0,s.CE)("div",su,[(0,s.Lk)("div",ru,[t[9]||(t[9]=(0,s.Lk)("div",{class:"header-content"},[(0,s.Lk)("h1",{class:"page-title"},"My Activities"),(0,s.Lk)("p",{class:"page-description"},"Track and manage all your fitness activities in one place.")],-1)),(0,s.Lk)("button",{class:"btn btn-primary",onClick:t[0]||(t[0]=e=>o.showAddModal=!0)},t[8]||(t[8]=[(0,s.Lk)("svg",{width:"20",height:"20",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M12 5V19M5 12H19",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),(0,s.eW)(" Log New Activity ")]))]),(0,s.Lk)("div",ou,[t[14]||(t[14]=(0,s.Lk)("h2",{class:"section-title"},"Filter Activities",-1)),(0,s.Lk)("div",nu,[(0,s.Lk)("div",lu,[t[10]||(t[10]=(0,s.Lk)("label",{class:"filter-label"},"From Date",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date","onUpdate:modelValue":t[1]||(t[1]=e=>o.filters.startDate=e),class:"filter-input"},null,512),[[i.Jo,o.filters.startDate]])]),(0,s.Lk)("div",cu,[t[11]||(t[11]=(0,s.Lk)("label",{class:"filter-label"},"To Date",-1)),(0,s.bo)((0,s.Lk)("input",{type:"date","onUpdate:modelValue":t[2]||(t[2]=e=>o.filters.endDate=e),class:"filter-input"},null,512),[[i.Jo,o.filters.endDate]])]),(0,s.Lk)("div",du,[t[12]||(t[12]=(0,s.Lk)("label",{class:"filter-label"},"Activity Type",-1)),(0,s.bo)((0,s.Lk)("select",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.filters.activityType=e),class:"filter-select"},[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activityTypes,e=>((0,s.uX)(),(0,s.CE)("option",{key:e.value,value:e.value},(0,l.v_)(e.label),9,uu))),128))],512),[[i.u1,o.filters.activityType]])]),(0,s.Lk)("div",hu,[(0,s.Lk)("button",{class:"btn btn-secondary",onClick:t[4]||(t[4]=(...e)=>n.fetchActivities&&n.fetchActivities(...e))},t[13]||(t[13]=[(0,s.Lk)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M21 21L16.5 16.5M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1),(0,s.eW)(" Apply Filters ")])),(0,s.Lk)("button",{class:"btn btn-text",onClick:t[5]||(t[5]=(...e)=>n.clearFilters&&n.clearFilters(...e))}," Clear ")])])]),o.loading?((0,s.uX)(),(0,s.CE)("div",gu,t[15]||(t[15]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",null,"Loading your activities...",-1)]))):o.error?((0,s.uX)(),(0,s.CE)("div",pu,[t[16]||(t[16]=(0,s.Lk)("div",{class:"error-icon"},"⚠️",-1)),(0,s.Lk)("p",vu,(0,l.v_)(o.error),1),(0,s.Lk)("button",{class:"btn btn-secondary",onClick:t[6]||(t[6]=(...e)=>n.fetchActivities&&n.fetchActivities(...e))}," Try Again ")])):((0,s.uX)(),(0,s.CE)("div",mu,[o.activities.length?((0,s.uX)(),(0,s.CE)("div",fu,[(0,s.Lk)("div",ku,[t[27]||(t[27]=(0,s.Lk)("h2",{class:"section-title"},"Activity Summary",-1)),(0,s.Lk)("div",yu,[(0,s.Lk)("div",bu,[t[18]||(t[18]=(0,s.Lk)("div",{class:"stat-icon activity-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M12 2L2 7V17C2 19.21 3.79 21 6 21H18C20.21 21 22 19.21 22 17V7L12 2Z",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,s.Lk)("div",wu,[(0,s.Lk)("div",_u,(0,l.v_)(o.stats.totalActivities),1),t[17]||(t[17]=(0,s.Lk)("div",{class:"stat-label"},"Total Activities",-1))])]),(0,s.Lk)("div",Lu,[t[20]||(t[20]=(0,s.Lk)("div",{class:"stat-icon duration-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("circle",{cx:"12",cy:"12",r:"10",stroke:"#30C1B1","stroke-width":"2"}),(0,s.Lk)("path",{d:"M12 6V12L16 14",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round"})])],-1)),(0,s.Lk)("div",Cu,[(0,s.Lk)("div",Au,(0,l.v_)(n.formatDuration(o.stats.totalDuration)),1),t[19]||(t[19]=(0,s.Lk)("div",{class:"stat-label"},"Total Duration",-1))])]),(0,s.Lk)("div",Su,[t[22]||(t[22]=(0,s.Lk)("div",{class:"stat-icon distance-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M9 11L12 14L22 4M21 12V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5C3 3.89543 3.89543 3 5 3H16",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,s.Lk)("div",Eu,[(0,s.Lk)("div",Pu,(0,l.v_)(o.stats.totalDistance.toFixed(1))+" km",1),t[21]||(t[21]=(0,s.Lk)("div",{class:"stat-label"},"Total Distance",-1))])]),(0,s.Lk)("div",Mu,[t[24]||(t[24]=(0,s.Lk)("div",{class:"stat-icon calories-icon"},[(0,s.Lk)("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M12 2C13.5 2 16.5 7 16.5 10C16.5 13 14.5 15 12 15C9.5 15 7.5 13 7.5 10C7.5 7 10.5 2 12 2Z",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M12 15V22",stroke:"#30C1B1","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),(0,s.Lk)("div",Du,[(0,s.Lk)("div",Fu,(0,l.v_)(o.stats.totalCalories),1),t[23]||(t[23]=(0,s.Lk)("div",{class:"stat-label"},"Total Calories",-1))])]),(0,s.Lk)("div",xu,[t[26]||(t[26]=(0,s.Fv)('<div class="stat-icon days-icon" data-v-3c78ebb8><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-3c78ebb8><rect x="3" y="4" width="18" height="18" rx="2" ry="2" stroke="#30C1B1" stroke-width="2" data-v-3c78ebb8></rect><line x1="16" y1="2" x2="16" y2="6" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" data-v-3c78ebb8></line><line x1="8" y1="2" x2="8" y2="6" stroke="#30C1B1" stroke-width="2" stroke-linecap="round" data-v-3c78ebb8></line><line x1="3" y1="10" x2="21" y2="10" stroke="#30C1B1" stroke-width="2" data-v-3c78ebb8></line></svg></div>',1)),(0,s.Lk)("div",Iu,[(0,s.Lk)("div",Tu,(0,l.v_)(o.stats.activeDays),1),t[25]||(t[25]=(0,s.Lk)("div",{class:"stat-label"},"Active Days",-1))])]),(0,s.Lk)("canvas",Xu,null,512)])]),(0,s.Lk)("div",Wu,[t[31]||(t[31]=(0,s.Lk)("h2",{class:"section-title"},"Activity History",-1)),(0,s.Lk)("div",Vu,[(0,s.Lk)("table",$u,[t[30]||(t[30]=(0,s.Lk)("thead",null,[(0,s.Lk)("tr",null,[(0,s.Lk)("th",null,"Date & Time"),(0,s.Lk)("th",null,"Type"),(0,s.Lk)("th",null,"Activity Name"),(0,s.Lk)("th",null,"Duration"),(0,s.Lk)("th",null,"Distance"),(0,s.Lk)("th",null,"Calories"),(0,s.Lk)("th",null,"Notes"),(0,s.Lk)("th",null,"Actions")])],-1)),(0,s.Lk)("tbody",null,[((0,s.uX)(!0),(0,s.CE)(s.FK,null,(0,s.pI)(o.activities,e=>((0,s.uX)(),(0,s.CE)("tr",{key:e.id,class:"activity-row"},[(0,s.Lk)("td",Nu,[(0,s.Lk)("div",Uu,[(0,s.Lk)("div",Bu,(0,l.v_)(n.formatDate(e.performed_at)),1),(0,s.Lk)("div",Ru,(0,l.v_)(n.formatTime(e.performed_at)),1)])]),(0,s.Lk)("td",Hu,[(0,s.Lk)("div",{class:(0,l.C4)(["activity-type-badge",`type-${e.activity_type}`])},[(0,s.Lk)("span",Ou,(0,l.v_)(n.getActivityIcon(e.activity_type)),1),(0,s.Lk)("span",ju,(0,l.v_)(n.getActivityTypeLabel(e.activity_type)),1)],2)]),(0,s.Lk)("td",Gu,[(0,s.Lk)("span",qu,(0,l.v_)(e.name),1)]),(0,s.Lk)("td",Qu,[(0,s.Lk)("span",zu,(0,l.v_)(e.duration_minutes)+"m",1)]),(0,s.Lk)("td",Ju,[e.distance_km?((0,s.uX)(),(0,s.CE)("span",Ku,(0,l.v_)(e.distance_km)+" km",1)):((0,s.uX)(),(0,s.CE)("span",Yu,"—"))]),(0,s.Lk)("td",Zu,[e.calories_burned?((0,s.uX)(),(0,s.CE)("span",eh,(0,l.v_)(e.calories_burned)+" cal",1)):((0,s.uX)(),(0,s.CE)("span",th,"—"))]),(0,s.Lk)("td",ah,[e.notes?((0,s.uX)(),(0,s.CE)("span",{key:0,class:"notes-text",title:e.notes},(0,l.v_)(n.truncateNotes(e.notes)),9,ih)):((0,s.uX)(),(0,s.CE)("span",sh,"—"))]),(0,s.Lk)("td",rh,[(0,s.Lk)("div",oh,[(0,s.Lk)("button",{class:"action-btn edit-btn",onClick:t=>n.editActivity(e),title:"Edit activity"},t[28]||(t[28]=[(0,s.Lk)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M11 4H4C3.46957 4 2.96086 4.21071 2.58579 4.58579C2.21071 4.96086 2 5.46957 2 6V20C2 20.5304 2.21071 21.0391 2.58579 21.4142C2.96086 21.7893 3.46957 22 4 22H18C18.5304 22 19.0391 21.7893 19.4142 21.4142C19.7893 21.0391 20 20.5304 20 20V13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M18.5 2.50023C18.8978 2.1024 19.4374 1.87891 20 1.87891C20.5626 1.87891 21.1022 2.1024 21.5 2.50023C21.8978 2.89805 22.1213 3.43762 22.1213 4.00023C22.1213 4.56284 21.8978 5.1024 21.5 5.50023L12 15.0002L8 16.0002L9 12.0002L18.5 2.50023Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,nh),(0,s.Lk)("button",{class:"action-btn delete-btn",onClick:t=>n.deleteActivity(e.id),title:"Delete activity"},t[29]||(t[29]=[(0,s.Lk)("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[(0,s.Lk)("path",{d:"M3 6H5H21",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),(0,s.Lk)("path",{d:"M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,lh)])])]))),128))])])])])])):((0,s.uX)(),(0,s.CE)("div",ch,[t[32]||(t[32]=(0,s.Fv)('<div class="empty-icon" data-v-3c78ebb8><svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" data-v-3c78ebb8><path d="M12 2L2 7V17C2 19.21 3.79 21 6 21H18C20.21 21 22 19.21 22 17V7L12 2Z" stroke="#CBD5E0" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" data-v-3c78ebb8></path></svg></div><h3 class="empty-title" data-v-3c78ebb8>No Activities Found</h3><p class="empty-description" data-v-3c78ebb8> No activities match your current filters. Try adjusting your date range or activity type. </p>',3)),(0,s.Lk)("button",{class:"btn btn-primary",onClick:t[7]||(t[7]=(...e)=>n.clearFilters&&n.clearFilters(...e))}," Clear Filters ")]))])),o.showAddModal?((0,s.uX)(),(0,s.Wv)(c,{key:3,loading:o.modalLoading,error:o.modalError,onClose:n.onCloseModal,onSave:n.onSaveActivity},null,8,["loading","error","onClose","onSave"])):(0,s.Q3)("",!0)])}var uh={name:"ActivitiesPage",components:{AddActivityModal:Ms},data(){const e=(new Date).toISOString().substr(0,10),t=new Date;return t.setDate(t.getDate()-7),{activities:[],stats:{totalActivities:0,totalDuration:0,totalDistance:0,totalCalories:0,activeDays:0,distribution:{}},loading:!1,error:null,filters:{startDate:t.toISOString().substr(0,10),endDate:e,activityType:""},activityTypes:[{value:"",label:"All Types"},{value:"cardio",label:"Cardio"},{value:"strength",label:"Strength Training"},{value:"flexibility",label:"Flexibility"},{value:"sports",label:"Sports"},{value:"hiit",label:"HIIT"},{value:"yoga",label:"Yoga"},{value:"other",label:"Other"}],showAddModal:!1,modalLoading:!1,modalError:null}},created(){this.fetchActivities()},methods:{async fetchActivities(){this.loading=!0,this.error=null;try{let e;const{startDate:t,endDate:a,activityType:i}=this.filters;if(i){let s;e=await Be.getActivitiesByType(i),s=e.data&&e.data.results?e.data.results:Array.isArray(e.data)?e.data:[],this.activities=s.filter(e=>{const i=e.performed_at.substr(0,10);return i>=t&&i<=a})}else e=await Be.getActivitiesByDateRange(t,a),e.data&&e.data.results?this.activities=e.data.results:Array.isArray(e.data)?this.activities=e.data:this.activities=[];this.computeStats()}catch(e){console.error("Failed to fetch activities:",e),this.error="Failed to load activities. Please try again.",this.activities=[]}finally{this.loading=!1}},computeStats(){const e=Array.isArray(this.activities)?this.activities:[];try{this.stats={totalActivities:e.length,totalDuration:e.reduce((e,t)=>e+(t.duration_minutes||0),0),totalDistance:e.reduce((e,t)=>e+(parseFloat(t.distance_km)||0),0),totalCalories:e.reduce((e,t)=>e+(t.calories_burned||0),0),activeDays:Be.calculateActiveDays(e),distribution:Be.calculateActivityDistribution(e)}}catch(t){console.error("Error computing stats:",t),this.stats={totalActivities:0,totalDuration:0,totalDistance:0,totalCalories:0,activeDays:0,distribution:{}}}},clearFilters(){const e=(new Date).toISOString().substr(0,10),t=new Date;t.setMonth(t.getMonth()-1),this.filters={startDate:t.toISOString().substr(0,10),endDate:e,activityType:""},this.fetchActivities()},formatDate(e){const t=new Date(e);return t.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"})},formatTime(e){const t=new Date(e);return t.toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"})},formatDuration(e){if(e<60)return`${e}m`;const t=Math.floor(e/60),a=e%60;return a>0?`${t}h ${a}m`:`${t}h`},truncateNotes(e){return e?e.length>30?e.substring(0,30)+"...":e:""},getActivityIcon(e){const t={cardio:"🏃",strength:"💪",flexibility:"🧘",sports:"⚽",hiit:"⚡",yoga:"🧘",other:"🏋️"};return t[e]||"🏃"},getActivityTypeLabel(e){const t=this.activityTypes.find(t=>t.value===e);return t?t.label:e},async deleteActivity(e){if(confirm("Are you sure you want to delete this activity? This action cannot be undone."))try{await Be.deleteActivity(e),await this.fetchActivities()}catch(t){console.error("Failed to delete activity:",t),alert("Failed to delete activity. Please try again.")}},editActivity(e){console.log("Edit functionality not yet implemented",e),alert("Edit functionality will be implemented in a future update.")},onCloseModal(){this.showAddModal=!1,this.modalError=null},async onSaveActivity(e){this.modalLoading=!0,this.modalError=null;try{await Be.createActivity(e),this.showAddModal=!1,await this.fetchActivities()}catch(t){console.error("Failed to save activity:",t),this.modalError="Failed to save activity. Please try again."}finally{this.modalLoading=!1}}}};const hh=(0,b.A)(uh,[["render",dh],["__scopeId","data-v-3c78ebb8"]]);var gh=hh,ph=a(5809);const vh={class:"oauth-callback"},mh={class:"callback-container"},fh={key:0,class:"loading"},kh={key:1,class:"error"},yh={key:0,class:"debug-info"},bh={class:"action-buttons"},wh={key:2,class:"success"};function _h(e,t,a,i,r,o){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",vh,[(0,s.Lk)("div",mh,[r.loading?((0,s.uX)(),(0,s.CE)("div",fh,t[1]||(t[1]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",null,"Processing login... Please wait.",-1)]))):r.error?((0,s.uX)(),(0,s.CE)("div",kh,[t[4]||(t[4]=(0,s.Lk)("div",{class:"error-icon"},"!",-1)),t[5]||(t[5]=(0,s.Lk)("h2",null,"Authentication Failed",-1)),(0,s.Lk)("p",null,(0,l.v_)(r.error),1),r.debugInfo?((0,s.uX)(),(0,s.CE)("div",yh,[(0,s.Lk)("details",null,[t[2]||(t[2]=(0,s.Lk)("summary",null,"Technical Details (For Developers)",-1)),(0,s.Lk)("pre",null,(0,l.v_)(r.debugInfo),1)])])):(0,s.Q3)("",!0),(0,s.Lk)("div",bh,[(0,s.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>o.retryAuthentication&&o.retryAuthentication(...e)),class:"btn btn-primary"}," Try Again "),(0,s.bF)(n,{to:"/login",class:"btn btn-secondary"},{default:(0,s.k6)(()=>t[3]||(t[3]=[(0,s.eW)(" Return to Login ")])),_:1,__:[3]})])])):((0,s.uX)(),(0,s.CE)("div",wh,t[6]||(t[6]=[(0,s.Lk)("div",{class:"success-icon"},"✓",-1),(0,s.Lk)("h2",null,"Authentication Successful",-1),(0,s.Lk)("p",null,"Redirecting to dashboard...",-1)])))])])}const Lh={logAuthResponse(e){const t={hasCode:e.has("code"),codeLength:e.get("code")?.length||0,hasState:e.has("state"),stateValue:e.get("state"),hasError:e.has("error"),errorValue:e.get("error"),hasErrorDescription:e.has("error_description"),errorDescription:e.get("error_description"),allParams:Object.fromEntries(e.entries())};return t.allParams.code&&(t.allParams.code=`${t.allParams.code.substring(0,10)}... [truncated]`),t},validateConfig(){const e={hasGoogleClientId:!!{NODE_ENV:"production",BASE_URL:"/"}.VUE_APP_GOOGLE_CLIENT_ID,redirectUriConfigured:!0,routeConfigured:!0,issues:[]};e.hasGoogleClientId||e.issues.push("Google Client ID not configured in environment variables");try{const t=a(6425);e.axiosConfigured=!!t.defaults.baseURL,e.axiosConfigured||e.issues.push("Axios base URL not configured")}catch(t){e.axiosConfigured=!1,e.issues.push("Error loading Axios configuration")}return console.log("OAuth Configuration Validation:",e),e},checkStorage(){const e={localStorage:{user:localStorage.getItem("user")?"Present":"Not present",oauth_state:localStorage.getItem("oauth_state")},sessionStorage:{auth_in_progress:sessionStorage.getItem("auth_in_progress")}};return e}};var Ch=Lh,Ah={name:"OAuthCallback",props:{provider:{type:String,default:null}},data(){return{loading:!0,error:null,debugInfo:null}},mounted(){Ch.checkStorage(),this.processCallback()},methods:{processCallback(){try{const e=new URLSearchParams(window.location.search),t=Ch.logAuthResponse(e);let a=this.provider||this.$route.params.provider;if(!a){const e=window.location.pathname.split("/");if(e.includes("callback")){const t=e.indexOf("callback")-1;t>=0&&e[t]&&(a=e[t])}}if(a=a||"google",this.debugInfo=JSON.stringify({url:window.location.href,search:window.location.search,pathname:window.location.pathname,debugData:t,provider:a,routeParams:this.$route.params,timestamp:(new Date).toISOString()},null,2),e.get("error")){const t=e.get("error_description")||e.get("error");return this.error=`Authentication error: ${t}`,void(this.loading=!1)}if(!e.get("code"))return this.error="No authorization code received. Please try again.",void(this.loading=!1);z.A.processCallback(e,a).then(e=>{this.$store.commit("auth/loginSuccess",e),this.loading=!1,setTimeout(()=>{this.$router.push("/dashboard")},1e3)}).catch(e=>{console.error("OAuth callback error:",e),this.error=e.message||"Failed to complete authentication. Please try again.",this.loading=!1})}catch(e){console.error("Error in processCallback:",e),this.error=`Authentication processing error: ${e.message}`,this.loading=!1}},retryAuthentication(){localStorage.removeItem("oauth_error"),sessionStorage.removeItem("auth_in_progress");const e=window.location.pathname.split("/");let t="google";if(e.includes("callback")){const a=e.indexOf("callback")-1;a>=0&&e[a]&&(t=e[a])}"github"===t?z.A.loginWithGitHub().catch(e=>{console.error("Failed to restart GitHub authentication:",e),this.error=`Failed to restart authentication: ${e.message}`}):z.A.loginWithGoogle().catch(e=>{console.error("Failed to restart Google authentication:",e),this.error=`Failed to restart authentication: ${e.message}`})}}};const Sh=(0,b.A)(Ah,[["render",_h],["__scopeId","data-v-5899d3d1"]]);var Eh=Sh;const Ph={class:"oauth-success"},Mh={class:"success-container"},Dh={key:0,class:"loading"},Fh={key:1,class:"error"},xh={key:2,class:"success"};function Ih(e,t,a,i,r,o){const n=(0,s.g2)("router-link");return(0,s.uX)(),(0,s.CE)("div",Ph,[(0,s.Lk)("div",Mh,[r.loading?((0,s.uX)(),(0,s.CE)("div",Dh,t[0]||(t[0]=[(0,s.Lk)("div",{class:"loading-spinner"},null,-1),(0,s.Lk)("p",null,"Finalizing login... Please wait.",-1)]))):r.error?((0,s.uX)(),(0,s.CE)("div",Fh,[t[2]||(t[2]=(0,s.Lk)("div",{class:"error-icon"},"!",-1)),t[3]||(t[3]=(0,s.Lk)("h2",null,"Authentication Error",-1)),(0,s.Lk)("p",null,(0,l.v_)(r.error),1),(0,s.bF)(n,{to:"/login",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[1]||(t[1]=[(0,s.eW)("Return to Login")])),_:1,__:[1]})])):((0,s.uX)(),(0,s.CE)("div",xh,[t[5]||(t[5]=(0,s.Lk)("div",{class:"success-icon"},"✓",-1)),t[6]||(t[6]=(0,s.Lk)("h2",null,"Login Successful!",-1)),t[7]||(t[7]=(0,s.Lk)("p",null,"You have successfully logged in with your account.",-1)),(0,s.bF)(n,{to:"/dashboard",class:"btn btn-primary"},{default:(0,s.k6)(()=>t[4]||(t[4]=[(0,s.eW)("Go to Dashboard")])),_:1,__:[4]})]))])])}var Th={name:"OAuthSuccess",data(){return{loading:!0,error:null}},created(){this.processTokens()},methods:{processTokens(){try{const e=new URLSearchParams(window.location.search),t=e.get("tokens");if(!t)throw new Error("No authentication tokens provided");const a=JSON.parse(decodeURIComponent(t));if(!a.access||!a.refresh)throw new Error("Invalid authentication tokens");const i={...a,username:"User",email_verified:!0};this.$store.commit("auth/loginSuccess",i),this.loading=!1,setTimeout(()=>{this.$router.push("/dashboard")},1500)}catch(e){console.error("Error processing OAuth tokens:",e),this.error=e.message||"Failed to process authentication.",this.loading=!1}}}};const Xh=(0,b.A)(Th,[["render",Ih],["__scopeId","data-v-0f00c168"]]);var Wh=Xh,Vh=a(1233);const $h=[{path:"/",name:"Home",component:$},{path:"/login",name:"Login",component:ie,meta:{guest:!0}},{path:"/register",name:"Register",component:fe,meta:{guest:!0}},{path:"/dashboard",name:"Dashboard",component:br,meta:{requiresAuth:!0}},{path:"/profile",name:"Profile",component:fc,meta:{requiresAuth:!0}},{path:"/settings",name:"Settings",component:_d,meta:{requiresAuth:!0}},{path:"/verify-email/:token",name:"VerifyEmail",component:Id,props:!0},{path:"/verify-prompt",name:"VerifyPrompt",component:iu,meta:{requiresAuth:!0}},{path:"/reset-password",name:"RequestPasswordReset",component:qd,meta:{guest:!0}},{path:"/reset-password/:token",name:"ResetPassword",component:qd,props:!0,meta:{guest:!0}},{path:"/auth/callback",name:"GenericOAuthCallback",component:Eh},{path:"/auth/callback/:provider",name:"ProviderOAuthCallback",component:Eh,props:!0},{path:"/auth/success",name:"OAuthSuccess",component:Wh},{path:"/auth/success",name:"OAuthSuccess",component:Wh},{path:"/design-system",name:"DesignSystem",component:()=>a.e(800).then(a.bind(a,3800))},{path:"/progress",name:"Progress",component:()=>a.e(552).then(a.bind(a,5552)),meta:{requiresAuth:!0}},{path:"/activities",name:"Activities",component:gh,meta:{requiresAuth:!0}},{path:"/meal-planning",name:"MealPlanningDashboard",component:()=>a.e(712).then(a.bind(a,7712)),meta:{requiresAuth:!0}}],Nh=(0,k.aE)({history:(0,k.LA)("/"),routes:$h});Nh.$store=ph.A,Nh.beforeEach((e,t,a)=>{if(!ph.A||!ph.A.state||!ph.A.state.auth)return void a();const i=Vh.A.validateToken(),s=ph.A.getters["auth/isLoggedIn"];if(s&&!i&&ph.A.commit("auth/logout"),i&&!s){const e=localStorage.getItem("user")||sessionStorage.getItem("user");try{const t=JSON.parse(e);ph.A.commit("auth/loginSuccess",t)}catch(o){console.error("Failed to restore user session:",o)}}const r=ph.A.getters["auth/isLoggedIn"]&&i;if(e.matched.some(e=>e.meta.requiresAuth))if(r){if(!ph.A.getters["auth/isEmailVerified"]&&"VerifyPrompt"!==e.name)return void a({path:"/verify-prompt"});a()}else a({path:"/login"});else e.matched.some(e=>e.meta.guest)&&r?a({path:"/dashboard"}):a()});var Uh=Nh;const Bh=(0,i.Ef)(A);Bh.use(ph.A),Bh.use(Uh),Bh.mount("#app")}},t={};function a(i){var s=t[i];if(void 0!==s)return s.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,a),r.exports}a.m=e,function(){var e=[];a.O=function(t,i,s,r){if(!i){var o=1/0;for(d=0;d<e.length;d++){i=e[d][0],s=e[d][1],r=e[d][2];for(var n=!0,l=0;l<i.length;l++)(!1&r||o>=r)&&Object.keys(a.O).every(function(e){return a.O[e](i[l])})?i.splice(l--,1):(n=!1,r<o&&(o=r));if(n){e.splice(d--,1);var c=s();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[i,s,r]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var i in t)a.o(t,i)&&!a.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce(function(t,i){return a.f[i](e,t),t},[]))}}(),function(){a.u=function(e){return"static/js/"+e+"."+{552:"2c8d6be1",712:"9e6a05a7",800:"d305e6fa"}[e]+".js"}}(),function(){a.miniCssF=function(e){return"static/css/"+e+"."+{552:"c310da94",712:"5ec809db",800:"e00c9cfb"}[e]+".css"}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="frontend:";a.l=function(i,s,r,o){if(e[i])e[i].push(s);else{var n,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+r){n=u;break}}n||(l=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+r),n.src=i),e[i]=[s];var h=function(t,a){n.onerror=n.onload=null,clearTimeout(g);var s=e[i];if(delete e[i],n.parentNode&&n.parentNode.removeChild(n),s&&s.forEach(function(e){return e(a)}),t)return t(a)},g=setTimeout(h.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=h.bind(null,n.onerror),n.onload=h.bind(null,n.onload),l&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){if("undefined"!==typeof document){var e=function(e,t,i,s,r){var o=document.createElement("link");o.rel="stylesheet",o.type="text/css",a.nc&&(o.nonce=a.nc);var n=function(a){if(o.onerror=o.onload=null,"load"===a.type)s();else{var i=a&&a.type,n=a&&a.target&&a.target.href||t,l=new Error("Loading CSS chunk "+e+" failed.\n("+i+": "+n+")");l.name="ChunkLoadError",l.code="CSS_CHUNK_LOAD_FAILED",l.type=i,l.request=n,o.parentNode&&o.parentNode.removeChild(o),r(l)}};return o.onerror=o.onload=n,o.href=t,i?i.parentNode.insertBefore(o,i.nextSibling):document.head.appendChild(o),o},t=function(e,t){for(var a=document.getElementsByTagName("link"),i=0;i<a.length;i++){var s=a[i],r=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(r===e||r===t))return s}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){s=o[i],r=s.getAttribute("data-href");if(r===e||r===t)return s}},i=function(i){return new Promise(function(s,r){var o=a.miniCssF(i),n=a.p+o;if(t(o,n))return s();e(i,n,null,s,r)})},s={524:0};a.f.miniCss=function(e,t){var a={552:1,712:1,800:1};s[e]?t.push(s[e]):0!==s[e]&&a[e]&&t.push(s[e]=i(e).then(function(){s[e]=0},function(t){throw delete s[e],t}))}}}(),function(){var e={524:0};a.f.j=function(t,i){var s=a.o(e,t)?e[t]:void 0;if(0!==s)if(s)i.push(s[2]);else{var r=new Promise(function(a,i){s=e[t]=[a,i]});i.push(s[2]=r);var o=a.p+a.u(t),n=new Error,l=function(i){if(a.o(e,t)&&(s=e[t],0!==s&&(e[t]=void 0),s)){var r=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;n.message="Loading chunk "+t+" failed.\n("+r+": "+o+")",n.name="ChunkLoadError",n.type=r,n.request=o,s[1](n)}};a.l(o,l,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,i){var s,r,o=i[0],n=i[1],l=i[2],c=0;if(o.some(function(t){return 0!==e[t]})){for(s in n)a.o(n,s)&&(a.m[s]=n[s]);if(l)var d=l(a)}for(t&&t(i);c<o.length;c++)r=o[c],a.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return a.O(d)},i=self["webpackChunkfrontend"]=self["webpackChunkfrontend"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=a.O(void 0,[504],function(){return a(9017)});i=a.O(i)})();
//# sourceMappingURL=app.f387d581.js.map