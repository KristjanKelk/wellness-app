{"version":3,"file":"static/js/147.0dd0417d.js","mappings":"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","sources":["webpack://frontend/./src/views/MealPlanningDashboard.vue","webpack://frontend/./src/components/meal-planning/RecipeBrowser.vue","webpack://frontend/./src/components/meal-planning/RecipeBrowser.vue?d5bd","webpack://frontend/./src/components/meal-planning/NutritionProfileSetup.vue","webpack://frontend/./src/components/meal-planning/NutritionProfileSetup.vue?a143","webpack://frontend/./src/components/meal-planning/MealPlanManager.vue","webpack://frontend/./src/components/meal-planning/MealPlanDetailModal.vue","webpack://frontend/./src/components/meal-planning/RecipeDetailModal.vue","webpack://frontend/./src/components/meal-planning/ShoppingListModal.vue","webpack://frontend/./src/components/meal-planning/ShoppingListModal.vue?1777","webpack://frontend/./src/components/meal-planning/RecipeDetailModal.vue?8566","webpack://frontend/./src/components/meal-planning/MealPlanDetailModal.vue?89cd","webpack://frontend/./src/components/meal-planning/NutritionalAnalysisModal.vue","webpack://frontend/./src/components/meal-planning/NutritionalAnalysisModal.vue?dff1","webpack://frontend/./src/components/meal-planning/AlternativesModal.vue","webpack://frontend/./src/components/meal-planning/AlternativesModal.vue?9204","webpack://frontend/./src/components/meal-planning/MealPlanManager.vue?4c5c","webpack://frontend/./src/components/meal-planning/ComingSoonCard.vue","webpack://frontend/./src/components/meal-planning/ComingSoonCard.vue?29f3","webpack://frontend/./src/views/MealPlanningDashboard.vue?a0c3","webpack://frontend/./src/services/mealPlanningApi.js"],"sourcesContent":["<!-- src/views/MealPlanningDashboard.vue -->\n<template>\n  <div class=\"meal-planning-dashboard\">\n    <div class=\"dashboard-header\">\n      <h1>Meal Planning Dashboard</h1>\n      <p>AI-powered nutrition and meal planning</p>\n    </div>\n\n    <div class=\"dashboard-tabs\">\n      <nav class=\"tabs-nav\">\n        <button\n          v-for=\"tab in tabs\"\n          :key=\"tab.id\"\n          @click=\"activeTab = tab.id\"\n          class=\"tab-button\"\n          :class=\"{ 'active': activeTab === tab.id }\"\n        >\n          <i :class=\"tab.icon\"></i>\n          {{ tab.name }}\n        </button>\n      </nav>\n\n      <div class=\"tab-content\">\n        <div v-if=\"activeTab === 'recipes'\" class=\"tab-panel\">\n          <recipe-browser\n            :recipes=\"recipes\"\n            :loading=\"recipesLoading\"\n            @recipe-selected=\"selectRecipe\"\n            @refresh-recipes=\"loadRecipes\"\n            @recipe-saved=\"onRecipeSaved\"\n            @recipe-removed=\"onRecipeRemoved\"\n          />\n        </div>\n\n        <div v-if=\"activeTab === 'profile'\" class=\"tab-panel\">\n          <nutrition-profile-setup\n            :profile=\"nutritionProfile\"\n            :loading=\"profileLoading\"\n            @profile-updated=\"onProfileUpdated\"\n          />\n        </div>\n\n        <div v-if=\"activeTab === 'meal-plans'\" class=\"tab-panel\">\n          <meal-plan-manager\n            :loading=\"mealPlansLoading\"\n            :nutrition-profile=\"nutritionProfile\"\n            @meal-plan-generated=\"onMealPlanGenerated\"\n          />\n        </div>\n\n      <div v-if=\"activeTab === 'analytics'\" class=\"tab-panel\">\n        <coming-soon-card\n          title=\"Nutrition Analytics\"\n          description=\"Detailed nutrition analytics coming soon!\"\n          icon=\"fas fa-chart-line\"\n        />\n      </div>\n    </div>\n  </div>\n  <recipe-detail-modal\n    v-if=\"showRecipeModal\"\n    :recipe=\"selectedRecipe\"\n    @close=\"closeRecipeModal\"\n    @recipe-saved=\"onRecipeSaved\"\n  />\n</div>\n</template>\n\n<script>\nimport RecipeBrowser from '../components/meal-planning/RecipeBrowser.vue'\nimport NutritionProfileSetup from '../components/meal-planning/NutritionProfileSetup.vue'\nimport MealPlanManager from '../components/meal-planning/MealPlanManager.vue'\nimport ComingSoonCard from '../components/meal-planning/ComingSoonCard.vue'\nimport RecipeDetailModal from '../components/meal-planning/RecipeDetailModal.vue'\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\n\nexport default {\n  name: 'MealPlanningDashboard',\n  components: {\n    RecipeBrowser,\n    NutritionProfileSetup,\n    MealPlanManager,\n    ComingSoonCard,\n    RecipeDetailModal\n  },\n  data() {\n    return {\n      activeTab: 'recipes',\n      tabs: [\n        { id: 'recipes', name: 'My Recipes', icon: 'fas fa-utensils' },\n        { id: 'profile', name: 'Nutrition Profile', icon: 'fas fa-user-cog' },\n        { id: 'meal-plans', name: 'Meal Plans', icon: 'fas fa-calendar-alt' },\n        { id: 'analytics', name: 'Analytics', icon: 'fas fa-chart-line' }\n      ],\n      recipes: [],\n      nutritionProfile: null,\n      recipesLoading: false,\n      profileLoading: false,\n      mealPlansLoading: false,\n      showRecipeModal: false,\n      selectedRecipe: null\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.getters['auth/currentUser'];\n    }\n  },\n  async mounted() {\n    if (!this.currentUser) {\n      this.$router.push('/login');\n      return;\n    }\n    await this.loadInitialData()\n  },\n  methods: {\n    async loadInitialData() {\n      await Promise.all([\n        this.loadRecipes(),\n        this.loadNutritionProfile()\n      ])\n    },\n\n    async loadRecipes() {\n      this.recipesLoading = true\n      try {\n        // Add cache busting parameter to ensure fresh data\n        const params = {\n          _t: Date.now(),\n          page_size: 100  // Load more recipes by default\n        }\n        if (process.env.NODE_ENV === 'development') {\n          console.log(' Loading my recipes from API...')\n        }\n        \n        const response = await mealPlanningApi.getMyRecipes(params)\n        \n        // Handle pagination response\n        if (response?.data?.results && Array.isArray(response.data.results)) {\n          this.recipes = response.data.results\n          if (process.env.NODE_ENV === 'development') {\n            console.log(` Loaded ${this.recipes.length} my recipes (${response.data.count} total available)`)\n          }\n        } else if (Array.isArray(response?.data)) {\n          this.recipes = response.data\n          if (process.env.NODE_ENV === 'development') {\n            console.log(` Loaded ${this.recipes.length} my recipes`)\n          }\n        } else {\n          console.warn(' Unexpected API response structure:', response?.data)\n          this.recipes = []\n        }\n      } catch (error) {\n        console.error(' Failed to load my recipes:', error.message)\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Error details:', {\n            status: error.response?.status,\n            data: error.response?.data\n          })\n        }\n        \n        this.recipes = []\n        // Show user-friendly error\n        this.$toast?.error?.('Failed to load your recipes') ||\n        alert('Failed to load your recipes')\n      } finally {\n        this.recipesLoading = false\n      }\n    },\n\n    async loadNutritionProfile() {\n      this.profileLoading = true\n      try {\n        const response = await mealPlanningApi.getNutritionProfile()\n        this.nutritionProfile = response.data\n      } catch (error) {\n        console.error('Failed to load nutrition profile:', error)\n        // Create default profile if none exists\n        this.nutritionProfile = {\n          calorie_target: 2000,\n          protein_target: 100,\n          carb_target: 250,\n          fat_target: 67,\n          dietary_preferences: [],\n          allergies_intolerances: [],\n          cuisine_preferences: [],\n          disliked_ingredients: [],\n          meals_per_day: 3,\n          timezone: 'Europe/Tallinn'\n        }\n      } finally {\n        this.profileLoading = false\n      }\n    },\n\n    // Fixed: Handle profile updates properly\n    onProfileUpdated(updatedProfile) {\n      // Update local state with the new profile data\n      this.nutritionProfile = { ...updatedProfile }\n\n      // Optionally reload related data that depends on the profile\n      // For example, if meal plans depend on the nutrition profile\n      if (this.activeTab === 'meal-plans') {\n        // Refresh meal plans since preferences might have changed\n        this.$nextTick(() => {\n          this.$forceUpdate()\n        })\n      }\n    },\n\n    selectRecipe(recipe) {\n      this.selectedRecipe = recipe\n      this.showRecipeModal = true\n    },\n\n    closeRecipeModal() {\n      this.showRecipeModal = false\n      this.selectedRecipe = null\n    },\n\n    async onRecipeRemoved(removedRecipe) {\n      console.log('Recipe removed event received:', removedRecipe)\n      \n      // Remove from local state\n      this.recipes = this.recipes.filter(r => r.id !== removedRecipe.id)\n      \n      // Refresh the recipes list to ensure consistency\n      await this.loadRecipes()\n    },\n\n    async onRecipeSaved(savedRecipe) {\n      console.log('Recipe saved event received:', savedRecipe)\n      \n      // Refresh the recipes list to show the newly saved recipe\n      await this.loadRecipes()\n      \n      // If we're on the recipes tab, show a brief highlight or message\n      if (this.activeTab === 'recipes') {\n        this.$nextTick(() => {\n          console.log('My recipes refreshed after saving new recipe')\n        })\n      }\n    },\n\n    async onMealPlanGenerated(mealPlan) {\n      console.log('New meal plan generated:', mealPlan)\n      \n      // Show success message\n      this.$toast?.success?.('Meal plan generated successfully!') ||\n      alert('Meal plan generated successfully!')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.meal-planning-dashboard {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: $spacing-6;\n}\n\n.dashboard-header {\n  text-align: center;\n  margin-bottom: $spacing-8;\n\n  h1 {\n    margin: 0 0 $spacing-2 0;\n    color: $primary-dark;\n    font-size: 2rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1.1rem;\n  }\n}\n\n.dashboard-tabs {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n}\n\n.tabs-nav {\n  display: flex;\n  background: $gray-light;\n  border-bottom: 1px solid $gray-lighter;\n}\n\n.tab-button {\n  flex: 1;\n  padding: $spacing-4 $spacing-6;\n  border: none;\n  background: transparent;\n  color: $gray;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: $spacing-2;\n\n  i {\n    font-size: 0.9rem;\n  }\n\n  &:hover {\n    background: rgba($primary, 0.1);\n    color: $primary;\n  }\n\n  &.active {\n    background: $primary;\n    color: $white;\n    box-shadow: inset 0 -3px 0 rgba($white, 0.3);\n  }\n}\n\n.tab-content {\n  min-height: 600px;\n}\n\n.tab-panel {\n  padding: $spacing-6;\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .meal-planning-dashboard {\n    padding: $spacing-4;\n  }\n\n  .tabs-nav {\n    flex-direction: column;\n  }\n\n  .tab-button {\n    justify-content: flex-start;\n    padding: $spacing-3 $spacing-4;\n  }\n\n  .tab-panel {\n    padding: $spacing-4;\n  }\n\n  .dashboard-header {\n    h1 {\n      font-size: 1.5rem;\n    }\n  }\n}\n</style>","<!-- src/components/meal-planning/RecipeBrowser.vue -->\n<template>\n  <div class=\"recipe-browser\">\n    <!-- Search and Filters -->\n    <div class=\"search-section\">\n      <div class=\"search-header\">\n        <h3>My Recipe Collection</h3>\n        <button @click=\"$emit('refresh-recipes')\" class=\"refresh-btn\" :disabled=\"loading\">\n          <i :class=\"loading ? 'fas fa-spinner fa-spin' : 'fas fa-sync-alt'\"></i>\n          Refresh\n        </button>\n      </div>\n      \n      <div class=\"search-bar\">\n        <i class=\"fas fa-search search-icon\"></i>\n        <input\n          v-model=\"searchQuery\"\n          type=\"text\"\n          placeholder=\"Search recipes...\"\n          class=\"search-input\"\n          @input=\"debouncedSearch\"\n        />\n      </div>\n\n      <div class=\"filters\">\n        <select v-model=\"selectedCuisine\" @change=\"applyFilters\" class=\"filter-select\">\n          <option value=\"\">All Cuisines</option>\n          <option v-for=\"cuisine in cuisines\" :key=\"cuisine\" :value=\"cuisine\">\n            {{ formatCuisine(cuisine) }}\n          </option>\n        </select>\n\n        <select v-model=\"selectedMealType\" @change=\"applyFilters\" class=\"filter-select\">\n          <option value=\"\">All Meal Types</option>\n          <option value=\"breakfast\">Breakfast</option>\n          <option value=\"lunch\">Lunch</option>\n          <option value=\"dinner\">Dinner</option>\n          <option value=\"snack\">Snack</option>\n        </select>\n      </div>\n    </div>\n\n    <!-- Recipe Grid -->\n    <div v-if=\"loading\" class=\"loading-state\">\n      <div class=\"loading-spinner\"></div>\n      <p>Loading delicious recipes...</p>\n    </div>\n\n    <div v-else-if=\"filteredRecipes.length === 0\" class=\"empty-state\">\n      <i class=\"fas fa-utensils\"></i>\n      <h3>No recipes found</h3>\n      <p v-if=\"recipes.length === 0\">\n        You haven't saved any recipes yet! Save recipes from your meal plans to build your personal collection.\n        <br><br>\n        <strong> Tip:</strong> Go to the \"Meal Plans\" tab to create meal plans, then save your favorite recipes.\n      </p>\n      <p v-else>Try adjusting your search or filters</p>\n    </div>\n\n    <div v-else class=\"recipe-grid\">\n      <div\n        v-for=\"recipe in filteredRecipes\"\n        :key=\"recipe.id\"\n        class=\"recipe-card\"\n      >\n        <div class=\"recipe-image\" @click=\"$emit('recipe-selected', recipe)\">\n          <img\n            :src=\"recipe.image_url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkZvb2QgUmVjaXBlPC90ZXh0Pgo8L3N2Zz4K'\"\n            :alt=\"recipe.title\"\n            @error=\"handleImageError\"\n          />\n          <div class=\"recipe-badges\">\n            <span v-for=\"tag in (recipe.dietary_tags || []).slice(0, 2)\" :key=\"tag\" class=\"badge\">\n              {{ formatTag(tag) }}\n            </span>\n          </div>\n          <button \n            class=\"save-btn\" \n            @click.stop=\"toggleSaveRecipe(recipe)\"\n            :title=\"recipe.is_saved_by_user ? 'Remove from my recipes' : 'Save to my recipes'\"\n          >\n            <i :class=\"recipe.is_saved_by_user ? 'fas fa-heart' : 'far fa-heart'\"></i>\n          </button>\n        </div>\n\n        <div class=\"recipe-content\" @click=\"$emit('recipe-selected', recipe)\">\n          <h3 class=\"recipe-title\">{{ recipe.title }}</h3>\n          <p class=\"recipe-summary\" v-html=\"truncateSummary(recipe.summary)\"></p>\n\n          <div class=\"recipe-stats\">\n            <div class=\"stat\">\n              <i class=\"fas fa-clock\"></i>\n              <span>{{ recipe.total_time_minutes || 'N/A' }}{{ recipe.total_time_minutes ? 'min' : '' }}</span>\n            </div>\n            <div class=\"stat\">\n              <i class=\"fas fa-fire\"></i>\n              <span>{{ recipe.calories_per_serving ? Math.round(recipe.calories_per_serving) : 'N/A' }}{{ recipe.calories_per_serving ? ' cal' : '' }}</span>\n            </div>\n            <div class=\"stat\">\n              <i class=\"fas fa-users\"></i>\n              <span>{{ recipe.servings || 'N/A' }}{{ recipe.servings ? ' servings' : '' }}</span>\n            </div>\n          </div>\n\n          <div class=\"nutrition-preview\">\n            <div class=\"macro\">\n              <span class=\"macro-label\">Protein</span>\n              <span class=\"macro-value\">{{ recipe.protein_per_serving ? Math.round(recipe.protein_per_serving) : 'N/A' }}{{ recipe.protein_per_serving ? 'g' : '' }}</span>\n            </div>\n            <div class=\"macro\">\n              <span class=\"macro-label\">Carbs</span>\n              <span class=\"macro-value\">{{ recipe.carbs_per_serving ? Math.round(recipe.carbs_per_serving) : 'N/A' }}{{ recipe.carbs_per_serving ? 'g' : '' }}</span>\n            </div>\n            <div class=\"macro\">\n              <span class=\"macro-label\">Fat</span>\n              <span class=\"macro-value\">{{ recipe.fat_per_serving ? Math.round(recipe.fat_per_serving) : 'N/A' }}{{ recipe.fat_per_serving ? 'g' : '' }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Using a simple debounce function instead of lodash\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nexport default {\n  name: 'RecipeBrowser',\n  props: {\n    recipes: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['recipe-selected', 'refresh-recipes', 'recipe-saved', 'recipe-removed'],\n  data() {\n    return {\n      searchQuery: '',\n      selectedCuisine: '',\n      selectedMealType: '',\n      filteredRecipes: []\n    }\n  },\n  computed: {\n    cuisines() {\n      return [...new Set(this.recipes.map(r => r.cuisine).filter(Boolean))]\n    }\n  },\n  watch: {\n    recipes: {\n      immediate: true,\n      handler(newRecipes) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(' RecipeBrowser: Recipes updated')\n          console.log(` Count: ${newRecipes?.length || 0} recipes`)\n          if (newRecipes?.length > 0) {\n            console.log(` Sample: \"${newRecipes[0]?.title}\" (${newRecipes[0]?.id})`)\n          }\n        }\n        this.filteredRecipes = this.recipes\n      }\n    }\n  },\n  created() {\n    this.debouncedSearch = debounce(this.applyFilters, 300)\n  },\n  methods: {\n    applyFilters() {\n      let filtered = this.recipes\n\n      // Search filter\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase()\n        filtered = filtered.filter(recipe =>\n          (recipe.title && recipe.title.toLowerCase().includes(query)) ||\n          (recipe.summary && recipe.summary.toLowerCase().includes(query))\n        )\n      }\n\n      // Cuisine filter\n      if (this.selectedCuisine) {\n        filtered = filtered.filter(recipe => recipe.cuisine === this.selectedCuisine)\n      }\n\n      // Meal type filter\n      if (this.selectedMealType) {\n        filtered = filtered.filter(recipe => recipe.meal_type === this.selectedMealType)\n      }\n\n      if (process.env.NODE_ENV === 'development' && \n          (this.searchQuery || this.selectedCuisine || this.selectedMealType)) {\n        console.log(` Filters applied: ${this.recipes?.length || 0}  ${filtered.length} recipes`)\n      }\n\n      this.filteredRecipes = filtered\n    },\n\n    formatCuisine(cuisine) {\n      return cuisine.charAt(0).toUpperCase() + cuisine.slice(1)\n    },\n\n    formatTag(tag) {\n      return tag.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n    },\n\n    truncateSummary(summary) {\n      if (!summary) return ''\n      const clean = summary.replace(/<[^>]*>/g, '')\n      return clean.length > 120 ? clean.substring(0, 120) + '...' : clean\n    },\n\n    handleImageError(event) {\n      event.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkZvb2QgUmVjaXBlPC90ZXh0Pgo8L3N2Zz4K'\n    },\n\n    async toggleSaveRecipe(recipe) {\n      try {\n        // Import the API service\n        const { mealPlanningApi } = await import('@/services/mealPlanningApi')\n        \n        let response\n        \n        if (recipe.is_saved_by_user) {\n          // Remove from saved recipes\n          if (!recipe.id) {\n            throw new Error('Cannot remove recipe: No recipe ID found')\n          }\n          \n          response = await mealPlanningApi.removeRecipeFromMyCollection(recipe.id)\n          \n          // Update local state\n          recipe.is_saved_by_user = false\n          \n          this.$emit('recipe-removed', recipe)\n          \n          // Show success message\n          const message = response.data?.message || 'Recipe removed from your collection!'\n          this.$toast?.success?.(message) || alert(message)\n        } else {\n          // Save recipe - handle both spoonacular and existing recipes\n          if (recipe.spoonacular_id && !recipe.created_by) {\n            // Save from meal plan data\n            response = await mealPlanningApi.saveRecipeFromMealPlan(recipe)\n          } else if (recipe.id) {\n            // Save existing recipe to user's collection\n            response = await mealPlanningApi.saveRecipeToMyCollection(recipe.id)\n          } else {\n            // This is recipe data that needs to be saved\n            response = await mealPlanningApi.saveRecipeFromMealPlan(recipe)\n          }\n          \n          // Update local state\n          recipe.is_saved_by_user = true\n          \n          this.$emit('recipe-saved', response.data.recipe || recipe)\n          \n          // Show success message\n          const message = response.data?.message || 'Recipe saved to your collection!'\n          this.$toast?.success?.(message) || alert(message)\n        }\n      } catch (error) {\n        console.error('Error toggling recipe save status:', error)\n        \n        let errorMessage = 'An error occurred'\n        \n        if (error.response?.status === 404) {\n          errorMessage = 'Recipe not found. It may have been removed.'\n        } else if (error.response?.status === 403) {\n          errorMessage = 'You don\\'t have permission to perform this action.'\n        } else if (error.response?.status === 500) {\n          errorMessage = 'Server error. Please try again later.'\n        } else if (error.response?.data?.error) {\n          errorMessage = error.response.data.error\n        } else if (error.response?.data?.message) {\n          errorMessage = error.response.data.message\n        } else if (error.message) {\n          errorMessage = error.message\n        }\n        \n        this.$toast?.error?.(errorMessage) || alert(`Error: ${errorMessage}`)\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.recipe-browser {\n  width: 100%;\n}\n\n.search-section {\n  margin-bottom: $spacing-6;\n}\n\n.search-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: $spacing-4;\n\n  h3 {\n    margin: 0;\n    color: $primary-dark;\n    font-size: 1.5rem;\n    font-weight: 600;\n  }\n}\n\n.refresh-btn {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  padding: 8px 16px;\n  background: $primary;\n  color: $white;\n  border: none;\n  border-radius: $border-radius;\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: $primary-dark;\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  i {\n    font-size: 0.85rem;\n  }\n}\n\n.search-bar {\n  position: relative;\n  margin-bottom: $spacing-4;\n}\n\n.search-icon {\n  position: absolute;\n  left: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: $gray;\n  font-size: 1.1rem;\n}\n\n.search-input {\n  width: 100%;\n  padding: 12px 16px 12px 48px;\n  border: 2px solid $gray-lighter;\n  border-radius: 12px;\n  font-size: 1rem;\n  transition: border-color 0.2s ease;\n  background: $white;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n    box-shadow: 0 0 0 3px rgba($primary, 0.1);\n  }\n}\n\n.filters {\n  display: flex;\n  gap: $spacing-4;\n  flex-wrap: wrap;\n}\n\n.filter-select {\n  padding: 10px 16px;\n  border: 2px solid $gray-lighter;\n  border-radius: 8px;\n  background: $white;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n  }\n\n  @include responsive('sm') {\n    flex: 1;\n    min-width: 0;\n  }\n}\n\n.loading-state, .empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: $gray;\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid $gray-lighter;\n  border-left: 4px solid $primary;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.empty-state i {\n  font-size: 3rem;\n  margin-bottom: 16px;\n  display: block;\n}\n\n.recipe-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: $spacing-6;\n\n  @include responsive('sm') {\n    grid-template-columns: 1fr;\n  }\n}\n\n.recipe-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 1px solid $gray-lighter;\n\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: $shadow-lg;\n  }\n}\n\n.recipe-image {\n  position: relative;\n  height: 200px;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n}\n\n.recipe-badges {\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.save-btn {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  background: rgba($white, 0.9);\n  color: $error;\n  border: none;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  opacity: 0;\n  transform: scale(0.8);\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n\n  &:hover {\n    background: $white;\n    transform: scale(1.1);\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\n  }\n\n  i {\n    font-size: 1rem;\n    \n    &.fas.fa-heart {\n      color: #e74c3c; // Filled heart - red\n    }\n    \n    &.far.fa-heart {\n      color: #7f8c8d; // Unfilled heart - gray\n    }\n  }\n}\n\n.recipe-card:hover .save-btn {\n  opacity: 1;\n  transform: scale(1);\n}\n\n.badge {\n  background: rgba($white, 0.95);\n  color: $primary-dark;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n\n.recipe-content {\n  padding: $spacing-4;\n}\n\n.recipe-title {\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: $primary-dark;\n  margin: 0 0 $spacing-2 0;\n  line-height: 1.3;\n}\n\n.recipe-summary {\n  color: $gray;\n  font-size: 0.9rem;\n  line-height: 1.4;\n  margin: 0 0 $spacing-4 0;\n}\n\n.recipe-stats {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: $spacing-4;\n  padding: $spacing-3 0;\n  border-top: 1px solid $gray-lighter;\n  border-bottom: 1px solid $gray-lighter;\n}\n\n.stat {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  color: $gray;\n  font-size: 0.85rem;\n\n  i {\n    font-size: 0.9rem;\n    color: $primary;\n  }\n}\n\n.nutrition-preview {\n  display: flex;\n  justify-content: space-between;\n}\n\n.macro {\n  text-align: center;\n}\n\n.macro-label {\n  display: block;\n  font-size: 0.75rem;\n  color: $gray;\n  margin-bottom: 2px;\n}\n\n.macro-value {\n  display: block;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: $primary-dark;\n}\n</style>","import { render } from \"./RecipeBrowser.vue?vue&type=template&id=6ad281fd&scoped=true\"\nimport script from \"./RecipeBrowser.vue?vue&type=script&lang=js\"\nexport * from \"./RecipeBrowser.vue?vue&type=script&lang=js\"\n\nimport \"./RecipeBrowser.vue?vue&type=style&index=0&id=6ad281fd&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6ad281fd\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/NutritionProfileSetup.vue -->\n<template>\n  <div class=\"nutrition-profile-setup\">\n    <div class=\"profile-card\">\n      <div class=\"card-header\">\n        <h2> Your Personalized Nutrition Profile</h2>\n        <p>Let AI help you create the perfect nutrition plan tailored to your goals</p>\n        \n        <!-- AI Quick Setup Button -->\n        <button \n          v-if=\"!hasExistingProfile\" \n          @click=\"showAIWizard = true\"\n          class=\"ai-wizard-btn\"\n          type=\"button\"\n        >\n          <i class=\"fas fa-magic\"></i>\n          Generate with AI\n        </button>\n      </div>\n\n      <!-- AI Wizard Modal -->\n      <div v-if=\"showAIWizard\" class=\"ai-wizard-overlay\" @click=\"showAIWizard = false\">\n        <div class=\"ai-wizard-modal\" @click.stop>\n          <div class=\"ai-wizard-header\">\n            <h3> AI Nutrition Profile Generator</h3>\n            <button @click=\"showAIWizard = false\" class=\"close-btn\">&times;</button>\n          </div>\n          \n          <div class=\"ai-wizard-content\">\n            <div class=\"ai-step\" v-if=\"aiStep === 1\">\n              <h4>Tell me about yourself</h4>\n              <div class=\"form-grid\">\n                <div class=\"form-group\">\n                  <label>Age</label>\n                  <input v-model.number=\"aiProfile.age\" type=\"number\" min=\"13\" max=\"100\" class=\"form-input\" />\n                </div>\n                <div class=\"form-group\">\n                  <FormSelect\n                    id=\"gender-select\"\n                    v-model=\"aiProfile.gender\"\n                    label=\"Gender\"\n                    placeholder=\"Select...\"\n                    :options=\"[\n                      { value: 'male', label: 'Male' },\n                      { value: 'female', label: 'Female' },\n                      { value: 'other', label: 'Other' }\n                    ]\"\n                  />\n                </div>\n                <div class=\"form-group\">\n                  <label>Height (cm)</label>\n                  <input v-model.number=\"aiProfile.height\" type=\"number\" min=\"100\" max=\"250\" class=\"form-input\" />\n                </div>\n                <div class=\"form-group\">\n                  <label>Weight (kg)</label>\n                  <input v-model.number=\"aiProfile.weight\" type=\"number\" min=\"30\" max=\"300\" class=\"form-input\" />\n                </div>\n              </div>\n            </div>\n\n            <div class=\"ai-step\" v-if=\"aiStep === 2\">\n              <h4>What's your primary goal?</h4>\n              <div class=\"goal-options\">\n                <button \n                  v-for=\"goal in goalOptions\" \n                  :key=\"goal.value\"\n                  @click=\"aiProfile.goal = goal.value\"\n                  :class=\"['goal-option', { active: aiProfile.goal === goal.value }]\"\n                >\n                  <div class=\"goal-icon\">{{ goal.icon }}</div>\n                  <div class=\"goal-text\">\n                    <h5>{{ goal.label }}</h5>\n                    <p>{{ goal.description }}</p>\n                  </div>\n                </button>\n              </div>\n            </div>\n\n            <div class=\"ai-step\" v-if=\"aiStep === 3\">\n              <h4>Activity Level</h4>\n              <div class=\"activity-options\">\n                <button \n                  v-for=\"activity in activityOptions\" \n                  :key=\"activity.value\"\n                  @click=\"aiProfile.activity = activity.value\"\n                  :class=\"['activity-option', { active: aiProfile.activity === activity.value }]\"\n                >\n                  <div class=\"activity-icon\">{{ activity.icon }}</div>\n                  <div class=\"activity-text\">\n                    <h5>{{ activity.label }}</h5>\n                    <p>{{ activity.description }}</p>\n                  </div>\n                </button>\n              </div>\n            </div>\n\n            <div class=\"ai-step\" v-if=\"aiStep === 4\">\n              <h4>Dietary Preferences</h4>\n              <div class=\"dietary-preferences\">\n                <button \n                  v-for=\"diet in popularDiets\" \n                  :key=\"diet.value\"\n                  @click=\"toggleDiet(diet.value)\"\n                  :class=\"['diet-option', { active: aiProfile.diets.includes(diet.value) }]\"\n                >\n                  <span class=\"diet-emoji\">{{ diet.emoji }}</span>\n                  <span>{{ diet.label }}</span>\n                </button>\n              </div>\n            </div>\n\n            <div class=\"ai-step\" v-if=\"aiStep === 5\">\n              <div class=\"generating-profile\" v-if=\"generatingProfile\">\n                <div class=\"spinner\"></div>\n                <h4> AI is analyzing your preferences...</h4>\n                <p>Creating your personalized nutrition profile</p>\n              </div>\n              \n              <div v-else class=\"profile-preview\">\n                <h4> Your AI-Generated Profile</h4>\n                <div class=\"profile-summary\">\n                  <div class=\"macro-preview\">\n                    <div class=\"macro-item\">\n                      <span class=\"macro-label\">Daily Calories</span>\n                      <span class=\"macro-value\">{{ aiGeneratedProfile.calorie_target }}</span>\n                    </div>\n                    <div class=\"macro-item\">\n                      <span class=\"macro-label\">Protein</span>\n                      <span class=\"macro-value\">{{ aiGeneratedProfile.protein_target }}g</span>\n                    </div>\n                    <div class=\"macro-item\">\n                      <span class=\"macro-label\">Carbs</span>\n                      <span class=\"macro-value\">{{ aiGeneratedProfile.carb_target }}g</span>\n                    </div>\n                    <div class=\"macro-item\">\n                      <span class=\"macro-label\">Fat</span>\n                      <span class=\"macro-value\">{{ aiGeneratedProfile.fat_target }}g</span>\n                    </div>\n                  </div>\n                  \n                  <div class=\"meal-plan-preview\">\n                    <h5>Recommended Meal Structure</h5>\n                    <p>{{ aiGeneratedProfile.meals_per_day }} meals per day</p>\n                    <p>{{ aiGeneratedProfile.snacks_per_day || 0 }} snacks per day</p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"ai-wizard-footer\">\n            <button \n              v-if=\"aiStep > 1\" \n              @click=\"aiStep--\" \n              class=\"btn-secondary\"\n            >\n              Back\n            </button>\n            \n            <button \n              v-if=\"aiStep < 5\" \n              @click=\"nextAIStep\" \n              class=\"btn-primary\"\n              :disabled=\"!canProceedToNextStep\"\n            >\n              Next\n            </button>\n            \n            <button \n              v-if=\"aiStep === 5 && !generatingProfile\" \n              @click=\"applyAIProfile\" \n              class=\"btn-success\"\n            >\n              Apply This Profile\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <!-- Validation Errors -->\n      <div v-if=\"validationErrors.length > 0\" class=\"error-messages\">\n        <div class=\"error-card\">\n          <h4>Please fix the following issues:</h4>\n          <ul>\n            <li v-for=\"error in validationErrors\" :key=\"error\">{{ error }}</li>\n          </ul>\n        </div>\n      </div>\n\n      <div v-if=\"loading\" class=\"loading-state\">\n        <div class=\"loading-spinner\"></div>\n        <p>Loading your profile...</p>\n      </div>\n\n      <form v-else @submit.prevent=\"saveProfile\" class=\"profile-form\">\n        <!-- Enhanced Nutrition Targets with Visual Indicators -->\n        <div class=\"form-section\">\n          <h3> Daily Nutrition Targets</h3>\n          <div class=\"targets-grid\">\n            <div class=\"form-group enhanced-input\">\n              <label for=\"calorie_target\">Daily Calories</label>\n              <div class=\"input-wrapper\">\n                <input\n                  id=\"calorie_target\"\n                  v-model.number=\"formData.calorie_target\"\n                  type=\"number\"\n                  min=\"1000\"\n                  max=\"5000\"\n                  class=\"form-input\"\n                  required\n                />\n                <div class=\"input-hint\">\n                  <i class=\"fas fa-fire\"></i>\n                  <span>{{ getCalorieRecommendation() }}</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group enhanced-input\">\n              <label for=\"protein_target\">Protein (g)</label>\n              <div class=\"input-wrapper\">\n                <input\n                  id=\"protein_target\"\n                  v-model.number=\"formData.protein_target\"\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"500\"\n                  class=\"form-input\"\n                  required\n                />\n                <div class=\"input-hint\">\n                  <i class=\"fas fa-dumbbell\"></i>\n                  <span>{{ (formData.protein_target / formData.calorie_target * 100 * 4).toFixed(0) }}% of calories</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group enhanced-input\">\n              <label for=\"carb_target\">Carbs (g)</label>\n              <div class=\"input-wrapper\">\n                <input\n                  id=\"carb_target\"\n                  v-model.number=\"formData.carb_target\"\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"1000\"\n                  class=\"form-input\"\n                  required\n                />\n                <div class=\"input-hint\">\n                  <i class=\"fas fa-bread-slice\"></i>\n                  <span>{{ (formData.carb_target / formData.calorie_target * 100 * 4).toFixed(0) }}% of calories</span>\n                </div>\n              </div>\n            </div>\n\n            <div class=\"form-group enhanced-input\">\n              <label for=\"fat_target\">Fat (g)</label>\n              <div class=\"input-wrapper\">\n                <input\n                  id=\"fat_target\"\n                  v-model.number=\"formData.fat_target\"\n                  type=\"number\"\n                  min=\"0\"\n                  max=\"300\"\n                  class=\"form-input\"\n                  required\n                />\n                <div class=\"input-hint\">\n                  <i class=\"fas fa-oil-can\"></i>\n                  <span>{{ (formData.fat_target / formData.calorie_target * 100 * 9).toFixed(0) }}% of calories</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Macro Distribution Visualization -->\n          <div class=\"macro-distribution\">\n            <h4>Macronutrient Distribution</h4>\n            <div class=\"macro-chart\">\n              <div class=\"macro-bar\">\n                <div \n                  class=\"macro-segment protein\" \n                  :style=\"{ width: proteinPercentage + '%' }\"\n                ></div>\n                <div \n                  class=\"macro-segment carbs\" \n                  :style=\"{ width: carbPercentage + '%' }\"\n                ></div>\n                <div \n                  class=\"macro-segment fat\" \n                  :style=\"{ width: fatPercentage + '%' }\"\n                ></div>\n              </div>\n              <div class=\"macro-legend\">\n                <div class=\"legend-item\">\n                  <span class=\"legend-color protein\"></span>\n                  <span>Protein {{ proteinPercentage }}%</span>\n                </div>\n                <div class=\"legend-item\">\n                  <span class=\"legend-color carbs\"></span>\n                  <span>Carbs {{ carbPercentage }}%</span>\n                </div>\n                <div class=\"legend-item\">\n                  <span class=\"legend-color fat\"></span>\n                  <span>Fat {{ fatPercentage }}%</span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Dietary Preferences with Conflict Detection -->\n        <div class=\"form-section\">\n          <h3>Dietary Preferences</h3>\n          <div v-if=\"dietaryConflicts.length > 0\" class=\"conflict-warning\">\n            <i class=\"fas fa-exclamation-triangle\"></i>\n            <span>Warning: Some selected preferences may conflict with each other</span>\n            <ul>\n              <li v-for=\"conflict in dietaryConflicts\" :key=\"conflict\">{{ conflict }}</li>\n            </ul>\n          </div>\n          <div class=\"preferences-grid\">\n            <label\n              v-for=\"preference in availableDietaryPreferences\"\n              :key=\"preference.value\"\n              class=\"checkbox-label\"\n              :class=\"{ 'disabled': isPreferenceDisabled(preference.value) }\"\n            >\n              <input\n                v-model=\"formData.dietary_preferences\"\n                type=\"checkbox\"\n                :value=\"preference.value\"\n                :disabled=\"isPreferenceDisabled(preference.value)\"\n                class=\"checkbox-input\"\n                @change=\"checkDietaryConflicts\"\n              />\n              <span class=\"checkbox-custom\"></span>\n              {{ preference.label }}\n              <span v-if=\"isPreferenceDisabled(preference.value)\" class=\"disabled-reason\">\n                (Conflicts with current selection)\n              </span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Allergies & Intolerances -->\n        <div class=\"form-section\">\n          <h3>Allergies & Intolerances</h3>\n          <div class=\"preferences-grid\">\n            <label\n              v-for=\"allergy in availableAllergies\"\n              :key=\"allergy.value\"\n              class=\"checkbox-label\"\n            >\n              <input\n                v-model=\"formData.allergies_intolerances\"\n                type=\"checkbox\"\n                :value=\"allergy.value\"\n                class=\"checkbox-input\"\n              />\n              <span class=\"checkbox-custom\"></span>\n              {{ allergy.label }}\n            </label>\n          </div>\n        </div>\n\n        <!-- Cuisine Preferences -->\n        <div class=\"form-section\">\n          <h3>Favorite Cuisines</h3>\n          <div class=\"preferences-grid\">\n            <label\n              v-for=\"cuisine in availableCuisines\"\n              :key=\"cuisine.value\"\n              class=\"checkbox-label\"\n            >\n              <input\n                v-model=\"formData.cuisine_preferences\"\n                type=\"checkbox\"\n                :value=\"cuisine.value\"\n                class=\"checkbox-input\"\n              />\n              <span class=\"checkbox-custom\"></span>\n              {{ cuisine.label }}\n            </label>\n          </div>\n        </div>\n\n        <!-- Disliked Ingredients -->\n        <div class=\"form-section\">\n          <h3>Disliked Ingredients</h3>\n          <div class=\"form-group\">\n            <label for=\"disliked_ingredients\">Ingredients you want to avoid</label>\n            <input\n              id=\"disliked_ingredients\"\n              v-model=\"dislikedIngredientsInput\"\n              type=\"text\"\n              class=\"form-input\"\n              placeholder=\"Enter ingredients separated by commas (e.g., mushrooms, tofu, cilantro)\"\n              @blur=\"updateDislikedIngredients\"\n            />\n            <span class=\"form-help\">Separate multiple ingredients with commas</span>\n            <div v-if=\"formData.disliked_ingredients.length > 0\" class=\"ingredient-tags\">\n              <span\n                v-for=\"ingredient in formData.disliked_ingredients\"\n                :key=\"ingredient\"\n                class=\"ingredient-tag\"\n              >\n                {{ ingredient }}\n                <button type=\"button\" @click=\"removeDislikedIngredient(ingredient)\" class=\"remove-tag\"></button>\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Meal Preferences -->\n        <div class=\"form-section\">\n          <h3>Meal Preferences</h3>\n          <div class=\"meal-prefs-grid\">\n            <div class=\"form-group\">\n              <FormSelect\n                id=\"meals_per_day\"\n                v-model=\"formData.meals_per_day\"\n                label=\"Meals per Day\"\n                :options=\"[\n                  { value: 2, label: '2 meals' },\n                  { value: 3, label: '3 meals' },\n                  { value: 4, label: '4 meals' },\n                  { value: 5, label: '5 meals' },\n                  { value: 6, label: '6 meals' }\n                ]\"\n                help-text=\"Choose the number of meals you prefer per day\"\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"timezone\">Timezone</label>\n              <select\n                id=\"timezone\"\n                v-model=\"formData.timezone\"\n                class=\"form-select\"\n              >\n                <option value=\"UTC\">UTC</option>\n                <option value=\"Europe/London\">London</option>\n                <option value=\"Europe/Berlin\">Berlin</option>\n                <option value=\"Europe/Tallinn\">Tallinn (Estonia)</option>\n                <option value=\"America/New_York\">New York</option>\n                <option value=\"America/Los_Angeles\">Los Angeles</option>\n                <option value=\"Asia/Tokyo\">Tokyo</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <!-- Save Button -->\n        <div class=\"form-actions\">\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"saving || hasValidationErrors\">\n            <span v-if=\"saving\">\n              <i class=\"fas fa-spinner fa-spin\"></i>\n              Saving...\n            </span>\n            <span v-else>\n              <i class=\"fas fa-save\"></i>\n              Save Profile\n            </span>\n          </button>\n\n          <button type=\"button\" @click=\"calculateTargets\" class=\"btn btn-secondary\">\n            <i class=\"fas fa-calculator\"></i>\n            Auto-Calculate Targets\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\nimport FormSelect from '@/components/ui/FormSelect.vue'\n\nexport default {\n  name: 'NutritionProfileSetup',\n  components: {\n    FormSelect\n  },\n  props: {\n    profile: {\n      type: Object,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['profile-updated'],\n  data() {\n    return {\n      saving: false,\n      validationErrors: [],\n      dietaryConflicts: [],\n      dislikedIngredientsInput: '',\n      formData: {\n        calorie_target: 2000,\n        protein_target: 100,\n        carb_target: 250,\n        fat_target: 67,\n        dietary_preferences: [],\n        allergies_intolerances: [],\n        cuisine_preferences: [],\n        disliked_ingredients: [],\n        meals_per_day: 3,\n        timezone: 'Europe/Tallinn'\n      },\n      availableDietaryPreferences: [\n        { value: 'vegetarian', label: 'Vegetarian', conflicts: ['paleo'] },\n        { value: 'vegan', label: 'Vegan', conflicts: ['paleo', 'pescatarian', 'keto'] },\n        { value: 'pescatarian', label: 'Pescatarian', conflicts: ['vegan', 'vegetarian', 'paleo'] },\n        { value: 'keto', label: 'Ketogenic', conflicts: ['vegan', 'high_carb', 'mediterranean'] },\n        { value: 'paleo', label: 'Paleo', conflicts: ['vegetarian', 'vegan', 'pescatarian', 'mediterranean'] },\n        { value: 'mediterranean', label: 'Mediterranean', conflicts: ['keto', 'paleo', 'low_carb'] },\n        { value: 'low_carb', label: 'Low Carb', conflicts: ['mediterranean', 'high_carb'] },\n        { value: 'high_carb', label: 'High Carb', conflicts: ['keto', 'low_carb'] },\n        { value: 'high_protein', label: 'High Protein', conflicts: [] },\n        { value: 'gluten_free', label: 'Gluten Free', conflicts: [] },\n        { value: 'dairy_free', label: 'Dairy Free', conflicts: [] },\n        { value: 'low_sodium', label: 'Low Sodium', conflicts: [] },\n        { value: 'diabetic', label: 'Diabetic Friendly', conflicts: ['high_carb'] },\n        { value: 'heart_healthy', label: 'Heart Healthy', conflicts: [] },\n        { value: 'whole30', label: 'Whole30', conflicts: ['vegetarian', 'vegan'] }\n      ],\n      availableAllergies: [\n        { value: 'nuts', label: 'Tree Nuts' },\n        { value: 'peanuts', label: 'Peanuts' },\n        { value: 'dairy', label: 'Dairy/Lactose' },\n        { value: 'gluten', label: 'Gluten' },\n        { value: 'eggs', label: 'Eggs' },\n        { value: 'fish', label: 'Fish' },\n        { value: 'shellfish', label: 'Shellfish' },\n        { value: 'soy', label: 'Soy' },\n        { value: 'sesame', label: 'Sesame' },\n        { value: 'sulfites', label: 'Sulfites' }\n      ],\n      availableCuisines: [\n        { value: 'italian', label: 'Italian' },\n        { value: 'mexican', label: 'Mexican' },\n        { value: 'asian', label: 'Asian' },\n        { value: 'indian', label: 'Indian' },\n        { value: 'mediterranean', label: 'Mediterranean' },\n        { value: 'american', label: 'American' },\n        { value: 'french', label: 'French' },\n        { value: 'thai', label: 'Thai' },\n        { value: 'japanese', label: 'Japanese' },\n        { value: 'chinese', label: 'Chinese' },\n        { value: 'middle_eastern', label: 'Middle Eastern' },\n        { value: 'korean', label: 'Korean' },\n        { value: 'greek', label: 'Greek' },\n        { value: 'spanish', label: 'Spanish' }\n      ],\n      aiStep: 1,\n      showAIWizard: false,\n      aiProfile: {\n        age: null,\n        gender: '',\n        height: null,\n        weight: null,\n        goal: '',\n        activity: '',\n        diets: []\n      },\n      goalOptions: [\n        { value: 'weight_loss', label: 'Weight Loss', icon: '', description: 'Lose weight by burning more calories than you consume' },\n        { value: 'muscle_gain', label: 'Muscle Gain', icon: '', description: 'Gain muscle mass while maintaining a healthy weight' },\n        { value: 'maintenance', label: 'Maintenance', icon: '', description: 'Maintain your current weight and body composition' },\n        { value: 'performance', label: 'Performance', icon: '', description: 'Optimize for athletic performance' }\n      ],\n      activityOptions: [\n        { value: 'sedentary', label: 'Sedentary (little or no exercise)', icon: '' },\n        { value: 'light', label: 'Lightly Active (exercise 1-3 days/week)', icon: '' },\n        { value: 'moderate', label: 'Moderately Active (exercise 3-5 days/week)', icon: '' },\n        { value: 'very_active', label: 'Very Active (exercise 6-7 days/week)', icon: '' },\n        { value: 'extra_active', label: 'Extra Active (very intense exercise, physical job, or 2x training)', icon: '' }\n      ],\n      popularDiets: [\n        { value: 'keto', label: 'Ketogenic', emoji: '' },\n        { value: 'paleo', label: 'Paleo', emoji: '' },\n        { value: 'mediterranean', label: 'Mediterranean', emoji: '' },\n        { value: 'low_carb', label: 'Low Carb', emoji: '' },\n        { value: 'high_protein', label: 'High Protein', emoji: '' },\n        { value: 'vegan', label: 'Vegan', emoji: '' },\n        { value: 'vegetarian', label: 'Vegetarian', emoji: '' },\n        { value: 'gluten_free', label: 'Gluten Free', emoji: '' },\n        { value: 'dairy_free', label: 'Dairy Free', emoji: '' },\n        { value: 'low_sodium', label: 'Low Sodium', emoji: '' }\n      ],\n      aiGeneratedProfile: null,\n      generatingProfile: false,\n      hasExistingProfile: false\n    }\n  },\n  computed: {\n    hasValidationErrors() {\n      return this.validationErrors.length > 0 || this.dietaryConflicts.length > 0\n    },\n    proteinPercentage() {\n      if (this.formData.calorie_target === 0) return 0;\n      return Math.round((this.formData.protein_target * 4 / this.formData.calorie_target) * 100);\n    },\n    carbPercentage() {\n      if (this.formData.calorie_target === 0) return 0;\n      return Math.round((this.formData.carb_target * 4 / this.formData.calorie_target) * 100);\n    },\n    fatPercentage() {\n      if (this.formData.calorie_target === 0) return 0;\n      return Math.round((this.formData.fat_target * 9 / this.formData.calorie_target) * 100);\n    },\n    canProceedToNextStep() {\n      switch (this.aiStep) {\n        case 1:\n          return this.aiProfile.age && this.aiProfile.gender && this.aiProfile.height && this.aiProfile.weight;\n        case 2:\n          return this.aiProfile.goal;\n        case 3:\n          return this.aiProfile.activity;\n        case 4:\n          return true; // Optional step\n        default:\n          return true;\n      }\n    }\n  },\n  watch: {\n    profile: {\n      immediate: true,\n      handler(newProfile) {\n        if (newProfile) {\n          this.formData = { ...this.formData, ...newProfile }\n          // Update disliked ingredients input\n          if (newProfile.disliked_ingredients) {\n            this.dislikedIngredientsInput = newProfile.disliked_ingredients.join(', ')\n          }\n          this.checkDietaryConflicts()\n          this.hasExistingProfile = true;\n        } else {\n          this.hasExistingProfile = false;\n        }\n      }\n    }\n  },\n  methods: {\n    async saveProfile() {\n      // Validate form first\n      this.validateForm()\n      if (this.hasValidationErrors) {\n        return\n      }\n\n      this.saving = true\n      try {\n        // Call the API directly instead of just emitting\n        const response = await mealPlanningApi.updateNutritionProfile(this.formData)\n\n        // Emit the updated profile to parent component\n        this.$emit('profile-updated', response.data)\n\n        // Show success message\n        this.$toast?.success?.('Nutrition profile saved successfully!') ||\n        alert('Nutrition profile saved successfully!')\n\n      } catch (error) {\n        console.error('Error saving profile:', error)\n        const errorMessage = error.response?.data?.detail ||\n                            error.response?.data?.message ||\n                            error.message ||\n                            'Failed to save nutrition profile'\n\n        this.$toast?.error?.(errorMessage) ||\n        alert(errorMessage)\n      } finally {\n        this.saving = false\n      }\n    },\n\n    validateForm() {\n      this.validationErrors = []\n\n      // Validate calorie target\n      if (!this.formData.calorie_target || this.formData.calorie_target < 1000 || this.formData.calorie_target > 5000) {\n        this.validationErrors.push('Daily calories must be between 1000 and 5000')\n      }\n\n      // Validate protein target\n      if (!this.formData.protein_target || this.formData.protein_target < 0 || this.formData.protein_target > 500) {\n        this.validationErrors.push('Protein target must be between 0 and 500g')\n      }\n\n      // Validate carb target\n      if (!this.formData.carb_target || this.formData.carb_target < 0 || this.formData.carb_target > 1000) {\n        this.validationErrors.push('Carbohydrate target must be between 0 and 1000g')\n      }\n\n      // Validate fat target\n      if (!this.formData.fat_target || this.formData.fat_target < 0 || this.formData.fat_target > 300) {\n        this.validationErrors.push('Fat target must be between 0 and 300g')\n      }\n\n      // Check if total macros match calories approximately\n      const totalCaloriesFromMacros = (this.formData.protein_target * 4) +\n                                     (this.formData.carb_target * 4) +\n                                     (this.formData.fat_target * 9)\n\n      const calorieDifference = Math.abs(totalCaloriesFromMacros - this.formData.calorie_target)\n      if (calorieDifference > 100) {\n        this.validationErrors.push(`Macro calories (${Math.round(totalCaloriesFromMacros)}) don't match calorie target (${this.formData.calorie_target}). Difference: ${Math.round(calorieDifference)} calories`)\n      }\n    },\n\n    checkDietaryConflicts() {\n      this.dietaryConflicts = []\n      const selected = this.formData.dietary_preferences\n\n      // Check for conflicts between selected preferences\n      for (let i = 0; i < selected.length; i++) {\n        for (let j = i + 1; j < selected.length; j++) {\n          const pref1 = this.availableDietaryPreferences.find(p => p.value === selected[i])\n          const pref2 = this.availableDietaryPreferences.find(p => p.value === selected[j])\n\n          if (pref1?.conflicts?.includes(selected[j])) {\n            this.dietaryConflicts.push(`${pref1.label} conflicts with ${pref2.label}`)\n          }\n        }\n      }\n    },\n\n    isPreferenceDisabled(preferenceValue) {\n      const selected = this.formData.dietary_preferences\n      if (selected.includes(preferenceValue)) return false\n\n      const preference = this.availableDietaryPreferences.find(p => p.value === preferenceValue)\n      if (!preference?.conflicts) return false\n\n      // Check if any selected preference conflicts with this one\n      return selected.some(selectedPref => preference.conflicts.includes(selectedPref))\n    },\n\n    updateDislikedIngredients() {\n      if (this.dislikedIngredientsInput.trim()) {\n        this.formData.disliked_ingredients = this.dislikedIngredientsInput\n          .split(',')\n          .map(ingredient => ingredient.trim())\n          .filter(ingredient => ingredient.length > 0)\n      } else {\n        this.formData.disliked_ingredients = []\n      }\n    },\n\n    removeDislikedIngredient(ingredient) {\n      this.formData.disliked_ingredients = this.formData.disliked_ingredients.filter(\n        item => item !== ingredient\n      )\n      this.dislikedIngredientsInput = this.formData.disliked_ingredients.join(', ')\n    },\n\n    calculateTargets() {\n      // Get user's health profile for better calculation\n      const baseCalories = 2000 // This should ideally come from health profile\n\n      // Check selected dietary preferences for macro distribution\n      const isKeto = this.formData.dietary_preferences.includes('keto')\n      const isLowCarb = this.formData.dietary_preferences.includes('low_carb')\n      const isHighProtein = this.formData.dietary_preferences.includes('high_protein')\n\n      let proteinRatio, carbRatio, fatRatio\n\n      if (isKeto) {\n        proteinRatio = 0.25\n        carbRatio = 0.05\n        fatRatio = 0.70\n      } else if (isLowCarb) {\n        proteinRatio = 0.30\n        carbRatio = 0.20\n        fatRatio = 0.50\n      } else if (isHighProtein) {\n        proteinRatio = 0.35\n        carbRatio = 0.35\n        fatRatio = 0.30\n      } else {\n        // Standard balanced diet\n        proteinRatio = 0.25\n        carbRatio = 0.45\n        fatRatio = 0.30\n      }\n\n      this.formData.calorie_target = baseCalories\n      this.formData.protein_target = Math.round((baseCalories * proteinRatio) / 4)\n      this.formData.carb_target = Math.round((baseCalories * carbRatio) / 4)\n      this.formData.fat_target = Math.round((baseCalories * fatRatio) / 9)\n\n      // Validate after auto-calculation\n      this.validateForm()\n    },\n\n    async applyAIProfile() {\n      try {\n        // Apply the AI-generated profile to the form\n        this.formData = { ...this.formData, ...this.aiGeneratedProfile }\n        this.hasExistingProfile = true\n        this.showAIWizard = false\n        \n        // Save the profile automatically\n        await this.saveProfile()\n        \n        this.$toast?.success?.(' AI-generated nutrition profile applied successfully!')\n      } catch (error) {\n        console.error('Error applying AI profile:', error)\n        this.$toast?.error?.('Failed to apply AI profile. Please try manually adjusting your settings.')\n      }\n    },\n\n    async nextAIStep() {\n      if (this.aiStep === 4) {\n        // Generate AI profile when moving from step 4 to 5\n        this.generatingProfile = true\n        this.aiStep++\n        \n        try {\n          // Call AI service to generate nutrition profile\n          const response = await mealPlanningApi.generateNutritionProfile({\n            user_data: {\n              age: this.aiProfile.age,\n              gender: this.aiProfile.gender,\n              height: this.aiProfile.height,\n              weight: this.aiProfile.weight\n            },\n            goals: {\n              primary_goal: this.aiProfile.goal,\n              activity_level: this.aiProfile.activity\n            },\n            preferences: {\n              dietary_preferences: this.aiProfile.diets\n            }\n          })\n          \n          this.aiGeneratedProfile = response.data\n          \n          // Auto-apply after 2 seconds for better UX\n          setTimeout(() => {\n            this.generatingProfile = false\n          }, 2000)\n          \n        } catch (error) {\n          console.error('Error generating AI profile:', error)\n          // Fallback to manual calculation\n          this.aiGeneratedProfile = this.calculateAIProfile()\n          this.generatingProfile = false\n        }\n      } else if (this.aiStep < 5) {\n        this.aiStep++\n      }\n    },\n\n    calculateAIProfile() {\n      // Fallback calculation if AI service fails\n      const { age, gender, height, weight, goal, activity } = this.aiProfile\n      \n      // Calculate BMR using Mifflin-St Jeor Equation\n      let bmr\n      if (gender === 'male') {\n        bmr = 10 * weight + 6.25 * height - 5 * age + 5\n      } else {\n        bmr = 10 * weight + 6.25 * height - 5 * age - 161\n      }\n      \n      // Activity multipliers\n      const activityMultipliers = {\n        sedentary: 1.2,\n        light: 1.375,\n        moderate: 1.55,\n        very_active: 1.725,\n        extra_active: 1.9\n      }\n      \n      let tdee = bmr * (activityMultipliers[activity] || 1.2)\n      \n      // Adjust for goals\n      if (goal === 'weight_loss') {\n        tdee -= 500 // 1 lb per week\n      } else if (goal === 'muscle_gain') {\n        tdee += 300 // Moderate surplus\n      }\n      \n      // Calculate macros based on diet preferences\n      let proteinRatio = 0.25\n      let carbRatio = 0.45\n      let fatRatio = 0.30\n      \n      if (this.aiProfile.diets.includes('keto')) {\n        proteinRatio = 0.25\n        carbRatio = 0.05\n        fatRatio = 0.70\n      } else if (this.aiProfile.diets.includes('high_protein')) {\n        proteinRatio = 0.35\n        carbRatio = 0.40\n        fatRatio = 0.25\n      } else if (this.aiProfile.diets.includes('low_carb')) {\n        proteinRatio = 0.30\n        carbRatio = 0.20\n        fatRatio = 0.50\n      }\n      \n      return {\n        calorie_target: Math.round(tdee),\n        protein_target: Math.round(tdee * proteinRatio / 4),\n        carb_target: Math.round(tdee * carbRatio / 4),\n        fat_target: Math.round(tdee * fatRatio / 9),\n        meals_per_day: goal === 'muscle_gain' ? 4 : 3,\n        snacks_per_day: goal === 'muscle_gain' ? 2 : 1,\n        dietary_preferences: this.aiProfile.diets\n      }\n    },\n\n    getCalorieRecommendation() {\n      const calories = this.formData.calorie_target\n      if (calories < 1200) return 'Very Low (may be too restrictive)'\n      if (calories < 1800) return 'Low (weight loss focused)'\n      if (calories < 2500) return 'Moderate (maintenance/slow change)'\n      if (calories < 3000) return 'High (muscle gain/active lifestyle)'\n      return 'Very High (intensive training)'\n    },\n\n    toggleDiet(diet) {\n      const index = this.aiProfile.diets.indexOf(diet);\n      if (index > -1) {\n        this.aiProfile.diets.splice(index, 1);\n      } else {\n        this.aiProfile.diets.push(diet);\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.nutrition-profile-setup {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.profile-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n}\n\n.card-header {\n  padding: $spacing-6;\n  background: linear-gradient(135deg, $primary, lighten($primary, 10%));\n  color: $white;\n  text-align: center;\n\n  h2 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1.8rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    opacity: 0.9;\n  }\n}\n\n.error-messages {\n  padding: $spacing-4 $spacing-6;\n  background: #fee;\n  border-bottom: 1px solid $gray-lighter;\n}\n\n.error-card {\n  color: #c53030;\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1rem;\n  }\n\n  ul {\n    margin: 0;\n    padding-left: $spacing-4;\n  }\n}\n\n.conflict-warning {\n  background: #fff3cd;\n  border: 1px solid #ffeaa7;\n  border-radius: $border-radius;\n  padding: $spacing-3;\n  margin-bottom: $spacing-4;\n  color: #856404;\n\n  i {\n    margin-right: $spacing-2;\n  }\n\n  ul {\n    margin: $spacing-2 0 0 0;\n    padding-left: $spacing-4;\n  }\n}\n\n.loading-state {\n  padding: $spacing-8;\n  text-align: center;\n  color: $gray;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid $gray-lighter;\n  border-left: 4px solid $primary;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto $spacing-4;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.profile-form {\n  padding: $spacing-6;\n}\n\n.form-section {\n  margin-bottom: $spacing-8;\n\n  h3 {\n    margin: 0 0 $spacing-4 0;\n    color: $primary-dark;\n    font-size: 1.2rem;\n    font-weight: 600;\n    padding-bottom: $spacing-2;\n    border-bottom: 2px solid $gray-lighter;\n  }\n}\n\n.targets-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: $spacing-4;\n}\n\n.meal-prefs-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: $spacing-4;\n}\n\n.preferences-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: $spacing-3;\n}\n\n.form-group {\n  label {\n    display: block;\n    margin-bottom: $spacing-2;\n    font-weight: 500;\n    color: $primary-dark;\n  }\n}\n\n.form-input, .form-select {\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid $gray-lighter;\n  border-radius: $border-radius;\n  font-size: 1rem;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n    box-shadow: 0 0 0 3px rgba($primary, 0.1);\n  }\n}\n\n.form-help {\n  display: block;\n  margin-top: $spacing-1;\n  font-size: 0.85rem;\n  color: $gray;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  cursor: pointer;\n  padding: $spacing-2;\n  border-radius: $border-radius;\n  transition: background-color 0.2s ease;\n\n  &:hover:not(.disabled) {\n    background-color: rgba($primary, 0.05);\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n\n    .disabled-reason {\n      font-size: 0.8rem;\n      color: $gray;\n      font-style: italic;\n    }\n  }\n}\n\n.checkbox-input {\n  display: none;\n\n  &:checked + .checkbox-custom {\n    background-color: $primary;\n    border-color: $primary;\n\n    &::after {\n      opacity: 1;\n    }\n  }\n\n  &:disabled + .checkbox-custom {\n    background-color: $gray-lighter;\n    border-color: $gray-lighter;\n  }\n}\n\n.checkbox-custom {\n  width: 20px;\n  height: 20px;\n  border: 2px solid $gray-lighter;\n  border-radius: 4px;\n  position: relative;\n  transition: all 0.2s ease;\n\n  &::after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: $white;\n    font-size: 12px;\n    font-weight: bold;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n  }\n}\n\n.ingredient-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: $spacing-2;\n  margin-top: $spacing-2;\n}\n\n.ingredient-tag {\n  background: $primary;\n  color: $white;\n  padding: $spacing-1 $spacing-2;\n  border-radius: $border-radius;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: $spacing-1;\n\n  .remove-tag {\n    background: none;\n    border: none;\n    color: $white;\n    cursor: pointer;\n    font-weight: bold;\n    padding: 0;\n    margin-left: $spacing-1;\n\n    &:hover {\n      color: rgba($white, 0.7);\n    }\n  }\n}\n\n.form-actions {\n  display: flex;\n  gap: $spacing-4;\n  justify-content: center;\n  padding-top: $spacing-4;\n  border-top: 1px solid $gray-lighter;\n\n  @include responsive('sm') {\n    flex-direction: column;\n  }\n}\n\n.btn {\n  padding: 12px 24px;\n  border-radius: $border-radius;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: none;\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n\n  &.btn-primary {\n    background: $primary;\n    color: $white;\n\n    &:hover:not(:disabled) {\n      background: darken($primary, 10%);\n    }\n\n    &:disabled {\n      background: $gray-lighter;\n      cursor: not-allowed;\n    }\n  }\n\n  &.btn-secondary {\n    background: $gray-light;\n    color: $primary-dark;\n\n    &:hover {\n      background: darken($gray-light, 5%);\n    }\n  }\n}\n\n.ai-wizard-btn {\n  background: $secondary;\n  color: $white;\n  padding: $spacing-2 $spacing-4;\n  border-radius: $border-radius;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  margin-top: $spacing-4;\n  box-shadow: $shadow-sm;\n\n  &:hover {\n    background: darken($secondary, 10%);\n  }\n\n  i {\n    font-size: 1rem;\n  }\n}\n\n.ai-wizard-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba($black, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n}\n\n.ai-wizard-modal {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow-lg;\n  width: 90%;\n  max-width: 600px;\n  max-height: 90%;\n  display: flex;\n  flex-direction: column;\n  overflow: hidden;\n}\n\n.ai-wizard-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: $spacing-4;\n  background: $primary;\n  color: $white;\n  border-bottom: 1px solid darken($primary, 10%);\n\n  h3 {\n    margin: 0;\n    font-size: 1.5rem;\n  }\n\n  .close-btn {\n    background: none;\n    border: none;\n    color: $white;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: $spacing-1;\n    line-height: 1;\n  }\n}\n\n.ai-wizard-content {\n  flex-grow: 1;\n  padding: $spacing-4;\n  overflow-y: auto;\n  display: flex;\n  flex-direction: column;\n}\n\n.ai-step {\n  display: none;\n  opacity: 0;\n  transform: translateY(20px);\n  transition: opacity 0.3s ease-out, transform 0.3s ease-out;\n\n  &.active {\n    display: block;\n    opacity: 1;\n    transform: translateY(0);\n  }\n\n  h4 {\n    margin-bottom: $spacing-3;\n    color: $primary-dark;\n  }\n}\n\n.form-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: $spacing-4;\n}\n\n.goal-options, .activity-options, .dietary-preferences {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: $spacing-3;\n}\n\n.goal-option, .activity-option, .diet-option {\n  background: $gray-lightest;\n  border: 1px solid $gray-lighter;\n  border-radius: $border-radius;\n  padding: $spacing-3;\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover {\n    background: $gray-lighter;\n    border-color: $primary;\n  }\n\n  &.active {\n    background: $primary;\n    color: $white;\n    border-color: $primary;\n  }\n}\n\n.goal-icon, .activity-icon {\n  font-size: 1.5rem;\n}\n\n.goal-text, .activity-text {\n  h5 {\n    margin: 0 0 $spacing-1 0;\n    font-size: 1rem;\n  }\n\n  p {\n    margin: 0;\n    font-size: 0.8rem;\n    color: $gray;\n  }\n}\n\n.diet-emoji {\n  font-size: 1.5rem;\n}\n\n.generating-profile {\n  text-align: center;\n  padding: $spacing-6;\n  color: $gray;\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid $gray-lighter;\n    border-left: 4px solid $primary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto $spacing-3;\n  }\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1.2rem;\n  }\n\n  p {\n    font-size: 0.9rem;\n  }\n}\n\n.profile-preview {\n  padding: $spacing-4;\n  background: $gray-lightest;\n  border-radius: $border-radius;\n  margin-top: $spacing-4;\n\n  h4 {\n    margin-bottom: $spacing-3;\n    color: $primary-dark;\n  }\n\n  .profile-summary {\n    display: flex;\n    flex-direction: column;\n    gap: $spacing-3;\n  }\n\n  .macro-preview {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: $spacing-2;\n    text-align: center;\n\n    .macro-item {\n      .macro-label {\n        display: block;\n        font-size: 0.8rem;\n        color: $gray;\n        margin-bottom: $spacing-1;\n      }\n      .macro-value {\n        font-size: 1.8rem;\n        font-weight: bold;\n        color: $primary;\n      }\n    }\n  }\n\n  .meal-plan-preview {\n    margin-top: $spacing-3;\n    padding-top: $spacing-3;\n    border-top: 1px dashed $gray-lighter;\n\n    h5 {\n      margin-bottom: $spacing-2;\n      color: $primary-dark;\n    }\n\n    p {\n      margin: 0;\n      font-size: 0.9rem;\n      color: $gray;\n    }\n  }\n}\n\n .enhanced-input {\n   .input-wrapper {\n     position: relative;\n   }\n   \n   .input-hint {\n     display: flex;\n     align-items: center;\n     gap: $spacing-1;\n     margin-top: $spacing-1;\n     font-size: 0.8rem;\n     color: $gray;\n     \n     i {\n       color: $primary;\n     }\n   }\n }\n\n .macro-distribution {\n   margin-top: $spacing-6;\n   padding-top: $spacing-4;\n   border-top: 1px dashed $gray-lighter;\n \n   h4 {\n     margin-bottom: $spacing-3;\n     color: $primary-dark;\n   }\n \n   .macro-chart {\n     position: relative;\n     height: 20px;\n     background: $gray-lightest;\n     border-radius: $border-radius;\n     overflow: hidden;\n     margin-bottom: $spacing-2;\n   }\n \n   .macro-bar {\n     position: absolute;\n     top: 0;\n     left: 0;\n     height: 100%;\n     width: 100%;\n     border-radius: $border-radius;\n     display: flex;\n   }\n \n   .macro-segment {\n     height: 100%;\n     transition: width 0.3s ease-in-out;\n \n     &.protein {\n       background: #e74c3c;\n     }\n     &.carbs {\n       background: #3498db;\n     }\n     &.fat {\n       background: #f39c12;\n     }\n   }\n \n   .macro-legend {\n     display: flex;\n     justify-content: space-around;\n     font-size: 0.8rem;\n     color: $gray;\n \n     .legend-item {\n       display: flex;\n       align-items: center;\n       gap: $spacing-1;\n \n       .legend-color {\n         display: inline-block;\n         width: 10px;\n         height: 10px;\n         border-radius: 50%;\n         \n         &.protein {\n           background: #e74c3c;\n         }\n         &.carbs {\n           background: #3498db;\n         }\n         &.fat {\n           background: #f39c12;\n         }\n       }\n     }\n   }\n }\n</style>","import { render } from \"./NutritionProfileSetup.vue?vue&type=template&id=7ef3f1e1&scoped=true\"\nimport script from \"./NutritionProfileSetup.vue?vue&type=script&lang=js\"\nexport * from \"./NutritionProfileSetup.vue?vue&type=script&lang=js\"\n\nimport \"./NutritionProfileSetup.vue?vue&type=style&index=0&id=7ef3f1e1&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7ef3f1e1\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/MealPlanManager.vue -->\n<template>\n  <div class=\"meal-plan-manager\">\n    <!-- AI Generation Status -->\n    <div v-if=\"generationStatus\" class=\"generation-status\" :class=\"generationStatus.type\">\n      <div class=\"status-content\">\n        <i :class=\"generationStatus.icon\"></i>\n        <div class=\"status-text\">\n          <h4>{{ generationStatus.title }}</h4>\n          <p>{{ generationStatus.message }}</p>\n          <div v-if=\"generationStatus.steps\" class=\"generation-steps\">\n            <div\n              v-for=\"(step, index) in generationStatus.steps\"\n              :key=\"index\"\n              class=\"step\"\n              :class=\"{ 'completed': step.completed, 'active': step.active }\"\n            >\n              <i :class=\"step.completed ? 'fas fa-check' : step.active ? 'fas fa-spinner fa-spin' : 'fas fa-clock'\"></i>\n              <span>{{ step.name }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Generate New Meal Plan Section -->\n    <div class=\"generate-section\">\n      <div class=\"section-header\">\n        <h2>AI-Powered Meal Planning</h2>\n        <p>Let our advanced AI create a personalized meal plan based on your health profile, dietary preferences, and nutrition goals</p>\n      </div>\n\n      <form @submit.prevent=\"generateMealPlan\" class=\"generate-form\">\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"plan_type\">Plan Type</label>\n            <select\n              id=\"plan_type\"\n              v-model=\"generateForm.plan_type\"\n              class=\"form-select\"\n            >\n              <option value=\"daily\">Daily Plan (1 day)</option>\n              <option value=\"weekly\">Weekly Plan (7 days)</option>\n            </select>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"start_date\">Start Date</label>\n            <input\n              id=\"start_date\"\n              v-model=\"generateForm.start_date\"\n              type=\"date\"\n              class=\"form-input\"\n              :min=\"today\"\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"target_calories\">Target Calories (optional)</label>\n            <input\n              id=\"target_calories\"\n              v-model.number=\"generateForm.target_calories\"\n              type=\"number\"\n              min=\"1000\"\n              max=\"5000\"\n              placeholder=\"Uses your health profile default\"\n              class=\"form-input\"\n            />\n            <small class=\"form-hint\">Leave empty to use your calculated target from health profile</small>\n          </div>\n        </div>\n\n        <div class=\"advanced-options\" v-if=\"showAdvancedOptions\">\n          <h4>Advanced Options</h4>\n          <div class=\"form-row\">\n            <div class=\"form-group\">\n              <label>Preferred Cuisines (override profile)</label>\n              <div class=\"checkbox-group\">\n                <label v-for=\"cuisine in availableCuisines\" :key=\"cuisine\" class=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    :value=\"cuisine\"\n                    v-model=\"generateForm.cuisine_preferences\"\n                  />\n                  <span>{{ cuisine }}</span>\n                </label>\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"max_cook_time\">Max Cooking Time (minutes)</label>\n              <input\n                id=\"max_cook_time\"\n                v-model.number=\"generateForm.max_cook_time\"\n                type=\"number\"\n                min=\"10\"\n                max=\"120\"\n                placeholder=\"No limit\"\n                class=\"form-input\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-actions\">\n          <button\n            type=\"button\"\n            @click=\"showAdvancedOptions = !showAdvancedOptions\"\n            class=\"btn btn-outline\"\n          >\n            <i :class=\"showAdvancedOptions ? 'fas fa-chevron-up' : 'fas fa-chevron-down'\"></i>\n            {{ showAdvancedOptions ? 'Hide' : 'Show' }} Advanced Options\n          </button>\n\n          <button\n            type=\"submit\"\n            class=\"btn btn-primary generate-btn\"\n            :disabled=\"generating\"\n          >\n            <i class=\"fas fa-brain\" v-if=\"!generating\"></i>\n            <i class=\"fas fa-spinner fa-spin\" v-else></i>\n            {{ generating ? 'AI is Creating Your Plan...' : 'Generate AI Meal Plan' }}\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Existing Meal Plans Section -->\n    <div class=\"existing-plans-section\">\n      <div class=\"section-header\">\n        <h2>Your AI-Generated Meal Plans</h2>\n        <p>Previously generated personalized meal plans</p>\n      </div>\n\n      <div v-if=\"loading\" class=\"loading-state\">\n        <div class=\"loading-spinner\"></div>\n        <p>Loading your meal plans...</p>\n      </div>\n\n      <div v-else-if=\"mealPlans.length === 0\" class=\"empty-state\">\n        <i class=\"fas fa-brain\"></i>\n        <h3>No AI meal plans yet</h3>\n        <p>Generate your first AI-powered, personalized meal plan above!</p>\n      </div>\n\n      <div v-else class=\"meal-plans-grid\">\n        <div\n          v-for=\"plan in mealPlans\"\n          :key=\"plan.id\"\n          class=\"meal-plan-card\"\n          @click=\"viewMealPlan(plan)\"\n        >\n\n          <div class=\"plan-header\">\n            <h3>{{ plan ? formatPlanType(plan.plan_type) : 'Loading...' }} Plan</h3>\n            <span class=\"plan-date\">{{ plan ? formatDateRange(plan.start_date, plan.end_date) : 'Date unknown' }}</span>\n            <div class=\"ai-badge\">\n              <i class=\"fas fa-brain\"></i>\n              <span>AI v{{ plan.generation_version || '1.0' }}</span>\n            </div>\n          </div>\n\n          <div class=\"plan-stats\">\n            <div class=\"stat\">\n              <span class=\"stat-value\">{{ plan?.avg_daily_calories ? Math.round(plan.avg_daily_calories) : 'N/A' }}</span>\n              <span class=\"stat-label\">Avg Calories</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-value\">{{ getMealCount(plan) }}</span>\n              <span class=\"stat-label\">Meals</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-value\">{{ plan.nutritional_balance_score?.toFixed(1) || 'N/A' }}</span>\n              <span class=\"stat-label\">Balance Score</span>\n            </div>\n          </div>\n\n          <div class=\"plan-nutrition\" v-if=\"plan.daily_averages\">\n            <h4>Daily Nutrition Averages</h4>\n            <div class=\"nutrition-grid\">\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Protein:</span>\n                <span class=\"nutrition-value\">{{ Math.round(plan.daily_averages.protein || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Carbs:</span>\n                <span class=\"nutrition-value\">{{ Math.round(plan.daily_averages.carbs || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Fat:</span>\n                <span class=\"nutrition-value\">{{ Math.round(plan.daily_averages.fat || 0) }}g</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"quality-scores\" v-if=\"plan.variety_score || plan.preference_match_score\">\n            <div class=\"score-item\">\n              <span class=\"score-label\">Variety:</span>\n              <div class=\"score-bar\">\n                <div class=\"score-fill\" :style=\"{ width: (plan.variety_score * 10) + '%' }\"></div>\n              </div>\n              <span class=\"score-value\">{{ plan.variety_score?.toFixed(1) || 'N/A' }}</span>\n            </div>\n            <div class=\"score-item\">\n              <span class=\"score-label\">Preference:</span>\n              <div class=\"score-bar\">\n                <div class=\"score-fill\" :style=\"{ width: (plan.preference_match_score * 10) + '%' }\"></div>\n              </div>\n              <span class=\"score-value\">{{ plan.preference_match_score?.toFixed(1) || 'N/A' }}</span>\n            </div>\n          </div>\n\n          <div class=\"plan-actions\">\n            <button @click.stop=\"viewMealPlan(plan)\" class=\"btn btn-outline\">\n              <i class=\"fas fa-eye\"></i>\n              View Details\n            </button>\n            <button @click.stop=\"analyzeMealPlan(plan)\" class=\"btn btn-info\">\n              <i class=\"fas fa-chart-line\"></i>\n              AI Analysis\n            </button>\n            <button @click.stop=\"regeneratePlan(plan)\" class=\"btn btn-secondary\">\n              <i class=\"fas fa-redo\"></i>\n              Regenerate\n            </button>\n            <button @click.stop=\"deleteMealPlan(plan)\" class=\"btn btn-danger\">\n              <i class=\"fas fa-trash\"></i>\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Meal Plan Detail Modal -->\n    <meal-plan-detail-modal\n      v-if=\"selectedPlan\"\n      :meal-plan=\"selectedPlan\"\n      @close=\"selectedPlan = null\"\n      @regenerate-meal=\"(mealData) => regenerateMeal(selectedPlan.id, mealData)\"\n      @get-alternatives=\"(mealData) => getMealAlternatives(selectedPlan.id, mealData)\"\n      @analyze-plan=\"analyzeMealPlanFromModal\"\n      @delete-plan=\"deleteMealPlan\"\n    />\n\n    <!-- Nutritional Analysis Modal -->\n    <nutritional-analysis-modal\n      v-if=\"showAnalysisModal && currentAnalysis\"\n      :analysis=\"currentAnalysis\"\n      :meal-plan=\"selectedPlanForAnalysis\"\n      @close=\"closeAnalysisModal\"\n    />\n\n    <!-- Alternatives Modal -->\n    <alternatives-modal\n      v-if=\"showAlternativesModal && alternativesModalData\"\n      :plan-id=\"alternativesModalData.planId\"\n      :day=\"alternativesModalData.day\"\n      :meal-type=\"alternativesModalData.mealType\"\n      @close=\"closeAlternativesModal\"\n      @alternative-selected=\"handleAlternativeSelected\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\nimport MealPlanDetailModal from './MealPlanDetailModal.vue'\nimport NutritionalAnalysisModal from './NutritionalAnalysisModal.vue'\nimport AlternativesModal from './AlternativesModal.vue'\n\nexport default {\n  name: 'MealPlanManager',\n  components: {\n    MealPlanDetailModal,\n    NutritionalAnalysisModal,\n    AlternativesModal\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    nutritionProfile: {\n      type: Object,\n      default: null\n    }\n  },\n  emits: ['meal-plan-generated'],\n  data() {\n    return {\n      mealPlans: [],\n      selectedPlan: null,\n      selectedPlanForAnalysis: null,\n      currentAnalysis: null,\n      showAnalysisModal: false,\n      showAlternativesModal: false,\n      alternativesModalData: null,\n      generating: false,\n      showAdvancedOptions: false,\n      generationStatus: null,\n      generateForm: {\n        plan_type: 'daily',\n        start_date: '',\n        target_calories: null,\n        cuisine_preferences: [],\n        max_cook_time: null\n      },\n      availableCuisines: [\n        'Mediterranean', 'Asian', 'Italian', 'Mexican', 'American',\n        'Indian', 'Middle Eastern', 'French', 'Japanese', 'Thai'\n      ]\n    }\n  },\n  computed: {\n    today() {\n      return new Date().toISOString().split('T')[0]\n    }\n  },\n  async mounted() {\n    // Set default start date to today\n    this.generateForm.start_date = this.today\n    await this.loadMealPlans()\n  },\n  methods: {\n    async loadMealPlans() {\n      try {\n        if (process.env.NODE_ENV === 'development') {\n          console.log(' Loading meal plans...')\n        }\n        const response = await mealPlanningApi.getMealPlans()\n        \n        // Handle different response structures safely\n        const mealPlansData = response?.data?.results || response?.data || []\n        \n        if (process.env.NODE_ENV === 'development') {\n          console.log(` Loaded ${mealPlansData.length} meal plans`)\n        }\n        \n        this.mealPlans = mealPlansData\n      } catch (error) {\n        console.error(' Failed to load meal plans:', error.message)\n        console.error('Response:', error.response?.data)\n        console.error('================================')\n        this.mealPlans = [] // Set empty array to prevent null errors\n        this.showError('Failed to load meal plans')\n      }\n    },\n\n    // Helper method to count meals in a plan based on the new structure\n    getMealCount(plan) {\n      if (!plan?.meal_plan_data?.meals) {\n        return 'N/A'\n      }\n      \n      // Cache the meal count to prevent repeated calculations\n      if (plan._cachedMealCount !== undefined) {\n        return plan._cachedMealCount\n      }\n      \n      let totalMeals = 0\n      Object.values(plan.meal_plan_data.meals).forEach(dayMeals => {\n        if (Array.isArray(dayMeals)) {\n          totalMeals += dayMeals.length\n        }\n      })\n      \n      const result = totalMeals || 'N/A'\n      plan._cachedMealCount = result\n      return result\n    },\n\n    async generateMealPlan() {\n      this.generating = true\n      this.showGenerationStatus()\n\n      try {\n        const planData = { ...this.generateForm }\n\n        // Clean up form data\n        if (!planData.target_calories) {\n          // Use nutrition profile's calorie target if no override specified\n          if (this.nutritionProfile?.calorie_target) {\n            planData.target_calories = this.nutritionProfile.calorie_target\n          } else {\n            delete planData.target_calories\n          }\n        }\n        if (!planData.max_cook_time) {\n          delete planData.max_cook_time\n        }\n        if (planData.cuisine_preferences.length === 0) {\n          delete planData.cuisine_preferences\n        }\n\n        // Update generation status\n        this.updateGenerationStep('strategy', true)\n\n        const response = await mealPlanningApi.generateMealPlan(planData)\n        \n        // Update status to show recipe saving\n        this.updateGenerationStep('recipes', true)\n\n        // Mark all steps as completed\n        this.generationStatus.steps.forEach(step => {\n          step.completed = true\n          step.active = false\n        })\n\n        // Show success status\n        this.generationStatus = {\n          type: 'success',\n          icon: 'fas fa-check-circle',\n          title: 'Meal Plan Generated Successfully!',\n          message: 'Your personalized AI meal plan is ready to view.'\n        }\n\n        // Add to meal plans list\n        this.mealPlans.unshift(response.data)\n\n        this.showSuccess('AI meal plan generated successfully!')\n        this.$emit('meal-plan-generated', response.data)\n\n        // Clear the status after a delay\n        setTimeout(() => {\n          this.generationStatus = null\n          this.viewMealPlan(response.data)\n        }, 2000)\n\n      } catch (error) {\n        console.error('Failed to generate meal plan:', error)\n        this.generationStatus = {\n          type: 'error',\n          icon: 'fas fa-exclamation-circle',\n          title: 'Generation Failed',\n          message: 'Failed to generate meal plan. Please try again.'\n        }\n        this.showError('Failed to generate meal plan. Please try again.')\n\n        setTimeout(() => {\n          this.generationStatus = null\n        }, 3000)\n      } finally {\n        this.generating = false\n      }\n    },\n\n    showGenerationStatus() {\n      this.generationStatus = {\n        type: 'generating',\n        icon: 'fas fa-brain',\n        title: 'AI is Creating Your Meal Plan',\n        message: 'Our AI is analyzing your profile and generating personalized meals...',\n        steps: [\n          { name: 'Analyzing your health profile', completed: false, active: true },\n          { name: 'Creating meal strategy', completed: false, active: false },\n          { name: 'Generating meal structure', completed: false, active: false },\n          { name: 'Creating detailed recipes', completed: false, active: false },\n          { name: 'Optimizing nutrition balance', completed: false, active: false }\n        ]\n      }\n\n      // Simulate step progression\n      setTimeout(() => this.updateGenerationStep('strategy'), 1000)\n      setTimeout(() => this.updateGenerationStep('structure'), 3000)\n      setTimeout(() => this.updateGenerationStep('recipes'), 5000)\n      setTimeout(() => this.updateGenerationStep('optimization'), 7000)\n    },\n\n    updateGenerationStep(stepType, forceComplete = false) {\n      if (!this.generationStatus || !this.generationStatus.steps) return\n\n      const stepIndex = {\n        'profile': 0,\n        'strategy': 1,\n        'structure': 2,\n        'recipes': 3,\n        'optimization': 4\n      }[stepType]\n\n      if (stepIndex !== undefined) {\n        // Complete previous steps\n        for (let i = 0; i < stepIndex; i++) {\n          this.generationStatus.steps[i].completed = true\n          this.generationStatus.steps[i].active = false\n        }\n\n        // Update current step\n        if (forceComplete) {\n          this.generationStatus.steps[stepIndex].completed = true\n          this.generationStatus.steps[stepIndex].active = false\n        } else {\n          this.generationStatus.steps[stepIndex].active = true\n        }\n      }\n    },\n\n    async regeneratePlan(plan) {\n      try {\n        const confirmed = confirm('Generate a new AI meal plan with the same settings? This will create a completely new plan.')\n        if (!confirmed) return\n\n        this.generating = true\n        this.showGenerationStatus()\n\n        const planData = {\n          plan_type: plan.plan_type,\n          start_date: plan.start_date\n        }\n\n        const response = await mealPlanningApi.generateMealPlan(planData)\n\n        // Add new plan to the beginning of the list\n        this.mealPlans.unshift(response.data)\n\n        this.generationStatus = {\n          type: 'success',\n          icon: 'fas fa-check-circle',\n          title: 'New Meal Plan Generated!',\n          message: 'Your fresh AI meal plan is ready.'\n        }\n\n        this.showSuccess('New AI meal plan generated!')\n        this.$emit('meal-plan-generated', response.data)\n\n        setTimeout(() => {\n          this.generationStatus = null\n        }, 2000)\n\n      } catch (error) {\n        console.error('Failed to regenerate meal plan:', error)\n        this.generationStatus = {\n          type: 'error',\n          icon: 'fas fa-exclamation-circle',\n          title: 'Regeneration Failed',\n          message: 'Failed to regenerate meal plan.'\n        }\n        this.showError('Failed to regenerate meal plan')\n\n        setTimeout(() => {\n          this.generationStatus = null\n        }, 3000)\n      } finally {\n        this.generating = false\n      }\n    },\n\n    async deleteMealPlan(plan) {\n      try {\n        const confirmed = confirm(`Are you sure you want to delete this ${plan.plan_type} meal plan? This action cannot be undone.`)\n        if (!confirmed) return\n\n        await mealPlanningApi.deleteMealPlan(plan.id)\n\n        // Remove the plan from the local list\n        this.mealPlans = this.mealPlans.filter(p => p.id !== plan.id)\n\n        this.showSuccess('Meal plan deleted successfully')\n        \n        // Close modal if the deleted plan was being viewed\n        if (this.selectedPlan && this.selectedPlan.id === plan.id) {\n          this.selectedPlan = null\n        }\n\n      } catch (error) {\n        console.error('Error deleting meal plan:', error)\n        this.showError('Failed to delete meal plan')\n      }\n    },\n\n    viewMealPlan(plan) {\n      console.log('=== Meal Plan Details ===')\n      console.log('Plan ID:', plan?.id)\n      console.log('Plan Type:', plan?.plan_type)\n      console.log('Has meal_plan_data:', !!plan?.meal_plan_data)\n      console.log('Has meals:', !!plan?.meal_plan_data?.meals)\n      console.log('Meals structure:', plan?.meal_plan_data?.meals)\n      if (plan?.meal_plan_data?.meals) {\n        console.log('Available meal dates:', Object.keys(plan.meal_plan_data.meals))\n        console.log('Sample meal data for first date:', Object.values(plan.meal_plan_data.meals)[0])\n      }\n      console.log('=========================')\n      this.selectedPlan = plan\n    },\n\n    async regenerateMeal(planId, mealData) {\n      try {\n        console.log('=== Regenerating Meal ===')\n        console.log('Plan ID:', planId)\n        console.log('Meal Data:', mealData)\n        \n        if (!mealData) {\n          console.error('regenerateMeal: mealData is null/undefined')\n          throw new Error('Meal data is required')\n        }\n        \n        const { day, mealType } = mealData\n        console.log('Day:', day)\n        console.log('Meal Type:', mealType)\n        \n        if (!day || !mealType) {\n          console.error('regenerateMeal: day or mealType missing', { day, mealType })\n          throw new Error('Day and meal type are required')\n        }\n        \n        console.log('Making API call to regenerate meal...')\n        const response = await mealPlanningApi.regenerateMeal(planId, day, mealType)\n        console.log('Regeneration successful, updating UI...')\n\n        // Update the meal plan in our list\n        const planIndex = this.mealPlans.findIndex(p => p.id === planId)\n        if (planIndex !== -1) {\n          this.mealPlans[planIndex] = response.data\n          this.selectedPlan = response.data\n          console.log('Meal plan updated in list')\n        }\n\n        this.showSuccess(`${mealType} meal regenerated successfully!`)\n        console.log('========================')\n      } catch (error) {\n        console.error('=== Failed to regenerate meal ===')\n        console.error('Error message:', error.message)\n        console.error('Error response:', error.response?.data)\n        console.error('Full error:', error)\n        console.error('================================')\n        this.showError(`Failed to regenerate meal: ${error.message}`)\n      }\n    },\n\n    async getMealAlternatives(planId, mealData) {\n      try {\n        console.log('=== Opening Meal Alternatives Modal ===')\n        console.log('Plan ID:', planId)\n        console.log('Meal Data:', mealData)\n        \n        if (!mealData) {\n          console.error('getMealAlternatives: mealData is null/undefined')\n          this.showError('Meal data is required')\n          return\n        }\n        \n        const { day, mealType } = mealData\n        console.log('Day:', day)\n        console.log('Meal Type:', mealType)\n        \n        if (!day || !mealType) {\n          console.error('getMealAlternatives: day or mealType missing', { day, mealType })\n          this.showError('Day and meal type are required')\n          return\n        }\n        \n        // Set up modal data and show the modal\n        this.alternativesModalData = {\n          planId: planId,\n          day: day,\n          mealType: mealType\n        }\n        this.showAlternativesModal = true\n        \n        console.log('Alternatives modal opened')\n        console.log('===============================')\n      } catch (error) {\n        console.error('=== Failed to open alternatives modal ===')\n        console.error('Error message:', error.message)\n        console.error('Full error:', error)\n        console.error('=====================================')\n        this.showError(`Failed to open alternatives: ${error.message}`)\n      }\n    },\n\n    closeAlternativesModal() {\n      this.showAlternativesModal = false\n      this.alternativesModalData = null\n    },\n\n    async handleAlternativeSelected(selectionData) {\n      try {\n        console.log('=== Handling Alternative Selection ===')\n        console.log('Selection data:', selectionData)\n        \n        const { day, mealType, recipe } = selectionData\n        \n        // Use swapMeal API to replace the current meal with the selected alternative\n        const response = await mealPlanningApi.swapMeal(\n          this.alternativesModalData.planId,\n          day,\n          mealType,\n          recipe\n        )\n        \n        console.log('Meal swapped successfully:', response.data)\n        \n        // Refresh the meal plan to show the updated meal\n        await this.loadMealPlans()\n        \n        // Update the selected plan if it's the one that was modified\n        if (this.selectedPlan && this.selectedPlan.id === this.alternativesModalData.planId) {\n          const updatedPlan = this.mealPlans.find(plan => plan.id === this.selectedPlan.id)\n          if (updatedPlan) {\n            this.selectedPlan = updatedPlan\n          }\n        }\n        \n        this.showSuccess(`${mealType} meal replaced successfully with \"${recipe.title}\"!`)\n        console.log('========================')\n        \n      } catch (error) {\n        console.error('=== Failed to swap meal ===')\n        console.error('Error message:', error.message)\n        console.error('Error response:', error.response?.data)\n        console.error('Full error:', error)\n        console.error('================================')\n        this.showError(`Failed to replace meal: ${error.message}`)\n      }\n    },\n\n    async analyzeMealPlan(plan) {\n      try {\n        this.selectedPlanForAnalysis = plan\n\n        // Show loading state\n        this.currentAnalysis = {\n          loading: true,\n          message: 'AI is analyzing your meal plan nutrition...'\n        }\n        this.showAnalysisModal = true\n\n        const response = await mealPlanningApi.analyzeMealPlan(plan.id)\n        this.currentAnalysis = response.data\n\n      } catch (error) {\n        console.error('Failed to analyze meal plan:', error)\n        this.currentAnalysis = {\n          error: true,\n          message: 'Failed to analyze meal plan. Please try again.'\n        }\n        this.showError('Failed to analyze meal plan')\n      }\n    },\n\n    async analyzeMealPlanFromModal(plan) {\n      // Close the detail modal first\n      this.selectedPlan = null\n      // Then trigger the analysis\n      await this.analyzeMealPlan(plan)\n    },\n\n    closeAnalysisModal() {\n      this.showAnalysisModal = false\n      this.currentAnalysis = null\n      this.selectedPlanForAnalysis = null\n    },\n\n    formatPlanType(planType) {\n      if (!planType || typeof planType !== 'string') {\n        return 'Unknown'\n      }\n      return planType.charAt(0).toUpperCase() + planType.slice(1)\n    },\n\n    formatDateRange(startDate, endDate) {\n      if (!startDate || !endDate) {\n        console.log('formatDateRange: Missing dates - start:', startDate, 'end:', endDate)\n        return 'Date unknown'\n      }\n\n      try {\n        const startDateObj = new Date(startDate)\n        const endDateObj = new Date(endDate)\n        \n        if (isNaN(startDateObj.getTime()) || isNaN(endDateObj.getTime())) {\n          console.log('formatDateRange: Invalid dates - start:', startDate, 'end:', endDate)\n          return 'Invalid date range'\n        }\n        \n        const start = startDateObj.toLocaleDateString()\n        const end = endDateObj.toLocaleDateString()\n\n        if (startDate === endDate) {\n          return start\n        }\n        return `${start} - ${end}`\n      } catch (error) {\n        console.error('formatDateRange error:', error, 'for dates:', startDate, endDate)\n        return 'Date error'\n      }\n    },\n\n    showSuccess(message) {\n      this.$toast?.success?.(message) || alert(message)\n    },\n\n    showError(message) {\n      this.$toast?.error?.(message) || alert(message)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.meal-plan-manager {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n// Generation Status Styles\n.generation-status {\n  margin-bottom: $spacing-6;\n  padding: $spacing-5;\n  border-radius: $border-radius-lg;\n  border-left: 4px solid;\n\n  &.generating {\n    background: linear-gradient(135deg, rgba(#007bff, 0.1), rgba(#007bff, 0.05));\n    border-left-color: #007bff;\n  }\n\n  &.success {\n    background: linear-gradient(135deg, rgba(#28a745, 0.1), rgba(#28a745, 0.05));\n    border-left-color: #28a745;\n  }\n\n  &.error {\n    background: linear-gradient(135deg, rgba(#dc3545, 0.1), rgba(#dc3545, 0.05));\n    border-left-color: #dc3545;\n  }\n}\n\n.status-content {\n  display: flex;\n  align-items: flex-start;\n  gap: $spacing-4;\n\n  i {\n    font-size: 1.5rem;\n    margin-top: 2px;\n\n    .generating & { color: #007bff; }\n    .success & { color: #28a745; }\n    .error & { color: #dc3545; }\n  }\n}\n\n.status-text {\n  flex: 1;\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1.2rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n  }\n}\n\n.generation-steps {\n  margin-top: $spacing-4;\n  display: flex;\n  flex-direction: column;\n  gap: $spacing-2;\n}\n\n.step {\n  display: flex;\n  align-items: center;\n  gap: $spacing-3;\n  padding: $spacing-2;\n  border-radius: $border-radius;\n  transition: all 0.3s ease;\n\n  &.completed {\n    background: rgba(#28a745, 0.1);\n\n    i { color: #28a745; }\n    span { color: #28a745; font-weight: 500; }\n  }\n\n  &.active {\n    background: rgba(#007bff, 0.1);\n\n    i { color: #007bff; }\n    span { color: #007bff; font-weight: 500; }\n  }\n\n  i {\n    font-size: 0.9rem;\n    width: 16px;\n    color: $gray-light;\n  }\n\n  span {\n    font-size: 0.9rem;\n    color: $gray;\n  }\n}\n\n// Enhanced form styles\n.generate-section, .existing-plans-section {\n  margin-bottom: $spacing-8;\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: $spacing-6;\n\n  h2 {\n    margin: 0 0 $spacing-2 0;\n    color: $primary-dark;\n    font-size: 1.8rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1.1rem;\n    max-width: 600px;\n    margin: 0 auto;\n  }\n}\n\n.generate-form {\n  background: $white;\n  padding: $spacing-6;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  border: 1px solid $gray-lighter;\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: $spacing-4;\n  margin-bottom: $spacing-5;\n}\n\n.form-group {\n  label {\n    display: block;\n    margin-bottom: $spacing-2;\n    font-weight: 500;\n    color: $primary-dark;\n  }\n}\n\n.form-hint {\n  display: block;\n  margin-top: $spacing-1;\n  font-size: 0.85rem;\n  color: $gray;\n}\n\n.form-input, .form-select {\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid $gray-lighter;\n  border-radius: $border-radius;\n  font-size: 1rem;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n    box-shadow: 0 0 0 3px rgba($primary, 0.1);\n  }\n}\n\n.advanced-options {\n  margin-top: $spacing-5;\n  padding-top: $spacing-5;\n  border-top: 1px solid $gray-lighter;\n\n  h4 {\n    margin: 0 0 $spacing-4 0;\n    color: $primary-dark;\n    font-size: 1.1rem;\n  }\n}\n\n.checkbox-group {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: $spacing-2;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  padding: $spacing-2;\n  border-radius: $border-radius;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background: rgba($primary, 0.05);\n  }\n\n  input[type=\"checkbox\"] {\n    margin: 0;\n  }\n}\n\n.form-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: $spacing-4;\n  margin-top: $spacing-6;\n}\n\n.generate-btn {\n  flex: 1;\n  max-width: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: $spacing-2;\n  padding: $spacing-4;\n  font-size: 1.1rem;\n  font-weight: 600;\n  background: linear-gradient(135deg, $primary, lighten($primary, 10%));\n  border: none;\n  color: $white;\n  border-radius: $border-radius;\n  transition: all 0.3s ease;\n\n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: $shadow-lg;\n  }\n\n  &:disabled {\n    opacity: 0.8;\n    cursor: not-allowed;\n  }\n\n  i {\n    font-size: 1rem;\n  }\n}\n\n// Enhanced meal plan cards\n.meal-plans-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));\n  gap: $spacing-6;\n}\n\n.meal-plan-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  padding: $spacing-5;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 1px solid $gray-lighter;\n  position: relative;\n  overflow: hidden;\n\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: $shadow-lg;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(135deg, $primary, lighten($primary, 20%));\n  }\n}\n\n.plan-header {\n  margin-bottom: $spacing-4;\n  position: relative;\n\n  h3 {\n    margin: 0 0 $spacing-1 0;\n    color: $primary-dark;\n    font-size: 1.3rem;\n    font-weight: 600;\n  }\n\n  .plan-date {\n    color: $gray;\n    font-size: 0.9rem;\n  }\n\n  .ai-badge {\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: linear-gradient(135deg, #6f42c1, #8b5cf6);\n    color: white;\n    padding: 4px 8px;\n    border-radius: $border-radius;\n    font-size: 0.75rem;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n\n    i {\n      font-size: 0.7rem;\n    }\n  }\n}\n\n.plan-stats {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: $spacing-4;\n  padding: $spacing-3;\n  background: rgba($primary, 0.05);\n  border-radius: $border-radius;\n}\n\n.stat {\n  text-align: center;\n\n  .stat-value {\n    display: block;\n    font-size: 1.3rem;\n    font-weight: 600;\n    color: $primary-dark;\n    margin-bottom: 2px;\n  }\n\n  .stat-label {\n    display: block;\n    font-size: 0.75rem;\n    color: $gray;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n}\n\n// New nutrition display section\n.plan-nutrition {\n  margin-bottom: $spacing-4;\n  padding: $spacing-3;\n  background: rgba(#28a745, 0.05);\n  border-radius: $border-radius;\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 0.9rem;\n    color: $primary-dark;\n    font-weight: 600;\n  }\n\n  .nutrition-grid {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: $spacing-2;\n  }\n\n  .nutrition-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0.85rem;\n\n    .nutrition-label {\n      color: $gray;\n      font-weight: 500;\n    }\n\n    .nutrition-value {\n      color: $primary-dark;\n      font-weight: 600;\n    }\n  }\n}\n\n.quality-scores {\n  margin-bottom: $spacing-4;\n}\n\n.score-item {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  margin-bottom: $spacing-2;\n\n  .score-label {\n    font-size: 0.85rem;\n    color: $gray;\n    min-width: 80px;\n  }\n\n  .score-bar {\n    flex: 1;\n    height: 6px;\n    background: $gray-lighter;\n    border-radius: 3px;\n    overflow: hidden;\n\n    .score-fill {\n      height: 100%;\n      background: linear-gradient(90deg, #28a745, #20c997);\n      transition: width 0.3s ease;\n    }\n  }\n\n  .score-value {\n    font-size: 0.85rem;\n    font-weight: 500;\n    color: $primary-dark;\n    min-width: 30px;\n    text-align: right;\n  }\n}\n\n.plan-actions {\n  display: flex;\n  gap: $spacing-2;\n\n  .btn {\n    flex: 1;\n    padding: $spacing-2;\n    font-size: 0.85rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 6px;\n\n    i {\n      font-size: 0.8rem;\n    }\n\n    &.btn-info {\n      background: #17a2b8;\n      color: white;\n      border: none;\n\n      &:hover {\n        background: #138496;\n      }\n    }\n\n    &.btn-danger {\n      background: #dc3545;\n      color: white;\n      border: none;\n\n      &:hover {\n        background: #c82333;\n      }\n    }\n  }\n}\n\n// Loading and empty states\n.loading-state, .empty-state {\n  text-align: center;\n  padding: $spacing-8;\n  color: $gray;\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid $gray-lighter;\n  border-left: 4px solid $primary;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto $spacing-4;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.empty-state i {\n  font-size: 3rem;\n  margin-bottom: $spacing-4;\n  display: block;\n  color: $gray-light;\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .form-row {\n    grid-template-columns: 1fr;\n  }\n\n  .form-actions {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .generate-btn {\n    max-width: none;\n  }\n\n  .meal-plans-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .plan-actions {\n    flex-direction: column;\n  }\n\n  .nutrition-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>","<!-- src/components/meal-planning/MealPlanDetailModal.vue -->\n<template>\n  <div class=\"modal-overlay\" @click=\"$emit('close')\">\n    <div class=\"modal-content\" @click.stop>\n      <div class=\"modal-header\">\n        <h2>{{ formatPlanType(mealPlan.plan_type) }} Meal Plan</h2>\n        <div class=\"ai-generation-info\">\n          <span class=\"ai-badge\">\n            <i class=\"fas fa-brain\"></i>\n            AI v{{ mealPlan.generation_version || '1.0' }}\n          </span>\n          <span class=\"model-badge\">{{ mealPlan.ai_model_used || 'AI Model' }}</span>\n        </div>\n        <button @click=\"$emit('close')\" class=\"close-btn\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n\n      <div class=\"modal-body\">\n        <div class=\"plan-overview\">\n          <div class=\"overview-stats\">\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Date Range:</span>\n              <span class=\"stat-value\">{{ formatDateRange(mealPlan.start_date, mealPlan.end_date) }}</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Total Calories:</span>\n              <span class=\"stat-value\">{{ Math.round(mealPlan.total_calories || 0) }}</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Avg Daily Calories:</span>\n              <span class=\"stat-value\">{{ Math.round(mealPlan.avg_daily_calories || 0) }}</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Total Meals:</span>\n              <span class=\"stat-value\">{{ getTotalMeals() }}</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"mealPlan.nutritional_balance_score\">\n              <span class=\"stat-label\">Balance Score:</span>\n              <span class=\"stat-value\">{{ mealPlan.nutritional_balance_score.toFixed(1) }}/10</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"mealPlan.days_count\">\n              <span class=\"stat-label\">Days:</span>\n              <span class=\"stat-value\">{{ mealPlan.days_count }}</span>\n            </div>\n          </div>\n\n          <!-- Daily Nutritional Averages -->\n          <div class=\"nutrition-overview\" v-if=\"mealPlan.daily_averages\">\n            <h4>Daily Nutritional Averages</h4>\n            <div class=\"nutrition-grid\">\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Protein:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.protein || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Carbohydrates:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.carbs || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Fat:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.fat || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Calories:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.calories || 0) }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quality Scores -->\n          <div class=\"quality-scores\" v-if=\"mealPlan.variety_score || mealPlan.preference_match_score\">\n            <h4>Plan Quality Metrics</h4>\n            <div class=\"scores-grid\">\n              <div class=\"score-item\" v-if=\"mealPlan.nutritional_balance_score\">\n                <span class=\"score-label\">Nutritional Balance:</span>\n                <div class=\"score-bar\">\n                  <div class=\"score-fill\" :style=\"{ width: (mealPlan.nutritional_balance_score * 10) + '%' }\"></div>\n                </div>\n                <span class=\"score-value\">{{ mealPlan.nutritional_balance_score.toFixed(1) }}/10</span>\n              </div>\n              <div class=\"score-item\" v-if=\"mealPlan.variety_score\">\n                <span class=\"score-label\">Variety Score:</span>\n                <div class=\"score-bar\">\n                  <div class=\"score-fill\" :style=\"{ width: (mealPlan.variety_score * 10) + '%' }\"></div>\n                </div>\n                <span class=\"score-value\">{{ mealPlan.variety_score.toFixed(1) }}/10</span>\n              </div>\n              <div class=\"score-item\" v-if=\"mealPlan.preference_match_score\">\n                <span class=\"score-label\">Preference Match:</span>\n                <div class=\"score-bar\">\n                  <div class=\"score-fill\" :style=\"{ width: (mealPlan.preference_match_score * 10) + '%' }\"></div>\n                </div>\n                <span class=\"score-value\">{{ mealPlan.preference_match_score.toFixed(1) }}/10</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"meals-section\" v-if=\"mealPlan.meal_plan_data && mealPlan.meal_plan_data.meals\">\n          <h3>Detailed Meal Plan</h3>\n          <div class=\"meals-grid\">\n            <div\n              v-for=\"(dayMeals, date) in mealPlan.meal_plan_data.meals\"\n              :key=\"date\"\n              class=\"day-meals\"\n            >\n              <h4 class=\"day-header\">{{ formatDate(date) }}</h4>\n              <div class=\"meals-list\">\n                <div\n                  v-for=\"(meal, index) in dayMeals\"\n                  :key=\"index\"\n                  class=\"meal-card\"\n                >\n                  <div class=\"meal-header\">\n                    <div class=\"meal-title-section\">\n                      <h5 class=\"meal-title\">\n                        {{ getMealTitle(meal) }}\n                      </h5>\n                      <span class=\"meal-type-badge\" :class=\"getMealTypeClass(meal.meal_type || 'meal')\">\n                        {{ formatMealType(meal.meal_type || 'Meal') }}\n                      </span>\n                    </div>\n                    <div class=\"meal-meta\">\n                      <span class=\"meal-time\">\n                        <i class=\"fas fa-clock\"></i>\n                        {{ getMealTime(meal) }}\n                      </span>\n                      <span class=\"meal-cuisine\" v-if=\"meal.recipe?.cuisine || meal.cuisine\">\n                        <i class=\"fas fa-globe\"></i>\n                        {{ meal.recipe?.cuisine || meal.cuisine }}\n                      </span>\n                    </div>\n                  </div>\n\n                  <!-- Recipe Details -->\n                  <div class=\"recipe-details\" v-if=\"meal.recipe || getMealRecipe(meal)\">\n                    <!-- Cooking Information -->\n                    <div class=\"cooking-info\" v-if=\"getMealRecipe(meal).readyInMinutes || getMealRecipe(meal).prep_time || getMealRecipe(meal).cook_time || getMealRecipe(meal).total_time\">\n                      <div class=\"time-info\">\n                        <span v-if=\"getMealRecipe(meal).readyInMinutes\" class=\"time-item\">\n                          <i class=\"fas fa-hourglass-half\"></i>\n                          Ready: {{ getMealRecipe(meal).readyInMinutes }}min\n                        </span>\n                        <span v-if=\"getMealRecipe(meal).prep_time\" class=\"time-item\">\n                          <i class=\"fas fa-cut\"></i>\n                          Prep: {{ getMealRecipe(meal).prep_time }}min\n                        </span>\n                        <span v-if=\"getMealRecipe(meal).cook_time\" class=\"time-item\">\n                          <i class=\"fas fa-fire\"></i>\n                          Cook: {{ getMealRecipe(meal).cook_time }}min\n                        </span>\n                        <span v-if=\"getMealRecipe(meal).total_time\" class=\"time-item\">\n                          <i class=\"fas fa-hourglass-half\"></i>\n                          Total: {{ getMealRecipe(meal).total_time }}min\n                        </span>\n                        <span v-if=\"getMealRecipe(meal).servings\" class=\"time-item\">\n                          <i class=\"fas fa-users\"></i>\n                          Serves: {{ getMealRecipe(meal).servings }}\n                        </span>\n                      </div>\n                    </div>\n\n                    <!-- Nutritional Information -->\n                    <div class=\"meal-nutrition\">\n                      <h6>Nutritional Information</h6>\n                      <div class=\"nutrition-details\">\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Calories:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(getMealRecipe(meal), 'calories') }}</span>\n                        </div>\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Protein:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(getMealRecipe(meal), 'protein') }}g</span>\n                        </div>\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Carbs:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(getMealRecipe(meal), 'carbs') }}g</span>\n                        </div>\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Fat:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(getMealRecipe(meal), 'fat') }}g</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Ingredients -->\n                    <div class=\"ingredients-section\" v-if=\"getMealIngredients(meal).length\">\n                      <h6>Ingredients</h6>\n                      <div class=\"ingredients-list\">\n                        <div \n                          v-for=\"(ingredient, idx) in getMealIngredients(meal)\" \n                          :key=\"idx\"\n                          class=\"ingredient-item\"\n                        >\n                          <span class=\"ingredient-quantity\">{{ ingredient.quantity || ingredient.amount || '' }}</span>\n                          <span class=\"ingredient-unit\">{{ ingredient.unit || '' }}</span>\n                          <span class=\"ingredient-name\">{{ ingredient.name || ingredient.original || ingredient.text }}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Instructions -->\n                    <div class=\"instructions-section\" v-if=\"normalizedInstructions(meal).length\">\n                      <h6>Instructions</h6>\n                      <div class=\"instructions-list\">\n                        <div \n                          v-for=\"(instruction, idx) in normalizedInstructions(meal)\" \n                          :key=\"idx\"\n                          class=\"instruction-item\"\n                        >\n                          <span class=\"instruction-number\">{{ instruction.number }}</span>\n                          <span class=\"instruction-text\">{{ instruction.step }}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Target Information -->\n                    <div class=\"target-info\" v-if=\"meal.target_calories || meal.target_protein || meal.target_carbs || meal.target_fat\">\n                      <h6>Meal Targets</h6>\n                      <div class=\"targets-grid\">\n                        <div class=\"target-item\" v-if=\"meal.target_calories\">\n                          <span class=\"target-label\">Target Calories:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_calories) }}</span>\n                        </div>\n                        <div class=\"target-item\" v-if=\"meal.target_protein\">\n                          <span class=\"target-label\">Target Protein:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_protein) }}g</span>\n                        </div>\n                        <div class=\"target-item\" v-if=\"meal.target_carbs\">\n                          <span class=\"target-label\">Target Carbs:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_carbs) }}g</span>\n                        </div>\n                        <div class=\"target-item\" v-if=\"meal.target_fat\">\n                          <span class=\"target-label\">Target Fat:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_fat) }}g</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"meal-actions\">\n                    <button\n                      @click=\"toggleSaveRecipe(meal.recipe)\"\n                      class=\"btn btn-sm\"\n                      :class=\"meal.recipe?.is_saved_by_user ? 'btn-outline-danger' : 'btn-primary'\"\n                      :disabled=\"savingRecipe === meal.recipe?.id\"\n                    >\n                      <i v-if=\"savingRecipe === meal.recipe?.id\" class=\"fas fa-spinner fa-spin\"></i>\n                      <i v-else :class=\"meal.recipe?.is_saved_by_user ? 'fas fa-heart' : 'far fa-heart'\"></i>\n                      {{ savingRecipe === meal.recipe?.id ? (meal.recipe?.is_saved_by_user ? 'Removing...' : 'Saving...') : (meal.recipe?.is_saved_by_user ? 'Remove' : 'Save') }}\n                    </button>\n                    <button\n                      @click=\"regenerateMeal(date, meal.meal_type || inferMealTypeFromTime(new Date()))\"\n                      class=\"btn btn-sm btn-outline\"\n                    >\n                      <i class=\"fas fa-redo\"></i>\n                      Regenerate\n                    </button>\n                    <button\n                      @click=\"getAlternatives(date, meal.meal_type || inferMealTypeFromTime(new Date()))\"\n                      class=\"btn btn-sm btn-secondary\"\n                    >\n                      <i class=\"fas fa-exchange-alt\"></i>\n                      Alternatives\n                    </button>\n                    <button\n                      @click=\"viewRecipeDetails(meal.recipe)\"\n                      class=\"btn btn-sm btn-info\"\n                    >\n                      <i class=\"fas fa-info-circle\"></i>\n                      Recipe Details\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div v-else class=\"no-meals\">\n          <i class=\"fas fa-utensils\"></i>\n          <p>No meal details available</p>\n        </div>\n      </div>\n\n      <div class=\"modal-footer\">\n        <button @click=\"$emit('close')\" class=\"btn btn-secondary\">Close</button>\n        <button @click=\"generateShoppingList\" class=\"btn btn-success\">\n          <i class=\"fas fa-shopping-cart\"></i>\n          Generate Shopping List\n        </button>\n        <button @click=\"analyzePlan\" class=\"btn btn-info\">\n          <i class=\"fas fa-chart-line\"></i>\n          AI Analysis\n        </button>\n        <button @click=\"deletePlan\" class=\"btn btn-danger\">\n          <i class=\"fas fa-trash\"></i>\n          Delete Plan\n        </button>\n      </div>\n    </div>\n\n    <!-- Recipe Detail Modal -->\n    <recipe-detail-modal\n      v-if=\"showRecipeModal && selectedRecipe\"\n      :recipe=\"selectedRecipe\"\n      @close=\"closeRecipeModal\"\n      @recipe-saved=\"onRecipeSaved\"\n    />\n\n    <!-- Shopping List Modal -->\n    <shopping-list-modal\n      v-if=\"showShoppingListModal\"\n      :shopping-list=\"shoppingListData\"\n      :loading=\"shoppingListLoading\"\n      :error=\"shoppingListError\"\n      @close=\"closeShoppingListModal\"\n      @retry=\"generateShoppingList\"\n    />\n  </div>\n</template>\n\n<script>\nimport RecipeDetailModal from './RecipeDetailModal.vue'\nimport ShoppingListModal from './ShoppingListModal.vue'\n\nexport default {\n  name: 'MealPlanDetailModal',\n  components: {\n    RecipeDetailModal,\n    ShoppingListModal\n  },\n  props: {\n    mealPlan: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['close', 'regenerate-meal', 'get-alternatives', 'analyze-plan', 'delete-plan'],\n  data() {\n    return {\n      savingRecipe: null, // Track which recipe is being saved\n      showRecipeModal: false,\n      selectedRecipe: null,\n      showShoppingListModal: false,\n      shoppingListData: null,\n      shoppingListLoading: false,\n      shoppingListError: null\n    }\n  },\n  computed: {\n    // Add computed property to normalize instructions\n    normalizedInstructions() {\n      return (meal) => {\n        const instr = meal?.recipe?.instructions || meal?.instructions || []\n        \n        // Handle empty instructions\n        if (!instr || instr.length === 0) {\n          return []\n        }\n        \n        // If it's already an array of objects with step property, extract the step text\n        if (instr.length && typeof instr[0] === 'object' && instr[0].step) {\n          return instr.map((stepObj, i) => ({\n            number: stepObj.number || i + 1,\n            step: stepObj.step,\n            description: stepObj.step\n          }))\n        }\n        \n        // If it's an array of strings, convert to objects\n        if (instr.length && typeof instr[0] === 'string') {\n          return instr.map((stepText, i) => ({\n            number: i + 1,\n            step: stepText,\n            description: stepText\n          }))\n        }\n        \n        // If it's an array of objects without step property, try to extract the step text\n        if (instr.length && typeof instr[0] === 'object') {\n          return instr.map((stepObj, i) => ({\n            number: stepObj.number || i + 1,\n            step: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`,\n            description: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`\n          }))\n        }\n        \n        return []\n      }\n    }\n  },\n  mounted() {\n    console.log('=== MealPlanDetailModal Mounted ===')\n    console.log('Meal Plan ID:', this.mealPlan?.id)\n    console.log('Plan Type:', this.mealPlan?.plan_type)\n    console.log('Has meal_plan_data:', !!this.mealPlan?.meal_plan_data)\n    console.log('Has meals:', !!this.mealPlan?.meal_plan_data?.meals)\n    \n    if (this.mealPlan?.meal_plan_data?.meals) {\n      const mealDates = Object.keys(this.mealPlan.meal_plan_data.meals)\n      console.log('Available meal dates:', mealDates)\n      console.log('Total meal days:', mealDates.length)\n      \n      // Log first day's meals as sample\n      if (mealDates.length > 0) {\n        const firstDate = mealDates[0]\n        const firstDayMeals = this.mealPlan.meal_plan_data.meals[firstDate]\n        console.log(`Sample meals for ${firstDate}:`, firstDayMeals)\n      }\n    } else {\n      console.log('No meal data available - checking structure:')\n      console.log('mealPlan keys:', Object.keys(this.mealPlan || {}))\n      if (this.mealPlan?.meal_plan_data) {\n        console.log('meal_plan_data keys:', Object.keys(this.mealPlan.meal_plan_data))\n      }\n    }\n    console.log('=====================================')\n    \n    // Add escape key listener\n    document.addEventListener('keydown', this.handleEscapeKey)\n  },\n\n  beforeUnmount() {\n    // Remove escape key listener\n    document.removeEventListener('keydown', this.handleEscapeKey)\n  },\n  methods: {\n    formatPlanType(type) {\n      if (!type) return 'Unknown'\n      return type.charAt(0).toUpperCase() + type.slice(1)\n    },\n\n    formatDateRange(startDate, endDate) {\n      if (!startDate || !endDate) {\n        console.log('formatDateRange: Missing dates - start:', startDate, 'end:', endDate)\n        return 'Date unknown'\n      }\n      \n      try {\n        const startDateObj = new Date(startDate)\n        const endDateObj = new Date(endDate)\n        \n        if (isNaN(startDateObj.getTime()) || isNaN(endDateObj.getTime())) {\n          console.log('formatDateRange: Invalid dates - start:', startDate, 'end:', endDate)\n          return 'Invalid date range'\n        }\n        \n        const start = startDateObj.toLocaleDateString()\n        const end = endDateObj.toLocaleDateString()\n\n        if (startDate === endDate) {\n          return start\n        }\n        return `${start} - ${end}`\n      } catch (error) {\n        console.error('formatDateRange error:', error, 'for dates:', startDate, endDate)\n        return 'Date error'\n      }\n    },\n\n    formatDate(dateStr) {\n      try {\n        if (!dateStr) {\n          console.log('formatDate: dateStr is null/undefined')\n          return 'Unknown Date'\n        }\n        \n        // Handle meal type strings for legacy daily plans (backwards compatibility)\n        const mealTypeLabels = {\n          'breakfast': 'Breakfast Meals',\n          'lunch': 'Lunch Meals', \n          'dinner': 'Dinner Meals',\n          'snack': 'Snack Meals'\n        }\n        \n        if (mealTypeLabels[dateStr.toLowerCase()]) {\n          console.log('formatDate: Detected legacy meal type structure:', dateStr)\n          return mealTypeLabels[dateStr.toLowerCase()]\n        }\n        \n        // Try to parse as date for date-based plans\n        const date = new Date(dateStr)\n        if (isNaN(date.getTime())) {\n          console.log('formatDate: Invalid date for input:', dateStr)\n          return dateStr // Return original string if can't parse\n        }\n        \n        return date.toLocaleDateString('en-US', {\n          weekday: 'long',\n          month: 'short',\n          day: 'numeric'\n        })\n      } catch (error) {\n        console.error('formatDate error:', error, 'for input:', dateStr)\n        return dateStr || 'Unknown Date'\n      }\n    },\n\n    formatMealType(type) {\n      if (!type) return 'Meal'\n      // Handle different possible meal type formats\n      const cleanType = String(type).toLowerCase().trim()\n      const typeMap = {\n        'breakfast': 'Breakfast',\n        'lunch': 'Lunch', \n        'dinner': 'Dinner',\n        'snack': 'Snack',\n        'dessert': 'Dessert'\n      }\n      return typeMap[cleanType] || type.charAt(0).toUpperCase() + type.slice(1)\n    },\n\n    getMealTitle(meal) {\n      console.log('getMealTitle called for meal:', meal)\n      \n      // Handle direct recipe objects (after regeneration)\n      if (meal?.title) {\n        return meal.title\n      }\n      \n      if (meal?.name) {\n        return meal.name\n      }\n      \n      // If we have a recipe with a title, use that\n      if (meal?.recipe?.title) {\n        return meal.recipe.title\n      }\n      \n      // If we have a recipe with a name, use that\n      if (meal?.recipe?.name) {\n        return meal.recipe.name\n      }\n      \n      // Fallback to meal type\n      const mealType = this.formatMealType(meal?.meal_type)\n      console.log('getMealTitle fallback to meal type:', mealType)\n      return mealType || 'Meal'\n    },\n\n    inferMealTypeFromTime(date) {\n      const hour = date.getHours()\n      if (hour >= 5 && hour < 11) return 'breakfast'\n      if (hour >= 11 && hour < 16) return 'lunch'\n      if (hour >= 16 && hour < 22) return 'dinner'\n      return 'snack'\n    },\n\n    getMealTime(meal) {\n      console.log('getMealTime called for meal:', meal)\n      \n      // Check various possible time fields\n      if (meal?.time) {\n        return meal.time\n      }\n      if (meal?.scheduled_time) {\n        return meal.scheduled_time\n      }\n      \n      // Handle nested recipe time fields (for backwards compatibility)\n      if (meal?.recipe?.time) {\n        return meal.recipe.time\n      }\n      if (meal?.recipe?.scheduled_time) {\n        return meal.recipe.scheduled_time\n      }\n      \n      // Default times based on meal type\n      const mealType = meal?.meal_type?.toLowerCase()\n      const defaultTimes = {\n        'breakfast': '08:00',\n        'lunch': '12:30',\n        'dinner': '19:00',\n        'snack': '15:00'\n      }\n      \n      const defaultTime = defaultTimes[mealType] || '12:00'\n      console.log('getMealTime using default time:', defaultTime, 'for meal type:', mealType)\n      return defaultTime\n    },\n\n    getMealRecipe(meal) {\n      // Return the recipe object, handling both wrapped and direct structures\n      return meal?.recipe || meal || {}\n    },\n\n    getMealIngredients(meal) {\n      const recipe = this.getMealRecipe(meal)\n      \n      // Handle different ingredient structures\n      if (recipe.ingredients && Array.isArray(recipe.ingredients)) {\n        return recipe.ingredients\n      }\n      \n      if (recipe.extendedIngredients && Array.isArray(recipe.extendedIngredients)) {\n        return recipe.extendedIngredients\n      }\n      \n      return []\n    },\n\n    getMealTypeClass(type) {\n      if (!type) return 'meal'\n      return String(type).toLowerCase()\n    },\n\n    getTotalMeals() {\n      if (!this.mealPlan.meal_plan_data?.meals) return 0\n\n      let total = 0\n      Object.values(this.mealPlan.meal_plan_data.meals).forEach(dayMeals => {\n        if (Array.isArray(dayMeals)) {\n          total += dayMeals.length\n        }\n      })\n      return total\n    },\n\n    // Helper method to get nutrition values from different possible structures\n    getNutritionValue(recipe, nutrient) {\n      if (!recipe) return 0\n      \n      // Try estimated_nutrition first (from your API response)\n      if (recipe.estimated_nutrition && recipe.estimated_nutrition[nutrient] !== undefined) {\n        return Math.round(recipe.estimated_nutrition[nutrient])\n      }\n      \n      // Fallback to nutrition object\n      if (recipe.nutrition && recipe.nutrition[nutrient] !== undefined) {\n        return Math.round(recipe.nutrition[nutrient])\n      }\n\n      // Try other common naming patterns\n      const nutrientMappings = {\n        'calories': ['calories_per_serving', 'kcal'],\n        'protein': ['protein_per_serving'],\n        'carbs': ['carbs_per_serving', 'carbohydrates'],\n        'fat': ['fat_per_serving', 'fats']\n      }\n\n      if (nutrientMappings[nutrient]) {\n        for (const mapping of nutrientMappings[nutrient]) {\n          if (recipe[mapping] !== undefined) {\n            return Math.round(recipe[mapping])\n          }\n        }\n      }\n      \n      return 0\n    },\n\n    regenerateMeal(date, mealType) {\n      console.log('=== regenerateMeal called ===')\n      console.log('Date:', date)\n      console.log('MealType (raw):', mealType)\n      console.log('MealType type:', typeof mealType)\n      \n      // Ensure mealType is properly defined\n      if (!mealType || mealType === 'undefined' || mealType === 'null') {\n        console.error('Invalid mealType provided:', mealType)\n        // Try to infer from time or provide a fallback\n        const inferredMealType = this.inferMealTypeFromTime(new Date())\n        console.log('Using inferred meal type:', inferredMealType)\n        mealType = inferredMealType\n      }\n      \n      // Clean up the mealType string\n      const cleanMealType = String(mealType).toLowerCase().trim()\n      \n      console.log('Final cleaned mealType:', cleanMealType)\n      console.log('=============================')\n      \n      this.$emit('regenerate-meal', {\n        day: date,\n        mealType: cleanMealType\n      })\n    },\n\n    getAlternatives(date, mealType) {\n      console.log('=== getAlternatives called ===')\n      console.log('Date:', date)\n      console.log('MealType (raw):', mealType)\n      \n      // Ensure mealType is properly defined\n      if (!mealType || mealType === 'undefined' || mealType === 'null') {\n        console.error('Invalid mealType provided for alternatives:', mealType)\n        const inferredMealType = this.inferMealTypeFromTime(new Date())\n        console.log('Using inferred meal type for alternatives:', inferredMealType)\n        mealType = inferredMealType\n      }\n      \n      // Clean up the mealType string\n      const cleanMealType = String(mealType).toLowerCase().trim()\n      \n      console.log('Final cleaned mealType for alternatives:', cleanMealType)\n      console.log('==================================')\n      \n      this.$emit('get-alternatives', {\n        day: date,\n        mealType: cleanMealType\n      })\n    },\n\n    async toggleSaveRecipe(recipe) {\n      if (!recipe) {\n        console.warn('No recipe provided to toggle')\n        return\n      }\n\n      this.savingRecipe = recipe.id || recipe.spoonacular_id\n\n      try {\n        console.log('Toggling save status for recipe:', recipe)\n        \n        // Import the API service\n        const { mealPlanningApi } = await import('@/services/mealPlanningApi')\n        \n        let response\n        \n        if (recipe.is_saved_by_user) {\n          // Remove from saved recipes\n          if (!recipe.id) {\n            throw new Error('Cannot remove recipe: No recipe ID found')\n          }\n          \n          response = await mealPlanningApi.removeRecipeFromMyCollection(recipe.id)\n          \n          // Update local state\n          recipe.is_saved_by_user = false\n          \n          const message = response.data?.message || 'Recipe removed from your collection!'\n          this.$toast?.success?.(message) || alert(message)\n          \n        } else {\n          // Save recipe\n          // Prepare recipe data for saving\n          const recipeData = {\n            title: recipe.title || recipe.name || 'Untitled Recipe',\n            summary: recipe.summary || '',\n            cuisine: recipe.cuisine || '',\n            meal_type: recipe.meal_type || 'dinner',\n            servings: recipe.servings || 4,\n            prep_time_minutes: recipe.prep_time || 0,\n            cook_time_minutes: recipe.cook_time || 0,\n            total_time_minutes: recipe.total_time || 0,\n            difficulty_level: recipe.difficulty_level || 'medium',\n            spoonacular_id: recipe.spoonacular_id || recipe.id,\n            ingredients_data: recipe.ingredients || [],\n            instructions: recipe.instructions || [],\n            calories_per_serving: this.getNutritionValue(recipe, 'calories'),\n            protein_per_serving: this.getNutritionValue(recipe, 'protein'),\n            carbs_per_serving: this.getNutritionValue(recipe, 'carbs'),\n            fat_per_serving: this.getNutritionValue(recipe, 'fat'),\n            fiber_per_serving: 0,\n            dietary_tags: recipe.dietary_tags || [],\n            allergens: recipe.allergens || [],\n            image_url: recipe.image_url || recipe.image || '',\n            source_url: recipe.source_url || '',\n            source_type: 'spoonacular'\n          }\n          \n          response = await mealPlanningApi.saveRecipeFromMealPlan(recipeData)\n          \n          // Update local state\n          recipe.is_saved_by_user = true\n          \n          // Show success message\n          const message = response.data?.message || 'Recipe saved to your collection!'\n          this.$toast?.success?.(message) || alert(message)\n        }\n        \n      } catch (error) {\n        console.error('Error toggling recipe save status:', error)\n        \n        let errorMessage = 'An error occurred'\n        \n        if (error.response?.status === 404) {\n          errorMessage = 'Recipe not found. It may have been removed.'\n        } else if (error.response?.status === 403) {\n          errorMessage = 'You don\\'t have permission to perform this action.'\n        } else if (error.response?.status === 500) {\n          errorMessage = 'Server error. Please try again later.'\n        } else if (error.response?.data?.error) {\n          errorMessage = error.response.data.error\n        } else if (error.response?.data?.message) {\n          errorMessage = error.response.data.message\n        } else if (error.message) {\n          errorMessage = error.message\n        }\n        \n        this.$toast?.error?.(errorMessage) || alert(`Error: ${errorMessage}`)\n      } finally {\n        this.savingRecipe = null\n      }\n    },\n\n    viewRecipeDetails(recipe) {\n      if (recipe) {\n        this.selectedRecipe = recipe\n        this.showRecipeModal = true\n      }\n    },\n\n    async generateShoppingList() {\n      try {\n        this.shoppingListLoading = true\n        this.shoppingListError = null\n        this.showShoppingListModal = true\n\n        const response = await fetch(`/api/meal-planning/meal-plans/${this.mealPlan.id}/generate_shopping_list/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.$store.state.auth.token}`\n          },\n          body: JSON.stringify({\n            exclude_items: [],\n            group_by_category: true\n          })\n        })\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`)\n        }\n\n        const data = await response.json()\n        this.shoppingListData = data.shopping_list\n        this.shoppingListLoading = false\n\n        // Show success message\n        this.$toast?.success?.('Shopping list generated successfully!') ||\n        console.log('Shopping list generated successfully!')\n\n      } catch (error) {\n        console.error('Error generating shopping list:', error)\n        this.shoppingListError = error.message || 'Failed to generate shopping list'\n        this.shoppingListLoading = false\n        \n        // Show error message\n        this.$toast?.error?.(`Error: ${this.shoppingListError}`) ||\n        alert(`Error generating shopping list: ${this.shoppingListError}`)\n      }\n    },\n\n    analyzePlan() {\n      this.$emit('analyze-plan', this.mealPlan)\n    },\n\n    deletePlan() {\n      this.$emit('delete-plan', this.mealPlan)\n    },\n\n    closeRecipeModal() {\n      this.showRecipeModal = false\n      this.selectedRecipe = null\n    },\n\n    closeShoppingListModal() {\n      this.showShoppingListModal = false\n      this.shoppingListData = null\n      this.shoppingListError = null\n      this.shoppingListLoading = false  // Reset loading state\n    },\n\n    async onRecipeSaved(savedRecipe) {\n      console.log('Recipe saved from meal plan detail:', savedRecipe)\n      // Show success message\n      this.$toast?.success?.('Recipe saved to your collection!') ||\n      alert('Recipe saved to your collection!')\n    },\n\n    handleEscapeKey(event) {\n      if (event.key === 'Escape') {\n        this.$emit('close')\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/variables';\n\n$primary: #007bff;\n$secondary: #6c757d;\n$success: #28a745;\n$danger: #dc3545;\n$warning: #ffc107;\n$info: #17a2b8;\n$light: #f8f9fa;\n$dark: #343a40;\n$white: #ffffff;\n$gray: #6c757d;\n$gray-light: #adb5bd;\n$gray-lighter: #e9ecef;\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.modal-content {\n  background: $white;\n  border-radius: 16px;\n  max-width: 1000px;\n  width: 100%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px 32px;\n  border-bottom: 1px solid $gray-lighter;\n  background: linear-gradient(135deg, rgba($primary, 0.05), rgba($primary, 0.02));\n  position: relative;\n\n  h2 {\n    margin: 0;\n    font-size: 1.6rem;\n    color: #333;\n  }\n\n  .ai-generation-info {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n\n    .ai-badge {\n      background: linear-gradient(135deg, #6f42c1, #8b5cf6);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 0.75rem;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      font-weight: 500;\n\n      i {\n        font-size: 0.7rem;\n      }\n    }\n\n    .model-badge {\n      background: linear-gradient(135deg, #17a2b8, #20c997);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 0.75rem;\n      font-weight: 500;\n    }\n  }\n\n  .close-btn {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 8px;\n    border-radius: 8px;\n    color: $gray;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: rgba($gray, 0.1);\n      color: #333;\n    }\n  }\n}\n\n.modal-body {\n  padding: 32px;\n}\n\n.plan-overview {\n  margin-bottom: 32px;\n  padding: 24px;\n  background: $light;\n  border-radius: 12px;\n}\n\n.overview-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 16px;\n  margin-bottom: 24px;\n}\n\n.stat-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: $white;\n  border-radius: 8px;\n  border: 1px solid $gray-lighter;\n\n  .stat-label {\n    font-weight: 500;\n    color: $gray;\n    font-size: 0.9rem;\n  }\n\n  .stat-value {\n    font-weight: 600;\n    color: $dark;\n    font-size: 1rem;\n  }\n}\n\n.nutrition-overview {\n  margin-bottom: 24px;\n\n  h4 {\n    margin: 0 0 16px 0;\n    font-size: 1.1rem;\n    color: $dark;\n    font-weight: 600;\n  }\n\n  .nutrition-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: 12px;\n  }\n\n  .nutrition-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px 12px;\n    background: rgba($success, 0.1);\n    border-radius: 6px;\n    font-size: 0.9rem;\n\n    .nutrition-label {\n      color: $gray;\n      font-weight: 500;\n    }\n\n    .nutrition-value {\n      color: $dark;\n      font-weight: 600;\n    }\n  }\n}\n\n.quality-scores {\n  h4 {\n    margin: 0 0 16px 0;\n    font-size: 1.1rem;\n    color: $dark;\n    font-weight: 600;\n  }\n\n  .scores-grid {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .score-item {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    .score-label {\n      font-size: 0.9rem;\n      color: $gray;\n      min-width: 140px;\n      font-weight: 500;\n    }\n\n    .score-bar {\n      flex: 1;\n      height: 8px;\n      background: $gray-lighter;\n      border-radius: 4px;\n      overflow: hidden;\n\n      .score-fill {\n        height: 100%;\n        background: linear-gradient(90deg, #28a745, #20c997);\n        transition: width 0.3s ease;\n      }\n    }\n\n    .score-value {\n      font-size: 0.9rem;\n      font-weight: 600;\n      color: $dark;\n      min-width: 40px;\n      text-align: right;\n    }\n  }\n}\n\n.meals-section {\n  h3 {\n    margin: 0 0 24px 0;\n    font-size: 1.3rem;\n    color: $dark;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    &::before {\n      content: '';\n      width: 4px;\n      height: 24px;\n      background: $primary;\n      border-radius: 2px;\n    }\n  }\n}\n\n.meals-grid {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.day-meals {\n  border: 1px solid $gray-lighter;\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.day-header {\n  margin: 0;\n  padding: 16px 20px;\n  background: $primary;\n  color: $white;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n\n.meals-list {\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.meal-card {\n  background: $white;\n  border: 1px solid $gray-lighter;\n  border-radius: 12px;\n  padding: 20px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n  }\n}\n\n.meal-header {\n  margin-bottom: 16px;\n\n  .meal-title-section {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n\n    .meal-title {\n      margin: 0;\n      font-size: 1.2rem;\n      color: $dark;\n      font-weight: 600;\n    }\n\n    .meal-type-badge {\n      padding: 4px 8px;\n      border-radius: 12px;\n      font-size: 0.75rem;\n      font-weight: 500;\n      text-transform: uppercase;\n      \n      &.breakfast {\n        background: rgba(#ffc107, 0.2);\n        color: #d39e00;\n      }\n      \n      &.lunch {\n        background: rgba(#28a745, 0.2);\n        color: #1e7e34;\n      }\n      \n      &.dinner {\n        background: rgba(#dc3545, 0.2);\n        color: #bd2130;\n      }\n      \n      &.snack {\n        background: rgba(#6f42c1, 0.2);\n        color: #59359a;\n      }\n    }\n  }\n\n  .meal-meta {\n    display: flex;\n    gap: 16px;\n    align-items: center;\n\n    .meal-time, .meal-cuisine {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      font-size: 0.85rem;\n      color: $gray;\n\n      i {\n        font-size: 0.8rem;\n      }\n    }\n  }\n}\n\n.recipe-details {\n  .cooking-info {\n    margin-bottom: 16px;\n    padding: 12px;\n    background: rgba($info, 0.05);\n    border-radius: 8px;\n\n    .time-info {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 16px;\n\n      .time-item {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n        font-size: 0.85rem;\n        color: $gray;\n\n        i {\n          font-size: 0.8rem;\n          color: $info;\n        }\n      }\n    }\n  }\n\n  h6 {\n    margin: 0 0 8px 0;\n    font-size: 1rem;\n    color: $dark;\n    font-weight: 600;\n  }\n}\n\n.meal-nutrition {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: rgba($success, 0.05);\n  border-radius: 8px;\n\n  .nutrition-details {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n    gap: 8px;\n\n    .nutrition-item {\n      display: flex;\n      justify-content: space-between;\n      font-size: 0.85rem;\n\n      .nutrition-label {\n        color: $gray;\n        font-weight: 500;\n      }\n\n      .nutrition-value {\n        color: $dark;\n        font-weight: 600;\n      }\n    }\n  }\n}\n\n.ingredients-section, .instructions-section {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: rgba($warning, 0.05);\n  border-radius: 8px;\n\n  .ingredients-list {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 8px;\n\n    .ingredient-item {\n      display: flex;\n      gap: 4px;\n      font-size: 0.85rem;\n      color: $dark;\n\n      .ingredient-quantity {\n        font-weight: 600;\n        color: $primary;\n      }\n\n      .ingredient-unit {\n        color: $gray;\n      }\n\n      .ingredient-name {\n        flex: 1;\n      }\n    }\n  }\n\n  .instructions-list {\n    .instruction-item {\n      display: flex;\n      gap: 12px;\n      margin-bottom: 8px;\n      font-size: 0.9rem;\n      color: $dark;\n\n      .instruction-number {\n        background: $primary;\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: 600;\n        font-size: 0.8rem;\n        flex-shrink: 0;\n      }\n\n      .instruction-text {\n        line-height: 1.5;\n      }\n    }\n  }\n}\n\n.target-info {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: rgba($secondary, 0.05);\n  border-radius: 8px;\n\n  .targets-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: 8px;\n\n    .target-item {\n      display: flex;\n      justify-content: space-between;\n      font-size: 0.85rem;\n\n      .target-label {\n        color: $gray;\n        font-weight: 500;\n      }\n\n      .target-value {\n        color: $dark;\n        font-weight: 600;\n      }\n    }\n  }\n}\n\n.meal-actions {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  i {\n    font-size: 0.8rem;\n  }\n\n  &.btn-sm {\n    padding: 6px 12px;\n    font-size: 0.8rem;\n  }\n\n  &.btn-outline {\n    background: transparent;\n    border: 1px solid $gray-lighter;\n    color: $gray;\n\n    &:hover {\n      background: $light;\n      color: $dark;\n    }\n  }\n\n  &.btn-secondary {\n    background: $secondary;\n    color: $white;\n\n    &:hover {\n      background: darken($secondary, 10%);\n    }\n  }\n\n  &.btn-primary {\n    background: $primary;\n    color: $white;\n\n    &:hover {\n      background: darken($primary, 10%);\n    }\n  }\n\n  &.btn-info {\n    background: $info;\n    color: $white;\n\n    &:hover {\n      background: darken($info, 10%);\n    }\n  }\n\n  &.btn-success {\n    background: $success;\n    color: $white;\n\n    &:hover {\n      background: darken($success, 10%);\n    }\n  }\n\n  &.btn-danger {\n    background: $danger;\n    color: $white;\n\n    &:hover {\n      background: darken($danger, 10%);\n    }\n  }\n\n  &.btn-outline-danger {\n    background: transparent;\n    color: $error;\n    border-color: $error;\n\n    &:hover {\n      background: $error;\n      color: $white;\n      border-color: $error;\n    }\n\n    i.fas.fa-heart {\n      color: $error;\n    }\n  }\n}\n\n.no-meals {\n  text-align: center;\n  padding: 60px 20px;\n  color: $gray;\n\n  i {\n    font-size: 3rem;\n    margin-bottom: 16px;\n    display: block;\n    color: $gray-light;\n  }\n\n  p {\n    margin: 0;\n    font-size: 1.1rem;\n  }\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: space-between;\n  gap: 16px;\n  padding: 24px 32px;\n  border-top: 1px solid $gray-lighter;\n  background: rgba($gray, 0.02);\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .modal-overlay {\n    padding: 10px;\n  }\n\n  .modal-content {\n    max-height: 95vh;\n  }\n\n  .modal-header {\n    padding: 20px 24px;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n\n    h2 {\n      font-size: 1.4rem;\n    }\n\n    .ai-generation-info {\n      order: -1;\n    }\n\n    .close-btn {\n      position: absolute;\n      top: 16px;\n      right: 16px;\n    }\n  }\n\n  .modal-body {\n    padding: 24px 20px;\n  }\n\n  .overview-stats {\n    grid-template-columns: 1fr;\n  }\n\n  .stat-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 4px;\n  }\n\n  .meal-header {\n    .meal-title-section {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 8px;\n    }\n\n    .meal-meta {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 8px;\n    }\n  }\n\n  .nutrition-details {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  .ingredients-list {\n    grid-template-columns: 1fr;\n  }\n\n  .meal-actions {\n    flex-direction: column;\n  }\n\n  .modal-footer {\n    padding: 20px 24px;\n    flex-direction: column;\n\n    .btn {\n      width: 100%;\n      justify-content: center;\n    }\n  }\n}\n\n// Add improved readability styles\n.modal-content {\n  max-width: 90vw;\n  width: 1200px;\n  max-height: 90vh;\n  padding: 0;\n  border-radius: 16px;\n  box-shadow: 0 25px 50px rgba(0, 0, 0, 0.2);\n  overflow: hidden;\n  background: linear-gradient(135deg, #fff 0%, #f8f9fa 100%);\n}\n\n.modal-header {\n  padding: 24px 32px;\n  background: linear-gradient(135deg, $primary 0%, $primary-dark 100%);\n  color: white;\n  border-bottom: none;\n  \n  h2 {\n    margin: 0;\n    font-size: 1.75rem;\n    font-weight: 600;\n    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n  }\n  \n  .ai-generation-info {\n    margin-top: 8px;\n    display: flex;\n    gap: 12px;\n    \n    .ai-badge, .model-badge {\n      padding: 4px 12px;\n      background: rgba(255, 255, 255, 0.2);\n      border-radius: 20px;\n      font-size: 0.85rem;\n      font-weight: 500;\n      backdrop-filter: blur(10px);\n    }\n  }\n  \n  .close-btn {\n    color: white;\n    background: rgba(255, 255, 255, 0.2);\n    border: none;\n    border-radius: 50%;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    transition: all 0.2s ease;\n    backdrop-filter: blur(10px);\n    \n    &:hover {\n      background: rgba(255, 255, 255, 0.3);\n      transform: scale(1.05);\n    }\n  }\n}\n\n.modal-body {\n  padding: 32px;\n  max-height: 70vh;\n  overflow-y: auto;\n  scroll-behavior: smooth;\n  \n  // Custom scrollbar\n  &::-webkit-scrollbar {\n    width: 8px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: $gray-lightest;\n    border-radius: 4px;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: $gray-light;\n    border-radius: 4px;\n    \n    &:hover {\n      background: $gray;\n    }\n  }\n}\n\n.plan-overview {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  margin-bottom: 32px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  border: 1px solid rgba($primary, 0.1);\n}\n\n.overview-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: 20px;\n  margin-bottom: 24px;\n  \n  .stat-item {\n    padding: 16px;\n    background: linear-gradient(135deg, $gray-lightest 0%, white 100%);\n    border-radius: 8px;\n    border-left: 4px solid $primary;\n    transition: transform 0.2s ease, box-shadow 0.2s ease;\n    \n    &:hover {\n      transform: translateY(-2px);\n      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);\n    }\n    \n    .stat-label {\n      font-size: 0.9rem;\n      color: $gray;\n      font-weight: 500;\n      margin-bottom: 4px;\n      display: block;\n    }\n    \n    .stat-value {\n      font-size: 1.1rem;\n      font-weight: 700;\n      color: $secondary;\n    }\n  }\n}\n\n.nutrition-overview {\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 24px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  \n  h4 {\n    margin: 0 0 16px 0;\n    font-size: 1.2rem;\n    color: $secondary;\n    font-weight: 600;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    \n    &::before {\n      content: \"\";\n      font-size: 1.1rem;\n    }\n  }\n  \n  .nutrition-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));\n    gap: 12px;\n  }\n  \n  .nutrition-item {\n    padding: 12px 16px;\n    background: linear-gradient(135deg, rgba($success, 0.1) 0%, rgba($success, 0.05) 100%);\n    border-radius: 8px;\n    border: 1px solid rgba($success, 0.2);\n    text-align: center;\n    transition: transform 0.2s ease;\n    \n    &:hover {\n      transform: scale(1.02);\n    }\n    \n    .nutrition-label {\n      font-size: 0.85rem;\n      color: $gray;\n      font-weight: 500;\n      margin-bottom: 4px;\n      display: block;\n    }\n    \n    .nutrition-value {\n      font-size: 1.1rem;\n      font-weight: 700;\n      color: $success-dark;\n    }\n  }\n}\n\n.quality-scores {\n  background: white;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 24px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);\n  \n  h4 {\n    margin: 0 0 20px 0;\n    font-size: 1.2rem;\n    color: $secondary;\n    font-weight: 600;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n    \n    &::before {\n      content: \"\";\n      font-size: 1.1rem;\n    }\n  }\n  \n  .score-item {\n    margin-bottom: 16px;\n    padding: 12px;\n    background: $gray-lightest;\n    border-radius: 8px;\n    \n    .score-label {\n      font-size: 0.95rem;\n      color: $gray-dark;\n      font-weight: 500;\n      margin-bottom: 8px;\n      display: block;\n    }\n    \n    .score-bar {\n      height: 10px;\n      background: rgba($gray-light, 0.3);\n      border-radius: 6px;\n      overflow: hidden;\n      margin-bottom: 4px;\n      \n      .score-fill {\n        height: 100%;\n        background: linear-gradient(90deg, $primary 0%, $primary-light 100%);\n        border-radius: 6px;\n        transition: width 0.5s ease;\n        box-shadow: 0 2px 4px rgba($primary, 0.3);\n      }\n    }\n    \n    .score-value {\n      font-size: 0.9rem;\n      font-weight: 600;\n      color: $primary-dark;\n      text-align: right;\n      display: block;\n    }\n  }\n}\n\n.meals-section {\n  h3 {\n    font-size: 1.4rem;\n    color: $secondary;\n    font-weight: 600;\n    margin-bottom: 24px;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    \n    &::before {\n      content: \"\";\n      font-size: 1.2rem;\n    }\n  }\n}\n\n.day-section {\n  background: white;\n  border-radius: 12px;\n  padding: 24px;\n  margin-bottom: 24px;\n  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);\n  border: 1px solid rgba($primary, 0.1);\n  \n  h4 {\n    font-size: 1.2rem;\n    color: $primary-dark;\n    font-weight: 600;\n    margin-bottom: 20px;\n    padding-bottom: 8px;\n    border-bottom: 2px solid rgba($primary, 0.2);\n  }\n}\n\n.meals-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));\n  gap: 20px;\n}\n\n.meal-card {\n  background: linear-gradient(135deg, white 0%, $gray-lightest 100%);\n  border-radius: 12px;\n  padding: 20px;\n  border: 1px solid rgba($gray-light, 0.5);\n  transition: all 0.3s ease;\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: \"\";\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 4px;\n    background: linear-gradient(90deg, $primary 0%, $primary-light 100%);\n  }\n  \n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);\n    border-color: rgba($primary, 0.3);\n  }\n  \n  .meal-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: flex-start;\n    margin-bottom: 16px;\n    \n    .meal-info {\n      flex: 1;\n      \n      .meal-title {\n        font-size: 1.1rem;\n        font-weight: 600;\n        color: $secondary;\n        margin-bottom: 4px;\n        line-height: 1.3;\n      }\n      \n      .meal-time {\n        font-size: 0.9rem;\n        color: $gray;\n        font-weight: 500;\n        \n        &::before {\n          content: \"\";\n          margin-right: 4px;\n        }\n      }\n    }\n  }\n  \n  .meal-actions {\n    display: flex;\n    gap: 8px;\n    flex-shrink: 0;\n    \n    .btn {\n      padding: 8px 12px;\n      border-radius: 6px;\n      border: none;\n      font-size: 0.85rem;\n      font-weight: 500;\n      transition: all 0.2s ease;\n      cursor: pointer;\n      \n      &.btn-outline {\n        background: transparent;\n        border: 1px solid $gray-light;\n        color: $gray-dark;\n        \n        &:hover {\n          background: $gray-light;\n          color: white;\n        }\n      }\n      \n      &.btn-primary {\n        background: linear-gradient(135deg, $primary 0%, $primary-dark 100%);\n        color: white;\n        \n        &:hover {\n          transform: scale(1.05);\n          box-shadow: 0 4px 12px rgba($primary, 0.3);\n        }\n        \n        &:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          transform: none;\n        }\n      }\n    }\n  }\n}\n\n// Enhanced responsive design\n@media (max-width: 768px) {\n  .modal-content {\n    width: 95vw;\n    margin: 2.5vh auto;\n  }\n  \n  .modal-header {\n    padding: 20px 24px;\n    \n    h2 {\n      font-size: 1.4rem;\n    }\n  }\n  \n  .modal-body {\n    padding: 20px;\n  }\n  \n  .overview-stats {\n    grid-template-columns: 1fr;\n    gap: 12px;\n  }\n  \n  .nutrition-grid {\n    grid-template-columns: repeat(2, 1fr);\n  }\n  \n  .meals-grid {\n    grid-template-columns: 1fr;\n  }\n}\n\n// Improved loading states\n.loading-placeholder {\n  background: linear-gradient(90deg, $gray-lighter 25%, rgba($gray-lighter, 0.5) 50%, $gray-lighter 75%);\n  background-size: 200% 100%;\n  animation: loading 1.5s infinite;\n  border-radius: 8px;\n  height: 20px;\n  \n  &.loading-title {\n    height: 24px;\n    width: 60%;\n    margin-bottom: 12px;\n  }\n  \n  &.loading-text {\n    height: 16px;\n    width: 80%;\n  }\n}\n\n@keyframes loading {\n  0% {\n    background-position: 200% 0;\n  }\n  100% {\n    background-position: -200% 0;\n  }\n}\n</style>","<!-- src/components/meal-planning/RecipeDetailModal.vue -->\n<template>\n  <div class=\"recipe-modal-overlay\" @click.self=\"$emit('close')\">\n    <div class=\"recipe-modal\" @click.stop>\n      <div class=\"modal-header\">\n        <div class=\"header-content\">\n          <h2>{{ recipe.title }}</h2>\n          <div class=\"recipe-meta\">\n            <span class=\"badge cuisine\">{{ formatCuisine(recipe.cuisine) }}</span>\n            <span class=\"badge meal-type\">{{ formatMealType(recipe.meal_type) }}</span>\n            <span class=\"badge difficulty\" :class=\"getDifficultyClass(recipe.difficulty_level)\">\n              {{ formatDifficulty(recipe.difficulty_level) }}\n            </span>\n          </div>\n        </div>\n        <button class=\"close-btn\" @click=\"$emit('close')\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n      \n      <div class=\"modal-body\">\n        <!-- Recipe Image and Quick Stats -->\n        <div class=\"recipe-hero\">\n          <div class=\"image-wrapper\" v-if=\"recipe.image_url\">\n            <img :src=\"recipe.image_url\" :alt=\"recipe.title\" @error=\"imageError\" />\n            <div class=\"image-overlay\">\n              <div class=\"recipe-stats\">\n                <div class=\"stat\">\n                  <i class=\"fas fa-clock\"></i>\n                  <span>{{ formatTime(recipe.total_time_minutes) }}</span>\n                </div>\n                <div class=\"stat\">\n                  <i class=\"fas fa-users\"></i>\n                  <span>{{ recipe.servings }} {{ recipe.servings === 1 ? 'serving' : 'servings' }}</span>\n                </div>\n                <div class=\"stat\">\n                  <i class=\"fas fa-fire\"></i>\n                  <span>{{ Math.round(recipe.calories_per_serving) || 'N/A' }} cal</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Nutrition Information -->\n          <div class=\"nutrition-panel\">\n            <h3>Nutrition per Serving</h3>\n            <div class=\"nutrition-grid\">\n              <div class=\"nutrition-item calories\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.calories_per_serving) || 'N/A' }}</div>\n                <div class=\"nutrition-label\">Calories</div>\n              </div>\n              <div class=\"nutrition-item protein\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.protein_per_serving) || 0 }}g</div>\n                <div class=\"nutrition-label\">Protein</div>\n              </div>\n              <div class=\"nutrition-item carbs\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.carbs_per_serving) || 0 }}g</div>\n                <div class=\"nutrition-label\">Carbs</div>\n              </div>\n              <div class=\"nutrition-item fat\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.fat_per_serving) || 0 }}g</div>\n                <div class=\"nutrition-label\">Fat</div>\n              </div>\n            </div>\n            \n            <!-- Dietary Tags -->\n            <div v-if=\"recipe.dietary_tags && recipe.dietary_tags.length\" class=\"dietary-tags\">\n              <span v-for=\"tag in recipe.dietary_tags\" :key=\"tag\" class=\"dietary-tag\">\n                {{ formatTag(tag) }}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Recipe Summary -->\n        <div v-if=\"recipe.summary\" class=\"summary-section\">\n          <h3>About This Recipe</h3>\n          <p class=\"summary\" v-html=\"cleanSummary(recipe.summary)\"></p>\n        </div>\n\n        <!-- Ingredients Section -->\n        <div class=\"ingredients-section\" v-if=\"recipe.ingredients_data && recipe.ingredients_data.length\">\n          <h3>\n            <i class=\"fas fa-list-ul\"></i>\n            Ingredients\n          </h3>\n          <div class=\"ingredients-grid\">\n            <div \n              v-for=\"(ing, idx) in recipe.ingredients_data\" \n              :key=\"idx\"\n              class=\"ingredient-item\"\n            >\n              <span class=\"ingredient-text\">{{ formatIngredient(ing) }}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Instructions Section -->\n        <div class=\"instructions-section\" v-if=\"normalizedInstructions.length\">\n          <h3>\n            <i class=\"fas fa-clipboard-list\"></i>\n            Instructions\n          </h3>\n          <div class=\"instructions-list\">\n            <div \n              v-for=\"(step, idx) in normalizedInstructions\" \n              :key=\"idx\"\n              class=\"instruction-step\"\n            >\n              <div class=\"step-number\">{{ idx + 1 }}</div>\n              <div class=\"step-content\">{{ step.step || step.description || step }}</div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Source Information -->\n        <div v-if=\"recipe.source_url || recipe.source\" class=\"source-section\">\n          <div class=\"source-info\">\n            <span class=\"source-label\">Source:</span>\n            <a v-if=\"recipe.source_url\" :href=\"recipe.source_url\" target=\"_blank\" class=\"source-link\">\n              View Original Recipe <i class=\"fas fa-external-link-alt\"></i>\n            </a>\n            <span v-else class=\"source-text\">{{ recipe.source || 'Recipe Database' }}</span>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"modal-footer\">\n        <button class=\"btn btn-outline\" @click=\"$emit('close')\">\n          <i class=\"fas fa-times\"></i>\n          Close\n        </button>\n        <button \n          v-if=\"localRecipe && !localRecipe.is_saved_by_user\"\n          class=\"btn btn-primary\" \n          @click=\"toggleSaveRecipe\" \n          :disabled=\"saving\"\n        >\n          <i v-if=\"saving\" class=\"fas fa-spinner fa-spin\"></i>\n          <i v-else class=\"far fa-heart\"></i>\n          {{ saving ? 'Saving...' : 'Save Recipe' }}\n        </button>\n        <button class=\"btn btn-info\" @click=\"generateShoppingList\">\n          <i class=\"fas fa-shopping-cart\"></i>\n          Shopping List\n        </button>\n      </div>\n    </div>\n\n    <!-- Shopping List Modal -->\n    <shopping-list-modal\n      v-if=\"showShoppingListModal\"\n      :shopping-list=\"shoppingListData\"\n      :loading=\"shoppingListLoading\"\n      :error=\"shoppingListError\"\n      @close=\"closeShoppingListModal\"\n      @retry=\"generateShoppingList\"\n    />\n  </div>\n</template>\n\n<script>\nimport ShoppingListModal from './ShoppingListModal.vue'\n\nexport default {\n  name: 'RecipeDetailModal',\n  components: {\n    ShoppingListModal\n  },\n  props: {\n    recipe: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      saving: false,\n      showShoppingListModal: false,\n      shoppingListData: null,\n      shoppingListLoading: false,\n      shoppingListError: null,\n      localRecipe: null  // Local copy to avoid mutating props\n    }\n  },\n  mounted() {\n    // Create a local copy of the recipe to avoid mutating props\n    this.localRecipe = { ...this.recipe }\n  },\n  watch: {\n    recipe: {\n      handler(newRecipe) {\n        // Update local copy when prop changes\n        this.localRecipe = { ...newRecipe }\n      },\n      immediate: true\n    }\n  },\n  computed: {\n    normalizedInstructions() {\n      const instr = this.recipe.instructions || []\n      \n      // Handle empty instructions\n      if (!instr || instr.length === 0) {\n        return []\n      }\n      \n      // If it's already an array of objects with step property, use it as is\n      if (instr.length && typeof instr[0] === 'object' && instr[0].step) {\n        return instr\n      }\n      \n      // If it's an array of strings, convert to objects\n      if (instr.length && typeof instr[0] === 'string') {\n        return instr.map((stepText, i) => ({\n          number: i + 1,\n          step: stepText,\n          description: stepText\n        }))\n      }\n      \n      // If it's an array of objects without step property, try to extract the step text\n      if (instr.length && typeof instr[0] === 'object') {\n        return instr.map((stepObj, i) => ({\n          number: stepObj.number || i + 1,\n          step: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`,\n          description: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`\n        }))\n      }\n      \n      return []\n    }\n  },\n  methods: {\n    formatIngredient(ing) {\n      if (typeof ing === 'string') return ing\n      \n      // Handle different ingredient formats\n      if (ing.original) return ing.original\n      \n      const amount = ing.amount || ing.quantity || ''\n      const unit = ing.unit || ''\n      const name = ing.name || ing.ingredient || ''\n      \n      if (amount && unit) {\n        return `${amount} ${unit} ${name}`.trim()\n      } else if (amount) {\n        return `${amount} ${name}`.trim()\n      }\n      \n      return name || 'Ingredient'\n    },\n\n    formatTime(minutes) {\n      if (!minutes) return 'N/A'\n      if (minutes < 60) return `${minutes}min`\n      const hours = Math.floor(minutes / 60)\n      const remainingMins = minutes % 60\n      return remainingMins > 0 ? `${hours}h ${remainingMins}min` : `${hours}h`\n    },\n\n    formatCuisine(cuisine) {\n      if (!cuisine) return ''\n      return cuisine.charAt(0).toUpperCase() + cuisine.slice(1)\n    },\n\n    formatMealType(mealType) {\n      const formats = {\n        'breakfast': 'Breakfast',\n        'lunch': 'Lunch',\n        'dinner': 'Dinner',\n        'snack': 'Snack',\n        'dessert': 'Dessert'\n      }\n      return formats[mealType] || mealType\n    },\n\n    formatDifficulty(difficulty) {\n      const formats = {\n        'easy': 'Easy',\n        'medium': 'Medium',\n        'hard': 'Hard'\n      }\n      return formats[difficulty] || 'Medium'\n    },\n\n    getDifficultyClass(difficulty) {\n      return `difficulty-${difficulty || 'medium'}`\n    },\n\n    formatTag(tag) {\n      return tag.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n    },\n\n    cleanSummary(summary) {\n      if (!summary) return ''\n      // Remove HTML tags but keep line breaks\n      return summary.replace(/<[^>]*>/g, '').replace(/\\n/g, '<br>')\n    },\n\n    imageError(event) {\n      // Instead of hiding the image, show a placeholder\n      event.target.src = this.getPlaceholderImage()\n      event.target.style.background = '#f8f9fa'\n      event.target.style.border = '2px dashed #dee2e6'\n      event.target.style.color = '#6c757d'\n      event.target.style.display = 'flex'\n      event.target.style.alignItems = 'center'\n      event.target.style.justifyContent = 'center'\n      event.target.style.fontSize = '14px'\n      event.target.onerror = null // Prevent infinite loop\n    },\n\n    getPlaceholderImage() {\n      // Return a data URL for a simple placeholder image\n      return 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgdmlld0JveD0iMCAwIDMwMCAyMDAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxyZWN0IHdpZHRoPSIzMDAiIGhlaWdodD0iMjAwIiBmaWxsPSIjRjhGOUZBIiBzdHJva2U9IiNERUUyRTYiIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlLWRhc2hhcnJheT0iNSA1Ii8+Cjx0ZXh0IHg9IjE1MCIgeT0iMTAwIiB0ZXh0LWFuY2hvcj0ibWlkZGxlIiBmaWxsPSIjNkM3NTdEIiBmb250LWZhbWlseT0iLWFwcGxlLXN5c3RlbSwgQmxpbmtNYWNTeXN0ZW1Gb250LCBTZWdvZSBVSSwgUm9ib3RvLCBzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0cHgiPk5vIEltYWdlPC90ZXh0Pgo8cGF0aCBkPSJNMTIwIDgwSDEzMFY5MEgxMjBWODBaTTE0MCA4MEgxNTBWOTBIMTQwVjgwWk0xNjAgODBIMTcwVjkwSDE2MFY4MFoiIGZpbGw9IiM2Qzc1N0QiLz4KPC9zdmc+'\n    },\n\n    async toggleSaveRecipe() {\n      this.saving = true\n      try {\n        console.log('Toggling save status for recipe:', this.localRecipe)\n        \n        // Import the API service\n        const { mealPlanningApi } = await import('@/services/mealPlanningApi')\n        \n        let response\n        \n        if (this.localRecipe.is_saved_by_user) {\n          // Remove from saved recipes\n          if (!this.localRecipe.id) {\n            throw new Error('Cannot remove recipe: No recipe ID found')\n          }\n          \n          response = await mealPlanningApi.removeRecipeFromMyCollection(this.localRecipe.id)\n          \n          // Update local state\n          this.localRecipe.is_saved_by_user = false\n          \n          const message = response.data?.message || 'Recipe removed from your collection!'\n          this.$toast?.success?.(message) || alert(message)\n        } else {\n          // Save recipe - handle both spoonacular and existing recipes\n          if (this.localRecipe.spoonacular_id && !this.localRecipe.created_by) {\n            // This is a spoonacular recipe from meal plan\n            response = await mealPlanningApi.saveRecipeFromMealPlan(this.localRecipe)\n          } else if (this.localRecipe.id) {\n            // This is an existing recipe in the database\n            response = await mealPlanningApi.saveRecipeToMyCollection(this.localRecipe.id)\n          } else {\n            // This is recipe data that needs to be saved\n            response = await mealPlanningApi.saveRecipeFromMealPlan(this.localRecipe)\n          }\n          \n          // Update local state\n          this.localRecipe.is_saved_by_user = true\n          \n          const message = response.data?.message || 'Recipe saved to your collection!'\n          this.$toast?.success?.(message) || alert(message)\n          \n          // Emit the saved recipe\n          this.$emit('recipe-saved', response.data.recipe || this.localRecipe)\n        }\n        \n      } catch (error) {\n        console.error('Error toggling recipe save status:', error)\n        \n        let errorMessage = 'An error occurred'\n        \n        if (error.response?.status === 404) {\n          errorMessage = 'Recipe not found. It may have been removed.'\n        } else if (error.response?.status === 403) {\n          errorMessage = 'You don\\'t have permission to perform this action.'\n        } else if (error.response?.status === 500) {\n          errorMessage = 'Server error. Please try again later.'\n        } else if (error.response?.data?.error) {\n          errorMessage = error.response.data.error\n        } else if (error.response?.data?.message) {\n          errorMessage = error.response.data.message\n        } else if (error.message) {\n          errorMessage = error.message\n        }\n        \n        this.$toast?.error?.(errorMessage) || alert(`Error: ${errorMessage}`)\n      } finally {\n        this.saving = false\n      }\n    },\n\n    async generateShoppingList() {\n      try {\n        this.shoppingListLoading = true\n        this.shoppingListError = null\n        this.showShoppingListModal = true\n\n        const response = await fetch(`/api/meal-planning/recipes/${this.recipe.id}/generate_shopping_list/`, {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n            'Authorization': `Bearer ${this.$store.state.auth.token}`\n          },\n          body: JSON.stringify({\n            servings_multiplier: 1.0\n          })\n        })\n\n        if (!response.ok) {\n          throw new Error(`HTTP error! status: ${response.status}`)\n        }\n\n        const data = await response.json()\n        this.shoppingListData = data.shopping_list\n        this.shoppingListLoading = false\n\n        // Show success message\n        this.$toast?.success?.('Shopping list generated successfully!') ||\n        console.log('Shopping list generated successfully!')\n\n      } catch (error) {\n        console.error('Error generating shopping list:', error)\n        this.shoppingListError = error.message || 'Failed to generate shopping list'\n        this.shoppingListLoading = false\n        \n        // Show error message\n        this.$toast?.error?.(`Error: ${this.shoppingListError}`) ||\n        alert(`Error generating shopping list: ${this.shoppingListError}`)\n      }\n    },\n\n    closeShoppingListModal() {\n      this.showShoppingListModal = false\n      this.shoppingListData = null\n      this.shoppingListError = null\n      this.shoppingListLoading = false  // Reset loading state\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.recipe-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  z-index: 1000;\n  padding: 20px;\n  overflow-y: auto;\n  backdrop-filter: blur(5px);\n}\n\n.recipe-modal {\n  background: $white;\n  border-radius: 20px;\n  max-width: 900px;\n  width: 100%;\n  max-height: 95vh;\n  overflow-y: auto;\n  box-shadow: $shadow-lg;\n  margin: 20px 0;\n  animation: modalSlideIn 0.3s ease-out;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 32px 32px 24px;\n  border-bottom: 1px solid $gray-lighter;\n  background: linear-gradient(135deg, $primary-light 0%, $primary 100%);\n  color: $white;\n  border-radius: 20px 20px 0 0;\n\n  .header-content {\n    flex: 1;\n\n    h2 {\n      margin: 0 0 12px 0;\n      font-size: 2rem;\n      font-weight: 700;\n      line-height: 1.2;\n    }\n  }\n\n  .recipe-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n\n  .badge {\n    padding: 4px 12px;\n    border-radius: 16px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    background: rgba($white, 0.2);\n    color: $white;\n\n    &.difficulty-easy { background: rgba($success, 0.8); }\n    &.difficulty-medium { background: rgba($warning, 0.8); }\n    &.difficulty-hard { background: rgba($error, 0.8); }\n  }\n\n  .close-btn {\n    background: rgba($white, 0.2);\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 12px;\n    border-radius: 50%;\n    color: $white;\n    transition: all 0.2s ease;\n    margin-left: 16px;\n\n    &:hover {\n      background: rgba($white, 0.3);\n      transform: scale(1.1);\n    }\n  }\n}\n\n.modal-body {\n  padding: 0;\n}\n\n.recipe-hero {\n  display: grid;\n  grid-template-columns: 1fr 300px;\n  gap: 0;\n  background: $white;\n\n  @include responsive('md') {\n    grid-template-columns: 1fr;\n  }\n}\n\n.image-wrapper {\n  position: relative;\n  height: 300px;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .image-overlay {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: linear-gradient(transparent, rgba(0,0,0,0.8));\n    padding: 20px;\n    color: $white;\n  }\n\n  .recipe-stats {\n    display: flex;\n    justify-content: space-around;\n    gap: 16px;\n  }\n\n  .stat {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 0.9rem;\n    font-weight: 600;\n\n    i {\n      font-size: 1rem;\n      color: $primary-light;\n    }\n  }\n}\n\n.nutrition-panel {\n  padding: 24px;\n  background: $gray-lighter;\n  border-left: 1px solid $gray-lighter;\n\n  @include responsive('md') {\n    border-left: none;\n    border-top: 1px solid $gray-lighter;\n  }\n\n  h3 {\n    margin: 0 0 16px 0;\n    font-size: 1.2rem;\n    color: $primary-dark;\n  }\n}\n\n.nutrition-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.nutrition-item {\n  text-align: center;\n  padding: 12px;\n  background: $white;\n  border-radius: 12px;\n  box-shadow: $shadow-sm;\n\n  .nutrition-value {\n    font-size: 1.4rem;\n    font-weight: 700;\n    margin-bottom: 4px;\n  }\n\n  .nutrition-label {\n    font-size: 0.8rem;\n    color: $gray;\n    text-transform: uppercase;\n    font-weight: 600;\n  }\n\n  &.calories .nutrition-value { color: #e74c3c; }\n  &.protein .nutrition-value { color: #3498db; }\n  &.carbs .nutrition-value { color: #f39c12; }\n  &.fat .nutrition-value { color: #9b59b6; }\n}\n\n.dietary-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n\n  .dietary-tag {\n    padding: 4px 8px;\n    background: $primary;\n    color: $white;\n    border-radius: 12px;\n    font-size: 0.75rem;\n    font-weight: 600;\n  }\n}\n\n.summary-section,\n.ingredients-section,\n.instructions-section,\n.source-section {\n  padding: 24px 32px;\n  border-bottom: 1px solid $gray-lighter;\n\n  h3 {\n    margin: 0 0 16px 0;\n    font-size: 1.3rem;\n    color: $primary-dark;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n\n    i {\n      color: $primary;\n    }\n  }\n}\n\n.summary {\n  font-size: 1rem;\n  line-height: 1.6;\n  color: $gray-dark;\n  margin: 0;\n}\n\n.ingredients-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 12px;\n}\n\n.ingredient-item {\n  padding: 12px 16px;\n  background: $gray-lighter;\n  border-radius: 8px;\n  border-left: 3px solid $primary;\n\n  .ingredient-text {\n    font-weight: 500;\n    color: $gray-dark;\n  }\n}\n\n.instructions-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.instruction-step {\n  display: flex;\n  gap: 16px;\n  align-items: flex-start;\n\n  .step-number {\n    min-width: 32px;\n    height: 32px;\n    background: $primary;\n    color: $white;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 700;\n    font-size: 0.9rem;\n  }\n\n  .step-content {\n    flex: 1;\n    font-size: 1rem;\n    line-height: 1.6;\n    color: $gray-dark;\n    padding-top: 4px;\n  }\n}\n\n.source-section {\n  border-bottom: none;\n\n  .source-info {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    font-size: 0.9rem;\n\n    .source-label {\n      font-weight: 600;\n      color: $gray;\n    }\n\n    .source-link {\n      color: $primary;\n      text-decoration: none;\n      font-weight: 500;\n\n      &:hover {\n        text-decoration: underline;\n      }\n\n      i {\n        margin-left: 4px;\n        font-size: 0.8rem;\n      }\n    }\n  }\n}\n\n.modal-footer {\n  padding: 24px 32px;\n  background: $gray-lighter;\n  border-radius: 0 0 20px 20px;\n}\n\n.footer-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  flex-wrap: wrap;\n\n  @include responsive('sm') {\n    justify-content: center;\n  }\n}\n\n.btn {\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-weight: 600;\n  text-decoration: none;\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border: 2px solid;\n  font-size: 0.9rem;\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  &.btn-outline {\n    background: transparent;\n    color: $gray-dark;\n    border-color: $gray-lighter;\n\n    &:hover:not(:disabled) {\n      background: $gray-lighter;\n      border-color: $gray;\n    }\n  }\n\n  &.btn-primary {\n    background: $primary;\n    color: $white;\n    border-color: $primary;\n\n    &:hover:not(:disabled) {\n      background: $primary-dark;\n      border-color: $primary-dark;\n      transform: translateY(-1px);\n    }\n  }\n\n  &.btn-success {\n    background: $success;\n    color: $white;\n    border-color: $success;\n\n    &:hover:not(:disabled) {\n      background: darken($success, 10%);\n      border-color: darken($success, 10%);\n      transform: translateY(-1px);\n    }\n  }\n\n  &.btn-outline-danger {\n    background: transparent;\n    color: $error;\n    border-color: $error;\n\n    &:hover:not(:disabled) {\n      background: $error;\n      color: $white;\n      border-color: $error;\n      transform: translateY(-1px);\n    }\n\n    i.fas.fa-heart {\n      color: $error;\n    }\n  }\n}\n\n// Mobile responsive adjustments\n@include responsive('sm') {\n  .recipe-modal {\n    margin: 10px;\n    max-height: 98vh;\n  }\n\n  .modal-header {\n    padding: 20px;\n\n    .header-content h2 {\n      font-size: 1.5rem;\n    }\n  }\n\n  .modal-body {\n    .summary-section,\n    .ingredients-section,\n    .instructions-section,\n    .source-section {\n      padding: 20px;\n    }\n  }\n\n  .nutrition-panel {\n    padding: 20px;\n  }\n\n  .modal-footer {\n    padding: 20px;\n  }\n}\n</style>\n","<template>\n  <div class=\"shopping-list-modal\">\n    <div class=\"modal-overlay\" @click=\"$emit('close')\"></div>\n    <div class=\"modal-content\">\n      <div class=\"modal-header\">\n        <h2 class=\"modal-title\">\n          <i class=\"fas fa-shopping-cart\"></i>\n          Shopping List\n        </h2>\n        <div class=\"modal-actions\">\n          <button \n            @click=\"printShoppingList\" \n            class=\"btn btn-secondary\"\n            title=\"Print Shopping List\"\n          >\n            <i class=\"fas fa-print\"></i>\n          </button>\n          <button @click=\"$emit('close')\" class=\"btn btn-ghost\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n      </div>\n\n      <div class=\"modal-body\">\n        <!-- Loading State -->\n        <div v-if=\"loading\" class=\"loading-state\">\n          <div class=\"spinner\"></div>\n          <p>Generating your shopping list...</p>\n        </div>\n\n        <!-- Error State -->\n        <div v-else-if=\"error\" class=\"error-state\">\n          <div class=\"error-icon\">\n            <i class=\"fas fa-exclamation-triangle\"></i>\n          </div>\n          <h3>Unable to Generate Shopping List</h3>\n          <p>{{ error }}</p>\n          <button @click=\"retry\" class=\"btn btn-primary\">\n            <i class=\"fas fa-redo\"></i>\n            Try Again\n          </button>\n        </div>\n\n        <!-- Shopping List Content -->\n        <div v-else-if=\"shoppingList\" class=\"shopping-list-content\">\n          <!-- Metadata -->\n          <div class=\"shopping-list-meta\">\n            <div class=\"meta-item\">\n              <i class=\"fas fa-info-circle\"></i>\n              <span>{{ shoppingList.metadata.total_items }} items</span>\n            </div>\n            <div class=\"meta-item\" v-if=\"shoppingList.metadata.recipe_names\">\n              <i class=\"fas fa-utensils\"></i>\n              <span>{{ shoppingList.metadata.recipe_names.length }} recipes</span>\n            </div>\n            <div class=\"meta-item\" v-if=\"shoppingList.metadata.generated_from === 'meal_plan'\">\n              <i class=\"fas fa-calendar\"></i>\n              <span>{{ formatDateRange() }}</span>\n            </div>\n          </div>\n\n          <!-- Shopping Categories -->\n          <div class=\"shopping-categories\">\n            <div \n              v-for=\"(category, categoryKey) in sortedCategories\" \n              :key=\"categoryKey\"\n              class=\"shopping-category\"\n              :class=\"{ 'category-completed': isCategoryCompleted(category) }\"\n            >\n              <div class=\"category-header\" @click=\"toggleCategory(categoryKey)\">\n                <div class=\"category-info\">\n                  <span class=\"category-icon\">{{ category.icon }}</span>\n                  <h3 class=\"category-name\">{{ category.name }}</h3>\n                  <span class=\"item-count\">({{ getCompletedCount(category) }}/{{ category.item_count }})</span>\n                </div>\n                <div class=\"category-toggle\">\n                  <i class=\"fas\" :class=\"collapsedCategories[categoryKey] ? 'fa-chevron-down' : 'fa-chevron-up'\"></i>\n                </div>\n              </div>\n\n              <div \n                v-show=\"!collapsedCategories[categoryKey]\"\n                class=\"category-items\"\n              >\n                <div \n                  v-for=\"(item, itemIndex) in category.items\" \n                  :key=\"itemIndex\"\n                  class=\"shopping-item\"\n                  :class=\"{ 'item-checked': item.checked }\"\n                >\n                  <label class=\"item-checkbox\">\n                    <input \n                      type=\"checkbox\" \n                      v-model=\"item.checked\"\n                      @change=\"updateProgress\"\n                    >\n                    <span class=\"checkmark\"></span>\n                  </label>\n                  <div class=\"item-details\">\n                    <span class=\"item-name\" :class=\"{ 'strikethrough': item.checked }\">\n                      {{ item.name }}\n                    </span>\n                    <span class=\"item-quantity\">{{ item.quantity }}</span>\n                    <div v-if=\"item.notes && item.notes.length > 0\" class=\"item-notes\">\n                      <small>Additional: {{ item.notes.join(', ') }}</small>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Progress Bar -->\n          <div class=\"progress-section\">\n            <div class=\"progress-info\">\n              <span>Progress: {{ completedItems }}/{{ totalItems }} items</span>\n              <span class=\"progress-percentage\">{{ progressPercentage }}%</span>\n            </div>\n            <div class=\"progress-bar\">\n              <div \n                class=\"progress-fill\" \n                :style=\"{ width: progressPercentage + '%' }\"\n              ></div>\n            </div>\n          </div>\n\n          <!-- Recipe Names (if from recipes) -->\n          <div v-if=\"shoppingList.metadata.recipe_names\" class=\"recipe-list\">\n            <h4>Recipes included:</h4>\n            <div class=\"recipe-chips\">\n              <span \n                v-for=\"recipeName in shoppingList.metadata.recipe_names\" \n                :key=\"recipeName\"\n                class=\"recipe-chip\"\n              >\n                {{ recipeName }}\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ShoppingListModal',\n  props: {\n    shoppingList: {\n      type: Object,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    },\n    error: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      collapsedCategories: {},\n      completedItems: 0,\n      totalItems: 0\n    }\n  },\n  computed: {\n    sortedCategories() {\n      if (!this.shoppingList?.categories) return {}\n      \n      // Sort categories by their order property\n      const categories = this.shoppingList.categories\n      return Object.keys(categories)\n        .sort((a, b) => categories[a].order - categories[b].order)\n        .reduce((sorted, key) => {\n          sorted[key] = categories[key]\n          return sorted\n        }, {})\n    },\n    progressPercentage() {\n      if (this.totalItems === 0) return 0\n      return Math.round((this.completedItems / this.totalItems) * 100)\n    }\n  },\n  watch: {\n    shoppingList: {\n      handler() {\n        this.updateProgress()\n        this.initializeCategories()\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    initializeCategories() {\n      if (!this.shoppingList?.categories) return\n      \n      // Initialize collapsed state for categories\n      Object.keys(this.shoppingList.categories).forEach(categoryKey => {\n        if (!(categoryKey in this.collapsedCategories)) {\n          this.$set(this.collapsedCategories, categoryKey, false)\n        }\n      })\n    },\n    \n    toggleCategory(categoryKey) {\n      this.$set(this.collapsedCategories, categoryKey, !this.collapsedCategories[categoryKey])\n    },\n    \n    updateProgress() {\n      if (!this.shoppingList?.categories) return\n      \n      let completed = 0\n      let total = 0\n      \n      Object.values(this.shoppingList.categories).forEach(category => {\n        category.items.forEach(item => {\n          total++\n          if (item.checked) completed++\n        })\n      })\n      \n      this.completedItems = completed\n      this.totalItems = total\n    },\n    \n    isCategoryCompleted(category) {\n      return category.items.every(item => item.checked)\n    },\n    \n    getCompletedCount(category) {\n      return category.items.filter(item => item.checked).length\n    },\n    \n    formatDateRange() {\n      if (!this.shoppingList?.metadata) return ''\n      \n      const start = new Date(this.shoppingList.metadata.start_date).toLocaleDateString()\n      const end = new Date(this.shoppingList.metadata.end_date).toLocaleDateString()\n      \n      if (start === end) {\n        return start\n      }\n      return `${start} - ${end}`\n    },\n    \n    printShoppingList() {\n      const printContent = this.generatePrintContent()\n      const printWindow = window.open('', '_blank')\n      \n      printWindow.document.write(`\n        <html>\n          <head>\n            <title>Shopping List</title>\n            <style>\n              body { font-family: Arial, sans-serif; margin: 20px; }\n              h1 { color: #2563eb; border-bottom: 2px solid #2563eb; padding-bottom: 10px; }\n              h2 { color: #374151; margin-top: 25px; margin-bottom: 10px; }\n              .category-section { margin-bottom: 20px; }\n              .item { margin: 5px 0; padding: 5px; }\n              .item-name { font-weight: 500; }\n              .item-quantity { color: #6b7280; margin-left: 10px; }\n              .meta-info { background: #f3f4f6; padding: 10px; border-radius: 5px; margin-bottom: 20px; }\n              ul { list-style-type: none; padding-left: 0; }\n              li { margin: 8px 0; }\n              .checkbox { width: 15px; height: 15px; border: 1px solid #ccc; display: inline-block; margin-right: 10px; }\n              @media print {\n                .no-print { display: none; }\n              }\n            </style>\n          </head>\n          <body>\n            ${printContent}\n          </body>\n        </html>\n      `)\n      \n      printWindow.document.close()\n      printWindow.print()\n      printWindow.close()\n    },\n    \n    generatePrintContent() {\n      if (!this.shoppingList) return ''\n      \n      let html = '<h1> Shopping List</h1>'\n      \n      // Metadata\n      if (this.shoppingList.metadata) {\n        html += '<div class=\"meta-info\">'\n        html += `<p><strong>Total Items:</strong> ${this.shoppingList.metadata.total_items}</p>`\n        \n        if (this.shoppingList.metadata.recipe_names) {\n          html += `<p><strong>Recipes:</strong> ${this.shoppingList.metadata.recipe_names.join(', ')}</p>`\n        }\n        \n        if (this.shoppingList.metadata.generated_from === 'meal_plan') {\n          html += `<p><strong>Meal Plan Period:</strong> ${this.formatDateRange()}</p>`\n        }\n        \n        html += '</div>'\n      }\n      \n      // Categories\n      Object.entries(this.sortedCategories).forEach(([, category]) => {\n        html += `<div class=\"category-section\">`\n        html += `<h2>${category.icon} ${category.name}</h2>`\n        html += '<ul>'\n        \n        category.items.forEach(item => {\n          html += '<li>'\n          html += '<span class=\"checkbox\"></span>'\n          html += `<span class=\"item-name\">${item.name}</span>`\n          html += `<span class=\"item-quantity\">${item.quantity}</span>`\n          if (item.notes && item.notes.length > 0) {\n            html += `<br><small>Additional: ${item.notes.join(', ')}</small>`\n          }\n          html += '</li>'\n        })\n        \n        html += '</ul></div>'\n      })\n      \n      return html\n    },\n    \n    retry() {\n      this.$emit('retry')\n    }\n  }\n}\n</script>\n\n<style scoped>\n.shopping-list-modal {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  z-index: 1000;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.modal-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  backdrop-filter: blur(5px);\n}\n\n.modal-content {\n  position: relative;\n  background: white;\n  border-radius: 12px;\n  box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);\n  width: 90%;\n  max-width: 800px;\n  max-height: 90vh;\n  overflow: hidden;\n  display: flex;\n  flex-direction: column;\n}\n\n.modal-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 24px;\n  border-bottom: 1px solid #e5e7eb;\n  background: linear-gradient(135deg, #2563eb 0%, #3b82f6 100%);\n  color: white;\n}\n\n.modal-title {\n  margin: 0;\n  font-size: 1.5rem;\n  font-weight: 600;\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.modal-actions {\n  display: flex;\n  gap: 8px;\n}\n\n.modal-body {\n  flex: 1;\n  overflow: auto;\n  padding: 24px;\n}\n\n/* Loading State */\n.loading-state {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid #e5e7eb;\n  border-top: 4px solid #2563eb;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n/* Error State */\n.error-state {\n  text-align: center;\n  padding: 60px 20px;\n}\n\n.error-icon {\n  font-size: 3rem;\n  color: #ef4444;\n  margin-bottom: 20px;\n}\n\n.error-state h3 {\n  color: #374151;\n  margin-bottom: 12px;\n}\n\n.error-state p {\n  color: #6b7280;\n  margin-bottom: 24px;\n}\n\n/* Shopping List Content */\n.shopping-list-meta {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n  margin-bottom: 24px;\n  padding: 16px;\n  background: #f8fafc;\n  border-radius: 8px;\n  border: 1px solid #e2e8f0;\n}\n\n.meta-item {\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  color: #475569;\n  font-size: 0.875rem;\n}\n\n.meta-item i {\n  color: #2563eb;\n}\n\n/* Shopping Categories */\n.shopping-categories {\n  margin-bottom: 24px;\n}\n\n.shopping-category {\n  border: 1px solid #e5e7eb;\n  border-radius: 8px;\n  margin-bottom: 16px;\n  overflow: hidden;\n  transition: all 0.2s ease;\n}\n\n.category-completed {\n  background: #f0fdf4;\n  border-color: #16a34a;\n}\n\n.category-header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  padding: 16px;\n  background: #f9fafb;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n}\n\n.category-header:hover {\n  background: #f3f4f6;\n}\n\n.category-completed .category-header {\n  background: #dcfce7;\n}\n\n.category-info {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n}\n\n.category-icon {\n  font-size: 1.25rem;\n}\n\n.category-name {\n  margin: 0;\n  font-size: 1.125rem;\n  font-weight: 600;\n  color: #374151;\n}\n\n.item-count {\n  color: #6b7280;\n  font-size: 0.875rem;\n}\n\n.category-toggle i {\n  color: #6b7280;\n  transition: transform 0.2s ease;\n}\n\n.category-items {\n  padding: 0 16px 16px;\n}\n\n/* Shopping Items */\n.shopping-item {\n  display: flex;\n  align-items: flex-start;\n  gap: 12px;\n  padding: 12px;\n  border-radius: 6px;\n  transition: background-color 0.2s ease;\n  margin-bottom: 8px;\n}\n\n.shopping-item:hover {\n  background: #f8fafc;\n}\n\n.item-checked {\n  background: #f0fdf4;\n}\n\n.item-checkbox {\n  position: relative;\n  cursor: pointer;\n  margin-top: 2px;\n}\n\n.item-checkbox input[type=\"checkbox\"] {\n  opacity: 0;\n  position: absolute;\n}\n\n.checkmark {\n  display: inline-block;\n  width: 20px;\n  height: 20px;\n  border: 2px solid #d1d5db;\n  border-radius: 4px;\n  position: relative;\n  transition: all 0.2s ease;\n}\n\n.item-checkbox input[type=\"checkbox\"]:checked + .checkmark {\n  background: #16a34a;\n  border-color: #16a34a;\n}\n\n.item-checkbox input[type=\"checkbox\"]:checked + .checkmark::after {\n  content: \"\";\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  transform: translate(-50%, -50%);\n  color: white;\n  font-size: 12px;\n  font-weight: bold;\n}\n\n.item-details {\n  flex: 1;\n}\n\n.item-name {\n  display: block;\n  font-weight: 500;\n  color: #374151;\n  margin-bottom: 4px;\n  transition: all 0.2s ease;\n}\n\n.strikethrough {\n  text-decoration: line-through;\n  color: #9ca3af;\n}\n\n.item-quantity {\n  color: #6b7280;\n  font-size: 0.875rem;\n}\n\n.item-notes {\n  margin-top: 4px;\n  color: #6b7280;\n  font-size: 0.75rem;\n}\n\n/* Progress Section */\n.progress-section {\n  margin-bottom: 24px;\n  padding: 16px;\n  background: #f8fafc;\n  border-radius: 8px;\n  border: 1px solid #e2e8f0;\n}\n\n.progress-info {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 8px;\n  font-size: 0.875rem;\n  color: #374151;\n}\n\n.progress-percentage {\n  font-weight: 600;\n  color: #2563eb;\n}\n\n.progress-bar {\n  width: 100%;\n  height: 8px;\n  background: #e5e7eb;\n  border-radius: 4px;\n  overflow: hidden;\n}\n\n.progress-fill {\n  height: 100%;\n  background: linear-gradient(90deg, #2563eb 0%, #16a34a 100%);\n  transition: width 0.3s ease;\n}\n\n/* Recipe List */\n.recipe-list {\n  padding: 16px;\n  background: #fef3c7;\n  border-radius: 8px;\n  border: 1px solid #f59e0b;\n}\n\n.recipe-list h4 {\n  margin: 0 0 12px 0;\n  color: #92400e;\n  font-size: 0.875rem;\n  font-weight: 600;\n}\n\n.recipe-chips {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n}\n\n.recipe-chip {\n  background: #fbbf24;\n  color: #92400e;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n/* Buttons */\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  font-size: 0.875rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n}\n\n.btn:hover {\n  transform: translateY(-1px);\n}\n\n.btn-primary {\n  background: #2563eb;\n  color: white;\n}\n\n.btn-primary:hover {\n  background: #1d4ed8;\n}\n\n.btn-secondary {\n  background: #6b7280;\n  color: white;\n}\n\n.btn-secondary:hover {\n  background: #4b5563;\n}\n\n.btn-ghost {\n  background: transparent;\n  color: white;\n}\n\n.btn-ghost:hover {\n  background: rgba(255, 255, 255, 0.1);\n}\n\n/* Responsive Design */\n@media (max-width: 768px) {\n  .modal-content {\n    width: 95%;\n    max-height: 95vh;\n  }\n  \n  .modal-header {\n    padding: 16px;\n  }\n  \n  .modal-title {\n    font-size: 1.25rem;\n  }\n  \n  .modal-body {\n    padding: 16px;\n  }\n  \n  .shopping-list-meta {\n    flex-direction: column;\n    gap: 8px;\n  }\n  \n  .category-header {\n    padding: 12px;\n  }\n  \n  .category-name {\n    font-size: 1rem;\n  }\n  \n  .shopping-item {\n    padding: 8px;\n  }\n}\n</style>","import { render } from \"./ShoppingListModal.vue?vue&type=template&id=6098bce3&scoped=true\"\nimport script from \"./ShoppingListModal.vue?vue&type=script&lang=js\"\nexport * from \"./ShoppingListModal.vue?vue&type=script&lang=js\"\n\nimport \"./ShoppingListModal.vue?vue&type=style&index=0&id=6098bce3&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-6098bce3\"]])\n\nexport default __exports__","import { render } from \"./RecipeDetailModal.vue?vue&type=template&id=ca1e3a28&scoped=true\"\nimport script from \"./RecipeDetailModal.vue?vue&type=script&lang=js\"\nexport * from \"./RecipeDetailModal.vue?vue&type=script&lang=js\"\n\nimport \"./RecipeDetailModal.vue?vue&type=style&index=0&id=ca1e3a28&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ca1e3a28\"]])\n\nexport default __exports__","import { render } from \"./MealPlanDetailModal.vue?vue&type=template&id=64b89338&scoped=true\"\nimport script from \"./MealPlanDetailModal.vue?vue&type=script&lang=js\"\nexport * from \"./MealPlanDetailModal.vue?vue&type=script&lang=js\"\n\nimport \"./MealPlanDetailModal.vue?vue&type=style&index=0&id=64b89338&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-64b89338\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/NutritionalAnalysisModal.vue -->\n<template>\n  <div class=\"modal-overlay\" @click=\"$emit('close')\">\n    <div class=\"modal-content analysis-modal\" @click.stop>\n      <div class=\"modal-header\">\n        <div class=\"header-content\">\n          <h2>\n            <i class=\"fas fa-chart-line\"></i>\n            AI Nutritional Analysis\n          </h2>\n          <p>{{ formatPlanType(mealPlan.plan_type) }} Plan - {{ formatDateRange(mealPlan.start_date, mealPlan.end_date) }}</p>\n        </div>\n        <button @click=\"$emit('close')\" class=\"close-btn\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n\n      <div class=\"modal-body\">\n        <!-- Loading State -->\n        <div v-if=\"analysis.loading\" class=\"loading-state\">\n          <div class=\"loading-spinner\"></div>\n          <h3>AI is Analyzing Your Meal Plan</h3>\n          <p>{{ analysis.message }}</p>\n        </div>\n\n        <!-- Error State -->\n        <div v-else-if=\"analysis.error\" class=\"error-state\">\n          <i class=\"fas fa-exclamation-triangle\"></i>\n          <h3>Analysis Unavailable</h3>\n          <p>{{ analysis.message }}</p>\n        </div>\n\n        <!-- Analysis Results -->\n        <div v-else class=\"analysis-results\">\n          <!-- Overall Score -->\n          <div class=\"overall-score-section\">\n            <div class=\"score-circle\">\n              <svg viewBox=\"0 0 100 100\" class=\"circular-progress\">\n                <circle\n                  cx=\"50\"\n                  cy=\"50\"\n                  r=\"45\"\n                  class=\"circle-bg\"\n                />\n                <circle\n                  cx=\"50\"\n                  cy=\"50\"\n                  r=\"45\"\n                  class=\"circle-progress\"\n                  :style=\"`stroke-dasharray: ${analysis.overall_score * 2.827}, 282.7`\"\n                />\n              </svg>\n              <div class=\"score-content\">\n                <span class=\"score-number\">{{ analysis.overall_score || 0 }}</span>\n                <span class=\"score-label\">Overall Score</span>\n              </div>\n            </div>\n            <div class=\"score-description\">\n              <h3>Nutritional Quality Assessment</h3>\n              <p>{{ getScoreDescription(analysis.overall_score) }}</p>\n            </div>\n          </div>\n\n          <!-- Nutritional Adequacy -->\n          <div class=\"analysis-section\">\n            <h3>\n              <i class=\"fas fa-balance-scale\"></i>\n              Nutritional Adequacy\n            </h3>\n            <div class=\"adequacy-grid\" v-if=\"analysis.nutritional_adequacy\">\n              <div\n                v-for=\"(nutrient, key) in analysis.nutritional_adequacy\"\n                :key=\"key\"\n                class=\"nutrient-card\"\n                :class=\"getAdequacyClass(nutrient.status)\"\n              >\n                <div class=\"nutrient-header\">\n                  <span class=\"nutrient-name\">{{ formatNutrientName(key) }}</span>\n                  <span class=\"nutrient-status\">{{ formatStatus(nutrient.status) }}</span>\n                </div>\n                <div class=\"nutrient-progress\">\n                  <div class=\"progress-bar\">\n                    <div\n                      class=\"progress-fill\"\n                      :style=\"`width: ${Math.min(nutrient.percentage_of_target || 0, 150)}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ nutrient.percentage_of_target || 0 }}% of target</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Meal Distribution -->\n          <div class=\"analysis-section\" v-if=\"analysis.meal_distribution\">\n            <h3>\n              <i class=\"fas fa-clock\"></i>\n              Meal Distribution\n            </h3>\n            <div class=\"distribution-chart\">\n              <div class=\"distribution-bars\">\n                <div class=\"meal-bar\">\n                  <span class=\"meal-label\">Breakfast</span>\n                  <div class=\"bar\">\n                    <div\n                      class=\"bar-fill breakfast\"\n                      :style=\"`width: ${analysis.meal_distribution.breakfast_percentage || 0}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ analysis.meal_distribution.breakfast_percentage || 0 }}%</span>\n                </div>\n                <div class=\"meal-bar\">\n                  <span class=\"meal-label\">Lunch</span>\n                  <div class=\"bar\">\n                    <div\n                      class=\"bar-fill lunch\"\n                      :style=\"`width: ${analysis.meal_distribution.lunch_percentage || 0}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ analysis.meal_distribution.lunch_percentage || 0 }}%</span>\n                </div>\n                <div class=\"meal-bar\">\n                  <span class=\"meal-label\">Dinner</span>\n                  <div class=\"bar\">\n                    <div\n                      class=\"bar-fill dinner\"\n                      :style=\"`width: ${analysis.meal_distribution.dinner_percentage || 0}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ analysis.meal_distribution.dinner_percentage || 0 }}%</span>\n                </div>\n              </div>\n              <div class=\"distribution-rating\">\n                <span class=\"rating-label\">Balance Rating:</span>\n                <span class=\"rating-value\" :class=\"getRatingClass(analysis.meal_distribution.balance_rating)\">\n                  {{ formatRating(analysis.meal_distribution.balance_rating) }}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Variety Analysis -->\n          <div class=\"analysis-section\" v-if=\"analysis.variety_analysis\">\n            <h3>\n              <i class=\"fas fa-seedling\"></i>\n              Variety & Diversity\n            </h3>\n            <div class=\"variety-metrics\">\n              <div class=\"variety-item\">\n                <span class=\"metric-label\">Cuisine Diversity:</span>\n                <span class=\"metric-badge\" :class=\"getVarietyClass(analysis.variety_analysis.cuisine_diversity)\">\n                  {{ formatRating(analysis.variety_analysis.cuisine_diversity) }}\n                </span>\n              </div>\n              <div class=\"variety-item\">\n                <span class=\"metric-label\">Ingredient Variety:</span>\n                <span class=\"metric-badge\" :class=\"getVarietyClass(analysis.variety_analysis.ingredient_variety)\">\n                  {{ formatRating(analysis.variety_analysis.ingredient_variety) }}\n                </span>\n              </div>\n              <div class=\"variety-item\">\n                <span class=\"metric-label\">Cooking Methods:</span>\n                <span class=\"metric-badge\" :class=\"getVarietyClass(analysis.variety_analysis.cooking_method_diversity)\">\n                  {{ formatRating(analysis.variety_analysis.cooking_method_diversity) }}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Health Highlights -->\n          <div class=\"analysis-section\" v-if=\"analysis.health_highlights && analysis.health_highlights.length\">\n            <h3>\n              <i class=\"fas fa-star\"></i>\n              Health Highlights\n            </h3>\n            <div class=\"highlights-list\">\n              <div\n                v-for=\"(highlight, index) in analysis.health_highlights\"\n                :key=\"index\"\n                class=\"highlight-item\"\n              >\n                <i class=\"fas fa-check-circle\"></i>\n                <span>{{ highlight }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Recommendations -->\n          <div class=\"analysis-section\" v-if=\"analysis.recommendations && analysis.recommendations.length\">\n            <h3>\n              <i class=\"fas fa-lightbulb\"></i>\n              AI Recommendations\n            </h3>\n            <div class=\"recommendations-list\">\n              <div\n                v-for=\"(recommendation, index) in analysis.recommendations\"\n                :key=\"index\"\n                class=\"recommendation-item\"\n              >\n                <i class=\"fas fa-arrow-right\"></i>\n                <span>{{ recommendation }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Areas for Improvement -->\n          <div class=\"analysis-section\" v-if=\"analysis.areas_for_improvement && analysis.areas_for_improvement.length\">\n            <h3>\n              <i class=\"fas fa-target\"></i>\n              Areas for Improvement\n            </h3>\n            <div class=\"improvements-list\">\n              <div\n                v-for=\"(improvement, index) in analysis.areas_for_improvement\"\n                :key=\"index\"\n                class=\"improvement-item\"\n              >\n                <i class=\"fas fa-exclamation-circle\"></i>\n                <span>{{ improvement }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"modal-footer\">\n        <button @click=\"$emit('close')\" class=\"btn btn-secondary\">Close Analysis</button>\n        <button @click=\"downloadReport\" class=\"btn btn-primary\" :disabled=\"analysis.loading || analysis.error\">\n          <i class=\"fas fa-download\"></i>\n          Download Report\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NutritionalAnalysisModal',\n  props: {\n    analysis: {\n      type: Object,\n      required: true\n    },\n    mealPlan: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['close'],\n  methods: {\n    formatPlanType(type) {\n      return type.charAt(0).toUpperCase() + type.slice(1)\n    },\n\n    formatDateRange(startDate, endDate) {\n      const start = new Date(startDate).toLocaleDateString()\n      const end = new Date(endDate).toLocaleDateString()\n\n      if (startDate === endDate) {\n        return start\n      }\n      return `${start} - ${end}`\n    },\n\n    getScoreDescription(score) {\n      if (score >= 90) return \"Excellent nutritional balance! Your meal plan meets all dietary guidelines.\"\n      if (score >= 80) return \"Very good nutritional quality with minor areas for optimization.\"\n      if (score >= 70) return \"Good nutritional foundation with some room for improvement.\"\n      if (score >= 60) return \"Adequate nutrition but several areas could be enhanced.\"\n      return \"Significant nutritional improvements recommended.\"\n    },\n\n    formatNutrientName(key) {\n      const names = {\n        'calories': 'Calories',\n        'protein': 'Protein',\n        'carbs': 'Carbohydrates',\n        'fat': 'Fat',\n        'fiber': 'Fiber',\n        'sodium': 'Sodium'\n      }\n      return names[key] || key.charAt(0).toUpperCase() + key.slice(1)\n    },\n\n    formatStatus(status) {\n      const statuses = {\n        'adequate': 'Adequate',\n        'insufficient': 'Low',\n        'excessive': 'High',\n        'too_high': 'Too High',\n        'too_low': 'Too Low',\n        'within_range': 'Good',\n        'balanced': 'Balanced'\n      }\n      return statuses[status] || status.replace('_', ' ').toUpperCase()\n    },\n\n    formatRating(rating) {\n      if (!rating) return 'N/A'\n      return rating.charAt(0).toUpperCase() + rating.slice(1)\n    },\n\n    getAdequacyClass(status) {\n      const classes = {\n        'adequate': 'adequate',\n        'within_range': 'adequate',\n        'balanced': 'adequate',\n        'insufficient': 'insufficient',\n        'too_low': 'insufficient',\n        'excessive': 'excessive',\n        'too_high': 'excessive'\n      }\n      return classes[status] || 'neutral'\n    },\n\n    getRatingClass(rating) {\n      const classes = {\n        'excellent': 'excellent',\n        'very_good': 'very-good',\n        'good': 'good',\n        'fair': 'fair',\n        'poor': 'poor'\n      }\n      return classes[rating] || 'neutral'\n    },\n\n    getVarietyClass(variety) {\n      const classes = {\n        'excellent': 'excellent',\n        'very_good': 'very-good',\n        'good': 'good',\n        'fair': 'fair',\n        'poor': 'poor'\n      }\n      return classes[variety] || 'neutral'\n    },\n\n    downloadReport() {\n      // Generate a simple text report\n      let report = `AI Nutritional Analysis Report\\n`\n      report += `================================\\n\\n`\n      report += `Meal Plan: ${this.formatPlanType(this.mealPlan.plan_type)} Plan\\n`\n      report += `Date Range: ${this.formatDateRange(this.mealPlan.start_date, this.mealPlan.end_date)}\\n`\n      report += `Generated: ${new Date().toLocaleDateString()}\\n\\n`\n\n      report += `Overall Score: ${this.analysis.overall_score || 'N/A'}/100\\n\\n`\n\n      if (this.analysis.health_highlights && this.analysis.health_highlights.length) {\n        report += `Health Highlights:\\n`\n        this.analysis.health_highlights.forEach(highlight => {\n          report += ` ${highlight}\\n`\n        })\n        report += `\\n`\n      }\n\n      if (this.analysis.recommendations && this.analysis.recommendations.length) {\n        report += `AI Recommendations:\\n`\n        this.analysis.recommendations.forEach(rec => {\n          report += ` ${rec}\\n`\n        })\n        report += `\\n`\n      }\n\n      if (this.analysis.areas_for_improvement && this.analysis.areas_for_improvement.length) {\n        report += `Areas for Improvement:\\n`\n        this.analysis.areas_for_improvement.forEach(improvement => {\n          report += ` ${improvement}\\n`\n        })\n      }\n\n      // Create and download the file\n      const blob = new Blob([report], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `nutrition-analysis-${this.mealPlan.start_date}.txt`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$primary: #007bff;\n$success: #28a745;\n$warning: #ffc107;\n$danger: #dc3545;\n$info: #17a2b8;\n$gray: #6c757d;\n$gray-light: #adb5bd;\n$gray-lighter: #e9ecef;\n$white: #ffffff;\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.analysis-modal {\n  background: $white;\n  border-radius: 16px;\n  max-width: 800px;\n  width: 100%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 24px 32px;\n  border-bottom: 1px solid $gray-lighter;\n  background: linear-gradient(135deg, rgba($primary, 0.05), rgba($primary, 0.02));\n\n  .header-content {\n    h2 {\n      margin: 0 0 8px 0;\n      font-size: 1.6rem;\n      color: #333;\n      display: flex;\n      align-items: center;\n      gap: 12px;\n\n      i {\n        color: $primary;\n      }\n    }\n\n    p {\n      margin: 0;\n      color: $gray;\n      font-size: 1rem;\n    }\n  }\n\n  .close-btn {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 8px;\n    border-radius: 8px;\n    color: $gray;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: rgba($gray, 0.1);\n      color: #333;\n    }\n  }\n}\n\n.modal-body {\n  padding: 32px;\n}\n\n// Loading State\n.loading-state {\n  text-align: center;\n  padding: 60px 20px;\n\n  .loading-spinner {\n    width: 50px;\n    height: 50px;\n    border: 4px solid $gray-lighter;\n    border-left: 4px solid $primary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto 24px;\n  }\n\n  h3 {\n    margin: 0 0 12px 0;\n    color: #333;\n    font-size: 1.3rem;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1rem;\n  }\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n// Error State\n.error-state {\n  text-align: center;\n  padding: 60px 20px;\n\n  i {\n    font-size: 3rem;\n    color: $warning;\n    margin-bottom: 24px;\n    display: block;\n  }\n\n  h3 {\n    margin: 0 0 12px 0;\n    color: #333;\n    font-size: 1.3rem;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1rem;\n  }\n}\n\n// Analysis Results\n.analysis-results {\n  .analysis-section {\n    margin-bottom: 40px;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    h3 {\n      margin: 0 0 20px 0;\n      font-size: 1.2rem;\n      color: #333;\n      display: flex;\n      align-items: center;\n      gap: 12px;\n      padding-bottom: 12px;\n      border-bottom: 2px solid $gray-lighter;\n\n      i {\n        color: $primary;\n        font-size: 1.1rem;\n      }\n    }\n  }\n}\n\n// Overall Score Section\n.overall-score-section {\n  display: flex;\n  align-items: center;\n  gap: 32px;\n  margin-bottom: 40px;\n  padding: 24px;\n  background: linear-gradient(135deg, rgba($success, 0.05), rgba($primary, 0.05));\n  border-radius: 12px;\n  border: 1px solid rgba($primary, 0.1);\n}\n\n.score-circle {\n  position: relative;\n  width: 120px;\n  height: 120px;\n  flex-shrink: 0;\n\n  .circular-progress {\n    width: 100%;\n    height: 100%;\n    transform: rotate(-90deg);\n\n    .circle-bg {\n      fill: none;\n      stroke: $gray-lighter;\n      stroke-width: 8;\n    }\n\n    .circle-progress {\n      fill: none;\n      stroke: $success;\n      stroke-width: 8;\n      stroke-linecap: round;\n      transition: stroke-dasharray 0.6s ease;\n    }\n  }\n\n  .score-content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n\n    .score-number {\n      display: block;\n      font-size: 2rem;\n      font-weight: 700;\n      color: $success;\n      line-height: 1;\n    }\n\n    .score-label {\n      display: block;\n      font-size: 0.8rem;\n      color: $gray;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      margin-top: 4px;\n    }\n  }\n}\n\n.score-description {\n  flex: 1;\n\n  h3 {\n    margin: 0 0 12px 0;\n    font-size: 1.3rem;\n    color: #333;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1rem;\n    line-height: 1.5;\n  }\n}\n\n// Nutritional Adequacy\n.adequacy-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 20px;\n}\n\n.nutrient-card {\n  padding: 20px;\n  border-radius: 12px;\n  border: 2px solid;\n  transition: all 0.3s ease;\n\n  &.adequate {\n    border-color: rgba($success, 0.3);\n    background: rgba($success, 0.05);\n  }\n\n  &.insufficient {\n    border-color: rgba($warning, 0.3);\n    background: rgba($warning, 0.05);\n  }\n\n  &.excessive {\n    border-color: rgba($danger, 0.3);\n    background: rgba($danger, 0.05);\n  }\n\n  &.neutral {\n    border-color: $gray-lighter;\n    background: rgba($gray, 0.03);\n  }\n\n  .nutrient-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n\n    .nutrient-name {\n      font-weight: 600;\n      color: #333;\n      font-size: 1rem;\n    }\n\n    .nutrient-status {\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 0.8rem;\n      font-weight: 500;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n\n      .adequate & {\n        background: $success;\n        color: white;\n      }\n\n      .insufficient & {\n        background: $warning;\n        color: white;\n      }\n\n      .excessive & {\n        background: $danger;\n        color: white;\n      }\n\n      .neutral & {\n        background: $gray;\n        color: white;\n      }\n    }\n  }\n\n  .nutrient-progress {\n    .progress-bar {\n      height: 8px;\n      background: rgba(0, 0, 0, 0.1);\n      border-radius: 4px;\n      overflow: hidden;\n      margin-bottom: 8px;\n\n      .progress-fill {\n        height: 100%;\n        border-radius: 4px;\n        transition: width 0.6s ease;\n\n        .adequate & { background: $success; }\n        .insufficient & { background: $warning; }\n        .excessive & { background: $danger; }\n        .neutral & { background: $gray; }\n      }\n    }\n\n    .percentage {\n      font-size: 0.9rem;\n      color: $gray;\n      font-weight: 500;\n    }\n  }\n}\n\n// Meal Distribution\n.distribution-chart {\n  .distribution-bars {\n    margin-bottom: 20px;\n  }\n\n  .meal-bar {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    margin-bottom: 12px;\n\n    .meal-label {\n      min-width: 80px;\n      font-weight: 500;\n      color: #333;\n      font-size: 0.9rem;\n    }\n\n    .bar {\n      flex: 1;\n      height: 24px;\n      background: $gray-lighter;\n      border-radius: 12px;\n      overflow: hidden;\n      position: relative;\n\n      .bar-fill {\n        height: 100%;\n        border-radius: 12px;\n        transition: width 0.6s ease;\n\n        &.breakfast { background: linear-gradient(90deg, #FF6B6B, #FF8E53); }\n        &.lunch { background: linear-gradient(90deg, #4ECDC4, #44A08D); }\n        &.dinner { background: linear-gradient(90deg, #A8EDEA, #FED6E3); }\n      }\n    }\n\n    .percentage {\n      min-width: 50px;\n      text-align: right;\n      font-weight: 500;\n      color: #333;\n      font-size: 0.9rem;\n    }\n  }\n\n  .distribution-rating {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 16px;\n    background: rgba($primary, 0.05);\n    border-radius: 8px;\n\n    .rating-label {\n      font-weight: 500;\n      color: #333;\n    }\n\n    .rating-value {\n      padding: 4px 12px;\n      border-radius: 6px;\n      font-weight: 600;\n      font-size: 0.9rem;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n\n      &.excellent { background: $success; color: white; }\n      &.very-good { background: #20c997; color: white; }\n      &.good { background: $info; color: white; }\n      &.fair { background: $warning; color: white; }\n      &.poor { background: $danger; color: white; }\n      &.neutral { background: $gray; color: white; }\n    }\n  }\n}\n\n// Variety Analysis\n.variety-metrics {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n}\n\n.variety-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 16px;\n  background: rgba($primary, 0.03);\n  border-radius: 8px;\n  border: 1px solid rgba($primary, 0.1);\n  flex: 1;\n  min-width: 200px;\n\n  .metric-label {\n    font-weight: 500;\n    color: #333;\n  }\n\n  .metric-badge {\n    padding: 4px 12px;\n    border-radius: 6px;\n    font-weight: 600;\n    font-size: 0.8rem;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n\n    &.excellent { background: $success; color: white; }\n    &.very-good { background: #20c997; color: white; }\n    &.good { background: $info; color: white; }\n    &.fair { background: $warning; color: white; }\n    &.poor { background: $danger; color: white; }\n    &.neutral { background: $gray; color: white; }\n  }\n}\n\n// Lists\n.highlights-list, .recommendations-list, .improvements-list {\n  .highlight-item, .recommendation-item, .improvement-item {\n    display: flex;\n    align-items: flex-start;\n    gap: 12px;\n    padding: 12px 16px;\n    margin-bottom: 8px;\n    border-radius: 8px;\n    transition: background-color 0.2s ease;\n\n    &:hover {\n      background: rgba($primary, 0.03);\n    }\n\n    i {\n      margin-top: 2px;\n      flex-shrink: 0;\n    }\n\n    span {\n      color: #333;\n      line-height: 1.5;\n    }\n  }\n}\n\n.highlights-list .highlight-item i {\n  color: $success;\n}\n\n.recommendations-list .recommendation-item i {\n  color: $primary;\n}\n\n.improvements-list .improvement-item i {\n  color: $warning;\n}\n\n// Modal Footer\n.modal-footer {\n  display: flex;\n  justify-content: space-between;\n  gap: 16px;\n  padding: 24px 32px;\n  border-top: 1px solid $gray-lighter;\n  background: rgba($gray, 0.02);\n\n  .btn {\n    padding: 12px 24px;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    font-weight: 500;\n    font-size: 0.95rem;\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n\n    &.btn-secondary {\n      background: $gray-lighter;\n      color: #333;\n\n      &:hover {\n        background: darken($gray-lighter, 10%);\n      }\n    }\n\n    &.btn-primary {\n      background: $primary;\n      color: white;\n\n      &:hover:not(:disabled) {\n        background: darken($primary, 10%);\n        transform: translateY(-1px);\n      }\n\n      &:disabled {\n        opacity: 0.6;\n        cursor: not-allowed;\n      }\n    }\n\n    i {\n      font-size: 0.9rem;\n    }\n  }\n}\n\n// Responsive Design\n@media (max-width: 768px) {\n  .modal-overlay {\n    padding: 10px;\n  }\n\n  .analysis-modal {\n    max-height: 95vh;\n  }\n\n  .modal-header {\n    padding: 20px 24px;\n\n    .header-content h2 {\n      font-size: 1.4rem;\n    }\n  }\n\n  .modal-body {\n    padding: 24px 20px;\n  }\n\n  .overall-score-section {\n    flex-direction: column;\n    text-align: center;\n    gap: 20px;\n  }\n\n  .adequacy-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .variety-metrics {\n    flex-direction: column;\n  }\n\n  .variety-item {\n    min-width: auto;\n  }\n\n  .modal-footer {\n    padding: 20px 24px;\n    flex-direction: column;\n\n    .btn {\n      width: 100%;\n      justify-content: center;\n    }\n  }\n}\n</style>","import { render } from \"./NutritionalAnalysisModal.vue?vue&type=template&id=213abc86&scoped=true\"\nimport script from \"./NutritionalAnalysisModal.vue?vue&type=script&lang=js\"\nexport * from \"./NutritionalAnalysisModal.vue?vue&type=script&lang=js\"\n\nimport \"./NutritionalAnalysisModal.vue?vue&type=style&index=0&id=213abc86&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-213abc86\"]])\n\nexport default __exports__","<template>\n  <div class=\"modal fade show\" style=\"display: block\" tabindex=\"-1\" role=\"dialog\" aria-labelledby=\"alternativesModalLabel\" aria-modal=\"true\">\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content\">\n        <div class=\"modal-header\">\n          <h5 class=\"modal-title\" id=\"alternativesModalLabel\">\n            <i class=\"fas fa-exchange-alt\"></i>\n            Recipe Alternatives for {{ formatMealType(mealType) }}\n            <span v-if=\"day\" class=\"text-muted\">- {{ formatDate(day) }}</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close\" @click=\"$emit('close')\" aria-label=\"Close\"></button>\n        </div>\n        \n        <div class=\"modal-body\">\n          <!-- Options Toggle -->\n          <div class=\"alternatives-options mb-4\">\n            <div class=\"row\">\n              <div class=\"col-md-6\">\n                <div class=\"form-check form-switch\">\n                  <input \n                    class=\"form-check-input\" \n                    type=\"checkbox\" \n                    id=\"includeUserRecipes\" \n                    v-model=\"includeUserRecipes\"\n                    @change=\"loadAlternatives\"\n                  >\n                  <label class=\"form-check-label\" for=\"includeUserRecipes\">\n                    <i class=\"fas fa-heart text-danger\"></i>\n                    Include My Saved Recipes\n                  </label>\n                </div>\n              </div>\n              <div class=\"col-md-6\">\n                <div class=\"form-group\">\n                  <label for=\"alternativeCount\" class=\"form-label\">Number of alternatives:</label>\n                  <select \n                    class=\"form-select form-select-sm\" \n                    id=\"alternativeCount\" \n                    v-model=\"alternativeCount\"\n                    @change=\"loadAlternatives\"\n                    style=\"width: auto; display: inline-block;\"\n                  >\n                    <option value=\"3\">3</option>\n                    <option value=\"5\">5</option>\n                    <option value=\"8\">8</option>\n                    <option value=\"10\">10</option>\n                  </select>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Loading State -->\n          <div v-if=\"loading\" class=\"text-center py-5\">\n            <div class=\"spinner-border text-primary\" role=\"status\">\n              <span class=\"visually-hidden\">Loading alternatives...</span>\n            </div>\n            <p class=\"mt-3 text-muted\">Finding the perfect alternatives for you...</p>\n          </div>\n\n          <!-- Error State -->\n          <div v-else-if=\"error\" class=\"alert alert-danger\" role=\"alert\">\n            <i class=\"fas fa-exclamation-triangle\"></i>\n            {{ error }}\n            <button class=\"btn btn-sm btn-outline-danger ms-2\" @click=\"loadAlternatives\">\n              <i class=\"fas fa-redo\"></i> Retry\n            </button>\n          </div>\n\n          <!-- Alternatives Grid -->\n          <div v-else-if=\"alternatives.length > 0\" class=\"alternatives-grid\">\n            <!-- Summary -->\n            <div class=\"alternatives-summary mb-3\">\n              <div class=\"row\">\n                <div class=\"col-md-8\">\n                  <p class=\"mb-1\">\n                    <strong>{{ alternatives.length }}</strong> alternatives found\n                    <span v-if=\"userRecipeCount > 0\" class=\"badge bg-danger ms-2\">\n                      <i class=\"fas fa-heart\"></i> {{ userRecipeCount }} from your recipes\n                    </span>\n                    <span v-if=\"externalRecipeCount > 0\" class=\"badge bg-primary ms-1\">\n                      <i class=\"fas fa-globe\"></i> {{ externalRecipeCount }} suggestions\n                    </span>\n                  </p>\n                </div>\n                <div class=\"col-md-4 text-end\">\n                  <small class=\"text-muted\">\n                    <i class=\"fas fa-info-circle\"></i>\n                    Click any recipe to replace your current meal\n                  </small>\n                </div>\n              </div>\n            </div>\n\n            <!-- Recipe Cards -->\n            <div class=\"row\">\n              <div v-for=\"recipe in alternatives\" :key=\"recipe.id\" class=\"col-md-6 col-lg-4 mb-4\">\n                <div \n                  class=\"recipe-alternative-card card h-100\"\n                  :class=\"{ 'user-recipe': recipe.is_user_recipe }\"\n                  @click=\"selectAlternative(recipe)\"\n                  style=\"cursor: pointer;\"\n                >\n                  <!-- Recipe Source Badge -->\n                  <div class=\"recipe-source-badge\">\n                    <span v-if=\"recipe.is_user_recipe\" class=\"badge bg-danger\">\n                      <i class=\"fas fa-heart\"></i> My Recipe\n                    </span>\n                    <span v-else class=\"badge bg-primary\">\n                      <i class=\"fas fa-globe\"></i> Suggestion\n                    </span>\n                  </div>\n\n                  <!-- Recipe Image -->\n                  <div class=\"recipe-image-container\">\n                    <img \n                      :src=\"recipe.image || '/api/placeholder/300/200'\" \n                      class=\"card-img-top recipe-image\"\n                      :alt=\"recipe.title\"\n                      @error=\"handleImageError\"\n                    >\n                    <div class=\"recipe-overlay\">\n                      <button class=\"btn btn-primary btn-sm\">\n                        <i class=\"fas fa-exchange-alt\"></i> Use This Recipe\n                      </button>\n                    </div>\n                  </div>\n\n                  <div class=\"card-body\">\n                    <h6 class=\"card-title\">{{ recipe.title }}</h6>\n                    \n                    <!-- Recipe Info -->\n                    <div class=\"recipe-info mb-2\">\n                      <small class=\"text-muted d-flex justify-content-between\">\n                        <span>\n                          <i class=\"fas fa-clock\"></i> {{ recipe.readyInMinutes || 30 }}min\n                        </span>\n                        <span>\n                          <i class=\"fas fa-users\"></i> {{ recipe.servings || 1 }}\n                        </span>\n                        <span v-if=\"recipe.rating\">\n                          <i class=\"fas fa-star text-warning\"></i> {{ recipe.rating.toFixed(1) }}\n                        </span>\n                      </small>\n                    </div>\n\n                    <!-- Recipe Summary -->\n                    <p class=\"card-text small\">\n                      {{ truncateSummary(recipe.summary) }}\n                    </p>\n\n                    <!-- Nutrition Preview (if available) -->\n                    <div v-if=\"recipe.nutrition && Object.keys(recipe.nutrition).length > 0\" class=\"nutrition-preview\">\n                      <small class=\"text-muted\">\n                        <i class=\"fas fa-chart-bar\"></i> Nutrition per serving\n                      </small>\n                      <div class=\"nutrition-mini d-flex justify-content-between mt-1\">\n                        <span v-if=\"recipe.nutrition.calories\">\n                          {{ Math.round(recipe.nutrition.calories) }}cal\n                        </span>\n                        <span v-if=\"recipe.nutrition.protein\">\n                          {{ Math.round(recipe.nutrition.protein) }}g protein\n                        </span>\n                        <span v-if=\"recipe.nutrition.carbs\">\n                          {{ Math.round(recipe.nutrition.carbs) }}g carbs\n                        </span>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- No Alternatives Found -->\n          <div v-else class=\"text-center py-5\">\n            <i class=\"fas fa-search fa-3x text-muted mb-3\"></i>\n            <h5 class=\"text-muted\">No alternatives found</h5>\n            <p class=\"text-muted\">\n              <span v-if=\"!includeUserRecipes\">\n                Try enabling \"Include My Saved Recipes\" or save some recipes first.\n              </span>\n              <span v-else>\n                No matching recipes found for {{ formatMealType(mealType) }}.\n              </span>\n            </p>\n            <button class=\"btn btn-outline-primary\" @click=\"loadAlternatives\">\n              <i class=\"fas fa-redo\"></i> Try Again\n            </button>\n          </div>\n        </div>\n\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-secondary\" @click=\"$emit('close')\">\n            <i class=\"fas fa-times\"></i> Cancel\n          </button>\n          <button \n            type=\"button\" \n            class=\"btn btn-outline-primary\" \n            @click=\"loadAlternatives\"\n            :disabled=\"loading\"\n          >\n            <i class=\"fas fa-redo\"></i> Refresh Alternatives\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mealPlanningApi } from '../../services/mealPlanningApi'\n\nexport default {\n  name: 'AlternativesModal',\n  \n  props: {\n    planId: {\n      type: [String, Number],\n      required: true\n    },\n    day: {\n      type: String,\n      required: true\n    },\n    mealType: {\n      type: String,\n      required: true\n    }\n  },\n\n  emits: ['close', 'alternative-selected'],\n\n  data() {\n    return {\n      loading: false,\n      error: null,\n      alternatives: [],\n      includeUserRecipes: true,\n      alternativeCount: 5,\n      selectedRecipe: null\n    }\n  },\n\n  computed: {\n    userRecipeCount() {\n      return this.alternatives.filter(alt => alt.is_user_recipe).length\n    },\n    \n    externalRecipeCount() {\n      return this.alternatives.filter(alt => !alt.is_user_recipe).length\n    }\n  },\n\n  mounted() {\n    this.loadAlternatives()\n    // Add escape key listener\n    document.addEventListener('keydown', this.handleEscapeKey)\n  },\n\n  beforeUnmount() {\n    // Remove escape key listener\n    document.removeEventListener('keydown', this.handleEscapeKey)\n  },\n\n  methods: {\n    async loadAlternatives() {\n      this.loading = true\n      this.error = null\n      \n      try {\n        console.log('Loading alternatives:', {\n          planId: this.planId,\n          day: this.day,\n          mealType: this.mealType,\n          count: this.alternativeCount,\n          includeUserRecipes: this.includeUserRecipes\n        })\n        \n        const response = await mealPlanningApi.getMealAlternatives(\n          this.planId,\n          this.day,\n          this.mealType,\n          this.alternativeCount,\n          this.includeUserRecipes\n        )\n        \n        console.log('Alternatives response:', response.data)\n        \n        // Handle both old and new API response formats\n        if (response.data && response.data.alternatives) {\n          this.alternatives = response.data.alternatives\n        } else if (Array.isArray(response.data)) {\n          this.alternatives = response.data\n        } else {\n          this.alternatives = []\n        }\n        \n        console.log(`Loaded ${this.alternatives.length} alternatives`)\n        \n      } catch (error) {\n        console.error('Error loading alternatives:', error)\n        this.error = error.response?.data?.error || error.message || 'Failed to load alternatives'\n        this.alternatives = []\n      } finally {\n        this.loading = false\n      }\n    },\n\n    async selectAlternative(recipe) {\n      try {\n        console.log('Selecting alternative:', recipe)\n        \n        // Emit the selection event with recipe data\n        this.$emit('alternative-selected', {\n          day: this.day,\n          mealType: this.mealType,\n          recipe: recipe\n        })\n        \n        // Close the modal\n        this.$emit('close')\n        \n      } catch (error) {\n        console.error('Error selecting alternative:', error)\n        this.error = 'Failed to select alternative recipe'\n      }\n    },\n\n    handleEscapeKey(event) {\n      if (event.key === 'Escape') {\n        this.$emit('close')\n      }\n    },\n\n    formatMealType(mealType) {\n      if (!mealType) return ''\n      return mealType.charAt(0).toUpperCase() + mealType.slice(1).toLowerCase()\n    },\n\n    formatDate(dateStr) {\n      if (!dateStr) return ''\n      try {\n        const date = new Date(dateStr)\n        return date.toLocaleDateString('en-US', { \n          weekday: 'long', \n          month: 'short', \n          day: 'numeric' \n        })\n      } catch (e) {\n        return dateStr\n      }\n    },\n\n    truncateSummary(summary) {\n      if (!summary) return 'No description available.'\n      \n      // Remove HTML tags\n      const cleanSummary = summary.replace(/<[^>]*>/g, '')\n      \n      if (cleanSummary.length <= 120) {\n        return cleanSummary\n      }\n      \n      return cleanSummary.substring(0, 120) + '...'\n    },\n\n    handleImageError(event) {\n      event.target.src = '/api/placeholder/300/200'\n    }\n  }\n}\n</script>\n\n<style scoped>\n.alternatives-modal {\n  z-index: 1055;\n}\n\n.alternatives-grid {\n  max-height: 70vh;\n  overflow-y: auto;\n}\n\n.recipe-alternative-card {\n  transition: all 0.3s ease;\n  border: 2px solid transparent;\n  position: relative;\n}\n\n.recipe-alternative-card:hover {\n  transform: translateY(-5px);\n  box-shadow: 0 8px 25px rgba(0,0,0,0.15);\n  border-color: #007bff;\n}\n\n.recipe-alternative-card.user-recipe {\n  border-left: 4px solid #dc3545;\n}\n\n.recipe-alternative-card.user-recipe:hover {\n  border-color: #dc3545;\n}\n\n.recipe-source-badge {\n  position: absolute;\n  top: 10px;\n  right: 10px;\n  z-index: 1;\n}\n\n.recipe-image-container {\n  position: relative;\n  overflow: hidden;\n}\n\n.recipe-image {\n  height: 200px;\n  object-fit: cover;\n  transition: transform 0.3s ease;\n}\n\n.recipe-alternative-card:hover .recipe-image {\n  transform: scale(1.05);\n}\n\n.recipe-overlay {\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: rgba(0, 123, 255, 0.9);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  opacity: 0;\n  transition: opacity 0.3s ease;\n}\n\n.recipe-alternative-card:hover .recipe-overlay {\n  opacity: 1;\n}\n\n.recipe-info {\n  font-size: 0.85rem;\n}\n\n.nutrition-preview {\n  background: #f8f9fa;\n  padding: 0.5rem;\n  border-radius: 0.25rem;\n  margin-top: 0.5rem;\n}\n\n.nutrition-mini {\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n.alternatives-summary {\n  background: #f8f9fa;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  border-left: 4px solid #007bff;\n}\n\n.alternatives-options {\n  background: #fff;\n  padding: 1rem;\n  border-radius: 0.5rem;\n  border: 1px solid #dee2e6;\n}\n\n.form-check-label {\n  font-weight: 500;\n}\n\n.form-check-label i {\n  margin-right: 0.5rem;\n}\n\n/* Modal backdrop */\n.modal {\n  background: rgba(0, 0, 0, 0.5);\n}\n\n/* Responsive adjustments */\n@media (max-width: 768px) {\n  .modal-dialog {\n    margin: 0.5rem;\n  }\n  \n  .col-md-6 {\n    margin-bottom: 1rem;\n  }\n  \n  .alternatives-grid {\n    max-height: 60vh;\n  }\n  \n  .recipe-image {\n    height: 150px;\n  }\n}\n\n/* Loading animation */\n.spinner-border {\n  width: 3rem;\n  height: 3rem;\n}\n\n/* Badge styles */\n.badge {\n  font-size: 0.75rem;\n  font-weight: 500;\n}\n\n.badge i {\n  margin-right: 0.25rem;\n}\n</style>","import { render } from \"./AlternativesModal.vue?vue&type=template&id=7a0126ee&scoped=true\"\nimport script from \"./AlternativesModal.vue?vue&type=script&lang=js\"\nexport * from \"./AlternativesModal.vue?vue&type=script&lang=js\"\n\nimport \"./AlternativesModal.vue?vue&type=style&index=0&id=7a0126ee&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-7a0126ee\"]])\n\nexport default __exports__","import { render } from \"./MealPlanManager.vue?vue&type=template&id=0338268e&scoped=true\"\nimport script from \"./MealPlanManager.vue?vue&type=script&lang=js\"\nexport * from \"./MealPlanManager.vue?vue&type=script&lang=js\"\n\nimport \"./MealPlanManager.vue?vue&type=style&index=0&id=0338268e&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-0338268e\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/ComingSoonCard.vue -->\n<template>\n  <div class=\"coming-soon-card\">\n    <div class=\"card-content\">\n      <div class=\"icon-container\">\n        <i :class=\"icon\"></i>\n      </div>\n\n      <h2>{{ title }}</h2>\n      <p>{{ description }}</p>\n\n      <div class=\"features-preview\">\n        <h3>Coming Features:</h3>\n        <ul>\n          <li v-for=\"feature in features\" :key=\"feature\">\n            <i class=\"fas fa-check-circle\"></i>\n            {{ feature }}\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"progress-indicator\">\n        <div class=\"progress-bar\">\n          <div class=\"progress-fill\" :style=\"{ width: progress + '%' }\"></div>\n        </div>\n        <span class=\"progress-text\">{{ progress }}% Complete</span>\n      </div>\n\n      <div class=\"cta-section\">\n        <p class=\"cta-text\">Want to be notified when this feature launches?</p>\n        <button class=\"btn btn-primary\" @click=\"subscribeToUpdates\">\n          <i class=\"fas fa-bell\"></i>\n          Notify Me\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ComingSoonCard',\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    icon: {\n      type: String,\n      default: 'fas fa-rocket'\n    },\n    progress: {\n      type: Number,\n      default: 75\n    }\n  },\n  computed: {\n    features() {\n      // Different features based on the title\n      const featureMap = {\n        'Meal Plans': [\n          'AI-generated daily meal plans',\n          'Weekly meal planning',\n          'Personalized recipe suggestions',\n          'Automatic shopping lists',\n          'Nutritional balance optimization'\n        ],\n        'Nutrition Analytics': [\n          'Daily nutrition tracking',\n          'Macro breakdown charts',\n          'Progress towards goals',\n          'Trend analysis',\n          'AI-powered insights'\n        ]\n      }\n\n      return featureMap[this.title] || [\n        'Personalized recommendations',\n        'Smart AI integration',\n        'Beautiful visualizations',\n        'Easy-to-use interface'\n      ]\n    }\n  },\n  methods: {\n    subscribeToUpdates() {\n      // In a real app, this would open a modal or send an API request\n      alert('Thanks for your interest! We\\'ll notify you when this feature is ready.')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.coming-soon-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.card-content {\n  padding: $spacing-8;\n  text-align: center;\n}\n\n.icon-container {\n  width: 80px;\n  height: 80px;\n  background: linear-gradient(135deg, $primary, lighten($primary, 20%));\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto $spacing-6;\n  box-shadow: $shadow-lg;\n\n  i {\n    font-size: 2rem;\n    color: $white;\n  }\n}\n\nh2 {\n  margin: 0 0 $spacing-3 0;\n  color: $primary-dark;\n  font-size: 2rem;\n  font-weight: 600;\n}\n\np {\n  color: $gray;\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin: 0 0 $spacing-6 0;\n}\n\n.features-preview {\n  text-align: left;\n  margin-bottom: $spacing-6;\n  padding: $spacing-4;\n  background: rgba($primary, 0.05);\n  border-radius: $border-radius;\n  border-left: 4px solid $primary;\n\n  h3 {\n    margin: 0 0 $spacing-3 0;\n    color: $primary-dark;\n    font-size: 1.1rem;\n    font-weight: 600;\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  li {\n    display: flex;\n    align-items: center;\n    gap: $spacing-2;\n    padding: $spacing-1 0;\n    color: $primary-dark;\n\n    i {\n      color: $success;\n      font-size: 0.9rem;\n    }\n  }\n}\n\n.progress-indicator {\n  margin-bottom: $spacing-6;\n\n  .progress-bar {\n    width: 100%;\n    height: 8px;\n    background: $gray-lighter;\n    border-radius: 4px;\n    overflow: hidden;\n    margin-bottom: $spacing-2;\n  }\n\n  .progress-fill {\n    height: 100%;\n    background: linear-gradient(90deg, $primary, lighten($primary, 15%));\n    border-radius: 4px;\n    transition: width 0.5s ease;\n  }\n\n  .progress-text {\n    font-size: 0.9rem;\n    color: $gray;\n    font-weight: 500;\n  }\n}\n\n.cta-section {\n  padding-top: $spacing-4;\n  border-top: 1px solid $gray-lighter;\n\n  .cta-text {\n    margin: 0 0 $spacing-4 0;\n    color: $primary-dark;\n    font-weight: 500;\n  }\n\n  .btn {\n    display: inline-flex;\n    align-items: center;\n    gap: $spacing-2;\n\n    i {\n      font-size: 0.9rem;\n    }\n  }\n}\n\n// Animation for the card\n.coming-soon-card {\n  animation: fadeInUp 0.6s ease-out;\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>","import { render } from \"./ComingSoonCard.vue?vue&type=template&id=2b85b24d&scoped=true\"\nimport script from \"./ComingSoonCard.vue?vue&type=script&lang=js\"\nexport * from \"./ComingSoonCard.vue?vue&type=script&lang=js\"\n\nimport \"./ComingSoonCard.vue?vue&type=style&index=0&id=2b85b24d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b85b24d\"]])\n\nexport default __exports__","import { render } from \"./MealPlanningDashboard.vue?vue&type=template&id=23e34773&scoped=true\"\nimport script from \"./MealPlanningDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./MealPlanningDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./MealPlanningDashboard.vue?vue&type=style&index=0&id=23e34773&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23e34773\"]])\n\nexport default __exports__","// src/services/mealPlanningApi.js\nimport axios from 'axios';\nimport AuthService from './auth.service';\nimport store from '../store';\n\nconst API_BASE_URL = (process.env.VUE_APP_API_URL || 'https://wellness-app-tx2c.onrender.com/api').replace(/\\/+$/, '').replace('/api', '') + '/meal-planning/api';\n\n// Create axios instance with base configuration - MATCHING your http.service.js pattern\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n  }\n});\n\n// Add request interceptor for authentication - SAME as your http.service.js\napi.interceptors.request.use(\n  config => {\n    const token = getAccessToken();\n    if (token) {\n      config.headers['Authorization'] = 'Bearer ' + token;\n    }\n    return config;\n  },\n  error => {\n    console.error('Meal Planning API request error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Add response interceptor for error handling - SAME as your http.service.js\napi.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      try {\n        const response = await AuthService.refreshToken();\n        if (response?.access) {\n          originalRequest.headers['Authorization'] = 'Bearer ' + response.access;\n\n          if (store?.state?.auth?.status?.loggedIn) {\n            await store.dispatch('auth/refreshToken', response.access);\n          }\n          return axios(originalRequest);\n        }\n      } catch (refreshError) {\n        AuthService.logout();\n\n        if (store?.state?.auth?.status?.loggedIn) {\n          store.commit('auth/logout');\n        }\n        setTimeout(() => {\n          window.location.href = '/login';\n        }, 100);\n        return Promise.reject(refreshError);\n      }\n    }\n    if (error.response) {\n      console.error(\n        `Meal Planning API Error: ${error.response.status} ${error.response.statusText}`,\n        error.response.data\n      );\n    } else {\n      console.error('Meal Planning API Error:', error.message);\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n/**\n * Get the current access token from store or storage - SAME as your http.service.js\n * @returns {string|null} Access token or null\n */\nfunction getAccessToken() {\n  // Try to get token from store\n  if (store?.state?.auth?.user?.access) {\n    return store.state.auth.user.access;\n  }\n  const user = AuthService.getCurrentUser();\n  return user?.access || null;\n}\n\nexport const mealPlanningApi = {\n  // Expose the api instance for advanced usage\n  api,\n\n  // Recipe endpoints\n  getRecipes(params = {}) {\n    // Clean up parameters and add debugging\n    const cleanParams = {}\n    \n    // Basic pagination\n    if (params.page) cleanParams.page = params.page\n    if (params.page_size) cleanParams.page_size = params.page_size\n    \n    // Search parameters\n    if (params.search && params.search.trim()) {\n      cleanParams.search = params.search.trim()\n    }\n    \n    // Filter parameters\n    if (params.cuisine && params.cuisine.trim()) {\n      cleanParams.cuisine = params.cuisine.trim()\n    }\n    \n    if (params.meal_type && params.meal_type.trim()) {\n      cleanParams.meal_type = params.meal_type.trim()\n    }\n    \n    if (params.dietary_preferences && params.dietary_preferences.trim()) {\n      cleanParams.dietary_preferences = params.dietary_preferences.trim()\n    }\n    \n    if (params.max_calories && params.max_calories.trim()) {\n      cleanParams.max_calories = parseInt(params.max_calories.trim())\n    }\n    \n    if (process.env.NODE_ENV === 'development') {\n      console.log(' API request: /recipes/', cleanParams)\n    }\n    return api.get('/recipes/', { params: cleanParams })\n  },\n\n  getRecipe(id) {\n    return api.get(`/recipes/${id}/`)\n  },\n\n  searchRecipes(searchData) {\n    return api.post('/recipes/search/', searchData)\n  },\n\n  rateRecipe(recipeId, rating, review = '') {\n    return api.post(`/recipes/${recipeId}/rate/`, { rating, review })\n  },\n\n  saveRecipeToMyCollection(recipeId) {\n    return api.post(`/recipes/${recipeId}/save_to_my_recipes/`)\n  },\n\n  saveRecipeFromMealPlan(recipeData) {\n    return api.post(`/recipes/save_from_meal_plan/`, recipeData)\n  },\n\n  removeRecipeFromMyCollection(recipeId) {\n    return api.delete(`/recipes/${recipeId}/`)\n  },\n\n  getMyRecipes(params = {}) {\n    // Get only user's saved recipes\n    const cleanParams = { ...params, my_recipes: 'true' }\n    \n    // Basic pagination\n    if (!cleanParams.page) cleanParams.page = 1\n    if (!cleanParams.page_size) cleanParams.page_size = 100\n    \n    // Search parameters\n    if (cleanParams.search && cleanParams.search.trim()) {\n      cleanParams.search = cleanParams.search.trim()\n    }\n    \n    // Filter parameters\n    if (cleanParams.cuisine && cleanParams.cuisine.trim()) {\n      cleanParams.cuisine = cleanParams.cuisine.trim()\n    }\n    \n    if (cleanParams.meal_type && cleanParams.meal_type.trim()) {\n      cleanParams.meal_type = cleanParams.meal_type.trim()\n    }\n    \n    if (process.env.NODE_ENV === 'development') {\n      console.log(' API request: /recipes/ (my recipes only)', cleanParams)\n    }\n    return api.get('/recipes/', { params: cleanParams })\n  },\n\n  // Enhanced recipe methods for AI features (with fallbacks)\n  async generateRecipe(recipeParams) {\n    try {\n      return await api.post('/recipes/generate/', recipeParams)\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Recipe generation endpoint not implemented yet')\n        return Promise.reject(new Error('Recipe generation feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  async getIngredientSubstitutions(recipeId, ingredientName, options = {}) {\n    try {\n      return await api.post(`/recipes/${recipeId}/substitute-ingredient/`, {\n        ingredient_name: ingredientName,\n        ...options\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Ingredient substitution endpoint not implemented yet')\n        return Promise.reject(new Error('Ingredient substitution feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  async scaleRecipe(recipeId, newServings) {\n    try {\n      return await api.post(`/recipes/${recipeId}/scale/`, { servings: newServings })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Recipe scaling endpoint not implemented yet')\n        return Promise.reject(new Error('Recipe scaling feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  // Ingredient endpoints\n  getIngredients(params = {}) {\n    return api.get('/ingredients/', { params })\n  },\n\n  getIngredient(id) {\n    return api.get(`/ingredients/${id}/`)\n  },\n\n  // Nutrition Profile endpoints with improved error handling\n  async getNutritionProfile() {\n    try {\n      return await api.get('/nutrition-profile/current/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return a default profile structure if none exists\n        return {\n          data: {\n            calorie_target: 2000,\n            protein_target: 100,\n            carb_target: 250,\n            fat_target: 67,\n            dietary_preferences: [],\n            allergies_intolerances: [],\n            cuisine_preferences: []\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  async updateNutritionProfile(profileData) {\n    try {\n      // Try PATCH first (most RESTful)\n      return await api.patch('/nutrition-profile/current/', profileData)\n    } catch (error) {\n      if (error.response?.status === 405) {\n        // If PATCH not allowed, try PUT\n        try {\n          return await api.put('/nutrition-profile/current/', profileData)\n        } catch (putError) {\n          if (putError.response?.status === 405) {\n            // If PUT also not allowed, try POST\n            return await api.post('/nutrition-profile/update_profile/', profileData)\n          }\n          throw putError\n        }\n      }\n      throw error\n    }\n  },\n\n  calculateNutritionTargets() {\n    return api.post('/nutrition-profile/calculate_targets/')\n  },\n\n  // AI-powered nutrition profile generation\n  async generateNutritionProfile(profileData) {\n    try {\n      return await api.post('/nutrition-profile/ai_generate/', profileData)\n    } catch (error) {\n      console.error('Error generating AI nutrition profile:', error)\n      throw error\n    }\n  },\n\n  // Enhanced Meal Plan endpoints with AI features and improved pagination handling\n  getMealPlans(params = {}) {\n    const cleanParams = {\n      page: params.page || 1,\n      page_size: params.page_size || 20,\n      ordering: params.ordering || '-created_at'\n    }\n    \n    // Add any filtering parameters\n    if (params.plan_type) cleanParams.plan_type = params.plan_type\n    if (params.is_active !== undefined) cleanParams.is_active = params.is_active\n    if (params.start_date) cleanParams.start_date = params.start_date\n    if (params.end_date) cleanParams.end_date = params.end_date\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log(' API request: /meal-plans/', cleanParams)\n    }\n    return api.get('/meal-plans/', { params: cleanParams })\n  },\n\n  getMealPlan(id) {\n    return api.get(`/meal-plans/${id}/`)\n  },\n\n  generateMealPlan(planData) {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(' Generating meal plan with data:', planData)\n    }\n    // Enhanced meal plan generation with AI features\n    return api.post('/meal-plans/generate/', planData)\n  },\n\n  deleteMealPlan(planId) {\n    if (process.env.NODE_ENV === 'development') {\n      console.log(' Deleting meal plan:', planId)\n    }\n    return api.delete(`/meal-plans/${planId}/`)\n  },\n\n  async regenerateMeal(planId, day, mealType) {\n    try {\n      console.log('Regenerating meal:', { planId, day, mealType })\n      // Updated regenerate meal endpoint\n      return await api.post(`/meal-plans/${planId}/regenerate_meal/`, {\n        day: day,\n        meal_type: mealType\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal regeneration endpoint not implemented yet')\n        return Promise.reject(new Error('Meal regeneration feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  // New AI-powered methods with fallbacks\n  async getMealAlternatives(planId, day, mealType, count = 3, includeUserRecipes = true) {\n    try {\n      console.log('Getting meal alternatives:', { planId, day, mealType, count, includeUserRecipes })\n      return await api.post(`/meal-plans/${planId}/get_alternatives/`, {\n        day: day,\n        meal_type: mealType,\n        count: count,\n        include_user_recipes: includeUserRecipes\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal alternatives endpoint not implemented yet')\n        return { data: [] }\n      }\n      throw error\n    }\n  },\n\n  async swapMeal(planId, day, mealType, newRecipe) {\n    try {\n      return await api.post(`/meal-plans/${planId}/swap_meal/`, {\n        day: day,\n        meal_type: mealType,\n        new_recipe: newRecipe\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal swap endpoint not implemented yet')\n        return Promise.reject(new Error('Meal swap feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  async analyzeMealPlan(planId) {\n    try {\n      console.log('Analyzing meal plan:', planId)\n      return await api.get(`/meal-plans/${planId}/analyze/`)\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal plan analysis endpoint not implemented yet')\n        // Return mock analysis data for development\n        return {\n          data: {\n            overall_score: 85,\n            nutritional_adequacy: {\n              calories: { status: 'adequate', percentage_of_target: 98 },\n              protein: { status: 'adequate', percentage_of_target: 105 },\n              carbs: { status: 'adequate', percentage_of_target: 92 },\n              fat: { status: 'adequate', percentage_of_target: 103 }\n            },\n            meal_distribution: {\n              breakfast_percentage: 25,\n              lunch_percentage: 35,\n              dinner_percentage: 40,\n              balance_rating: 'excellent'\n            },\n            variety_analysis: {\n              cuisine_diversity: 'good',\n              ingredient_variety: 'excellent',\n              cooking_method_diversity: 'good'\n            },\n            recommendations: [\n              'Excellent meal plan with well-balanced nutrition',\n              'Great variety of cuisines and cooking methods',\n              'Protein distribution is optimal throughout the day'\n            ],\n            health_highlights: [\n              'Well-balanced macronutrients',\n              'Good variety of nutrient-dense foods',\n              'Appropriate calorie distribution across meals'\n            ],\n            areas_for_improvement: [\n              'Consider adding more omega-3 rich foods',\n              'Could include more antioxidant-rich vegetables'\n            ]\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  generateShoppingList(planId, options = {}) {\n    return api.post(`/meal-plans/${planId}/generate_shopping_list/`, {\n      exclude_items: options.exclude_ingredients || [],\n      group_by_category: options.group_by_category !== false,\n      ...options\n    })\n  },\n\n  // Nutrition Log endpoints\n  getNutritionLogs(params = {}) {\n    return api.get('/nutrition-logs/', { params })\n  },\n\n  getNutritionLog(id) {\n    return api.get(`/nutrition-logs/${id}/`)\n  },\n\n  logNutrition(nutritionData) {\n    return api.post('/nutrition-logs/', nutritionData)\n  },\n\n  analyzeNutrition(analysisData) {\n    return api.post('/nutrition-logs/analyze/', analysisData)\n  },\n\n  getNutritionAnalytics(params = {}) {\n    return api.get('/nutrition-logs/analytics/', { params })\n  },\n\n  getDashboardData(params = {}) {\n    const cleanParams = {\n      days: params.days || 7,\n      ...params\n    }\n    return api.get('/nutrition-logs/dashboard_data/', { params: cleanParams })\n  },\n\n  // New AI insights and recommendations with fallbacks\n  async getNutritionInsights(params = {}) {\n    try {\n      return await api.get('/ai-insights/', { params })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('AI insights endpoint not implemented yet')\n        return { data: [] }\n      }\n      throw error\n    }\n  },\n\n  async getMealRecommendations(params = {}) {\n    try {\n      return await api.get('/recommendations/', { params })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal recommendations endpoint not implemented yet')\n        return { data: [] }\n      }\n      throw error\n    }\n  },\n\n  // Utility endpoints with fallbacks\n  async calculateNutrition(ingredients, servings) {\n    try {\n      return await api.post('/calculate-nutrition/', {\n        ingredients: ingredients,\n        servings: servings\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Nutrition calculation endpoint not implemented yet')\n        // Return mock calculation for development\n        return {\n          data: {\n            calories: 400,\n            protein: 25,\n            carbs: 45,\n            fat: 15\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  async validateDietaryRestrictions(ingredients, dietaryPreferences, allergies) {\n    try {\n      return await api.post('/validate-dietary/', {\n        ingredients: ingredients,\n        dietary_preferences: dietaryPreferences,\n        allergies: allergies\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Dietary validation endpoint not implemented yet')\n        return {\n          data: {\n            is_compliant: true,\n            violations: [],\n            warnings: []\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  async getDietaryPreferences() {\n    try {\n      return await api.get('/dietary-preferences/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return default dietary preferences matching your backend model\n        return {\n          data: [\n            'vegetarian', 'vegan', 'pescatarian', 'keto', 'paleo',\n            'mediterranean', 'dash', 'low_carb', 'low_fat', 'high_protein',\n            'intermittent_fasting', 'whole30', 'raw_food', 'gluten_free',\n            'dairy_free', 'flexitarian'\n          ]\n        }\n      }\n      throw error\n    }\n  },\n\n  async getAllergens() {\n    try {\n      return await api.get('/allergens/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return default allergens list matching your backend model\n        return {\n          data: [\n            'nuts', 'peanuts', 'dairy', 'gluten', 'eggs', 'fish',\n            'shellfish', 'soy', 'sesame', 'sulfites', 'nightshades',\n            'histamine'\n          ]\n        }\n      }\n      throw error\n    }\n  },\n\n  async getCuisines() {\n    try {\n      return await api.get('/cuisines/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return default cuisines list matching your backend model\n        return {\n          data: [\n            'italian', 'mexican', 'asian', 'indian', 'mediterranean',\n            'american', 'french', 'thai', 'japanese', 'chinese',\n            'greek', 'middle_eastern'\n          ]\n        }\n      }\n      throw error\n    }\n  },\n\n  // Spoonacular integration endpoints\n  async connectSpoonacular() {\n    try {\n      return await api.post('/nutrition-profile/connect_spoonacular/')\n    } catch (error) {\n      console.error('Failed to connect to Spoonacular:', error)\n      throw error\n    }\n  },\n\n  async getSpoonacularStatus() {\n    try {\n      return await api.get('/nutrition-profile/spoonacular_status/')\n    } catch (error) {\n      console.error('Failed to get Spoonacular status:', error)\n      throw error\n    }\n  },\n\n  async getSpoonacularMealPlan(startDate = null) {\n    try {\n      const params = startDate ? { start_date: startDate } : {}\n      return await api.get('/nutrition-profile/spoonacular_meal_plan/', { params })\n    } catch (error) {\n      console.error('Failed to get Spoonacular meal plan:', error)\n      throw error\n    }\n  },\n\n  async addToSpoonacularMealPlan(mealData) {\n    try {\n      return await api.post('/nutrition-profile/add_to_spoonacular_meal_plan/', mealData)\n    } catch (error) {\n      console.error('Failed to add to Spoonacular meal plan:', error)\n      throw error\n    }\n  },\n\n  async getSpoonacularShoppingList() {\n    try {\n      return await api.get('/nutrition-profile/spoonacular_shopping_list/')\n    } catch (error) {\n      console.error('Failed to get Spoonacular shopping list:', error)\n      throw error\n    }\n  },\n\n  async generateSpoonacularShoppingList(startDate, endDate) {\n    try {\n      return await api.post('/nutrition-profile/generate_spoonacular_shopping_list/', {\n        start_date: startDate,\n        end_date: endDate\n      })\n    } catch (error) {\n      console.error('Failed to generate Spoonacular shopping list:', error)\n      throw error\n    }\n  }\n}\n\n// Enhanced helper functions with support for the new meal plan structure\nexport const mealPlanningHelpers = {\n  /**\n   * Format dietary preference for display\n   */\n  formatDietaryPreference(preference) {\n    if (!preference) return ''\n    return preference\n      .split('_')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  },\n\n  /**\n   * Format cuisine name for display\n   */\n  formatCuisine(cuisine) {\n    if (!cuisine) return ''\n    return cuisine.charAt(0).toUpperCase() + cuisine.slice(1)\n  },\n\n  /**\n   * Calculate macro percentages from nutrition data\n   */\n  calculateMacroPercentages(calories, protein, carbs, fat) {\n    const totalCalories = calories || (protein * 4 + carbs * 4 + fat * 9)\n\n    if (totalCalories === 0) {\n      return { protein: 0, carbs: 0, fat: 0 }\n    }\n\n    return {\n      protein: Math.round((protein * 4 / totalCalories) * 100),\n      carbs: Math.round((carbs * 4 / totalCalories) * 100),\n      fat: Math.round((fat * 9 / totalCalories) * 100)\n    }\n  },\n\n  /**\n   * Format duration in minutes to a readable format\n   */\n  formatDuration(minutes) {\n    if (!minutes || minutes < 0) return '0min'\n    if (minutes < 60) {\n      return `${minutes}min`\n    }\n    const hours = Math.floor(minutes / 60)\n    const remainingMinutes = minutes % 60\n    return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}min` : `${hours}h`\n  },\n\n  /**\n   * Calculate nutrition score based on actual vs target values\n   */\n  calculateNutritionScore(actual, target, tolerance = 0.1) {\n    if (!target || target <= 0) return 100\n\n    const difference = Math.abs(actual - target)\n    const allowedDifference = target * tolerance\n\n    if (difference <= allowedDifference) {\n      return 100\n    }\n\n    const score = Math.max(0, 100 - (difference / target) * 100)\n    return Math.round(score)\n  },\n\n  /**\n   * Get color for macronutrient visualization\n   */\n  getMacroColor(macro) {\n    const colors = {\n      protein: '#ff6b6b',\n      carbs: '#4ecdc4',\n      carbohydrates: '#4ecdc4',\n      fat: '#45b7d1',\n      fats: '#45b7d1'\n    }\n    return colors[macro?.toLowerCase()] || '#95a5a6'\n  },\n\n  /**\n   * Format calories for display\n   */\n  formatCalories(calories) {\n    if (!calories || calories < 0) return '0'\n    if (calories >= 1000) {\n      return `${(calories / 1000).toFixed(1)}k`\n    }\n    return Math.round(calories).toString()\n  },\n\n  /**\n   * Get color for difficulty level\n   */\n  getDifficultyColor(difficulty) {\n    const colors = {\n      easy: '#27ae60',\n      medium: '#f39c12',\n      hard: '#e74c3c'\n    }\n    return colors[difficulty?.toLowerCase()] || '#95a5a6'\n  },\n\n  /**\n   * Validate nutrition profile data\n   */\n  validateNutritionProfile(profile) {\n    const errors = []\n\n    if (!profile.calorie_target || profile.calorie_target < 1000 || profile.calorie_target > 5000) {\n      errors.push('Calorie target must be between 1000 and 5000')\n    }\n\n    if (!profile.protein_target || profile.protein_target < 0 || profile.protein_target > 500) {\n      errors.push('Protein target must be between 0 and 500g')\n    }\n\n    if (!profile.carb_target || profile.carb_target < 0 || profile.carb_target > 1000) {\n      errors.push('Carbohydrate target must be between 0 and 1000g')\n    }\n\n    if (!profile.fat_target || profile.fat_target < 0 || profile.fat_target > 300) {\n      errors.push('Fat target must be between 0 and 300g')\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors\n    }\n  },\n\n  /**\n   * Create meal plan request object with defaults\n   */\n  createMealPlanRequest(options = {}) {\n    const defaults = {\n      plan_type: 'daily',\n      start_date: new Date().toISOString().split('T')[0],\n      use_preferences: true,\n      regenerate_existing: false\n    }\n\n    return { ...defaults, ...options }\n  },\n\n  /**\n   * Extract total meal count from meal plan data\n   */\n  getMealCount(mealPlan) {\n    if (!mealPlan?.meal_plan_data?.meals) return 0\n\n    let totalMeals = 0\n    Object.values(mealPlan.meal_plan_data.meals).forEach(dayMeals => {\n      if (Array.isArray(dayMeals)) {\n        totalMeals += dayMeals.length\n      }\n    })\n    return totalMeals\n  },\n\n  /**\n   * Extract nutrition value from recipe with fallback handling\n   */\n  getNutritionValue(recipe, nutrient) {\n    if (!recipe) return 0\n    \n    // Try estimated_nutrition first (from your API response)\n    if (recipe.estimated_nutrition && recipe.estimated_nutrition[nutrient] !== undefined) {\n      return Math.round(recipe.estimated_nutrition[nutrient])\n    }\n    \n    // Fallback to nutrition object\n    if (recipe.nutrition && recipe.nutrition[nutrient] !== undefined) {\n      return Math.round(recipe.nutrition[nutrient])\n    }\n\n    // Try other common naming patterns\n    const nutrientMappings = {\n      'calories': ['calories_per_serving', 'kcal'],\n      'protein': ['protein_per_serving'],\n      'carbs': ['carbs_per_serving', 'carbohydrates'],\n      'fat': ['fat_per_serving', 'fats']\n    }\n\n    if (nutrientMappings[nutrient]) {\n      for (const mapping of nutrientMappings[nutrient]) {\n        if (recipe[mapping] !== undefined) {\n          return Math.round(recipe[mapping])\n        }\n      }\n    }\n    \n    return 0\n  },\n\n  /**\n   * Format meal plan date range for display\n   */\n  formatDateRange(startDate, endDate) {\n    if (!startDate || !endDate) return 'Date unknown'\n    \n    const start = new Date(startDate).toLocaleDateString()\n    const end = new Date(endDate).toLocaleDateString()\n\n    if (startDate === endDate) {\n      return start\n    }\n    return `${start} - ${end}`\n  },\n\n  /**\n   * Handle API errors with user-friendly messages\n   */\n  handleApiError(error, fallbackMessage = 'An error occurred') {\n    console.error('API Error:', error)\n\n    if (error.response?.data?.detail) {\n      return error.response.data.detail\n    }\n    if (error.response?.data?.message) {\n      return error.response.data.message\n    }\n    if (error.response?.data?.error) {\n      return error.response.data.error\n    }\n    if (error.message) {\n      return error.message\n    }\n    return fallbackMessage\n  },\n\n  /**\n   * Check if a meal plan is from the new API structure\n   */\n  isNewMealPlanStructure(mealPlan) {\n    return !!(mealPlan?.meal_plan_data?.meals && \n              mealPlan?.daily_averages && \n              mealPlan?.generation_version)\n  },\n\n  /**\n   * Get all dates from a meal plan\n   */\n  getMealPlanDates(mealPlan) {\n    if (!mealPlan?.meal_plan_data?.meals) return []\n    return Object.keys(mealPlan.meal_plan_data.meals).sort()\n  },\n\n  /**\n   * Get meals for a specific date\n   */\n  getMealsForDate(mealPlan, date) {\n    if (!mealPlan?.meal_plan_data?.meals?.[date]) return []\n    return mealPlan.meal_plan_data.meals[date]\n  }\n}\n\nexport default mealPlanningApi"],"names":["class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","tabs","tab","key","id","onClick","$event","activeTab","_normalizeClass","icon","_toDisplayString","name","_hoisted_5","_hoisted_6","_createVNode","_component_recipe_browser","recipes","loading","recipesLoading","onRecipeSelected","$options","selectRecipe","onRefreshRecipes","loadRecipes","onRecipeSaved","onRecipeRemoved","_hoisted_7","_component_nutrition_profile_setup","profile","nutritionProfile","profileLoading","onProfileUpdated","_hoisted_8","_component_meal_plan_manager","mealPlansLoading","onMealPlanGenerated","_hoisted_9","_component_coming_soon_card","title","description","showRecipeModal","_createBlock","_component_recipe_detail_modal","recipe","selectedRecipe","onClose","closeRecipeModal","_cache","_ctx","$emit","disabled","$props","searchQuery","type","placeholder","onInput","args","debouncedSearch","selectedCuisine","onChange","applyFilters","value","cuisines","cuisine","formatCuisine","selectedMealType","filteredRecipes","length","_hoisted_10","_hoisted_11","_hoisted_12","src","image_url","alt","onError","handleImageError","_hoisted_15","dietary_tags","slice","tag","formatTag","_withModifiers","toggleSaveRecipe","is_saved_by_user","_hoisted_18","innerHTML","truncateSummary","summary","_hoisted_20","_hoisted_21","total_time_minutes","_hoisted_22","calories_per_serving","Math","round","_hoisted_23","servings","_hoisted_24","_hoisted_25","_hoisted_26","protein_per_serving","_hoisted_27","_hoisted_28","carbs_per_serving","_hoisted_29","_hoisted_30","fat_per_serving","debounce","func","wait","timeout","later","clearTimeout","setTimeout","props","Array","default","Boolean","emits","data","computed","Set","this","map","r","filter","watch","immediate","handler","newRecipes","created","methods","filtered","query","toLowerCase","includes","meal_type","charAt","toUpperCase","replace","l","clean","substring","event","target","mealPlanningApi","response","Error","removeRecipeFromMyCollection","message","$toast","success","alert","spoonacular_id","created_by","saveRecipeFromMealPlan","saveRecipeToMyCollection","error","console","errorMessage","status","__exports__","hasExistingProfile","showAIWizard","_hoisted_4","aiStep","aiProfile","age","min","max","number","_component_FormSelect","gender","label","options","height","weight","_hoisted_13","goalOptions","goal","active","_hoisted_16","_hoisted_17","activityOptions","activity","popularDiets","diet","toggleDiet","diets","emoji","generatingProfile","_hoisted_31","_hoisted_32","aiGeneratedProfile","calorie_target","_hoisted_33","_hoisted_34","protein_target","_hoisted_35","_hoisted_36","carb_target","_hoisted_37","_hoisted_38","fat_target","_hoisted_39","meals_per_day","snacks_per_day","_hoisted_40","nextAIStep","canProceedToNextStep","_hoisted_41","applyAIProfile","validationErrors","_hoisted_42","_hoisted_43","_hoisted_44","onSubmit","saveProfile","_hoisted_45","_hoisted_46","_hoisted_47","for","_hoisted_48","formData","required","_hoisted_49","getCalorieRecommendation","_hoisted_50","_hoisted_51","_hoisted_52","toFixed","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","style","_normalizeStyle","width","proteinPercentage","carbPercentage","fatPercentage","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","dietaryConflicts","_hoisted_67","conflict","_hoisted_68","availableDietaryPreferences","preference","isPreferenceDisabled","dietary_preferences","checkDietaryConflicts","_hoisted_70","_hoisted_71","_hoisted_72","availableAllergies","allergy","allergies_intolerances","_hoisted_74","_hoisted_75","availableCuisines","cuisine_preferences","_hoisted_77","_hoisted_78","dislikedIngredientsInput","onBlur","updateDislikedIngredients","disliked_ingredients","_hoisted_79","ingredient","removeDislikedIngredient","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","timezone","_hoisted_85","saving","hasValidationErrors","_hoisted_87","_hoisted_88","calculateTargets","components","FormSelect","Object","conflicts","newProfile","join","validateForm","updateNutritionProfile","detail","push","totalCaloriesFromMacros","calorieDifference","abs","selected","i","j","pref1","find","p","pref2","preferenceValue","some","selectedPref","trim","split","item","baseCalories","isKeto","isLowCarb","isHighProtein","proteinRatio","carbRatio","fatRatio","generateNutritionProfile","user_data","goals","primary_goal","activity_level","preferences","calculateAIProfile","bmr","activityMultipliers","sedentary","light","moderate","very_active","extra_active","tdee","calories","index","indexOf","splice","generationStatus","steps","step","completed","generateMealPlan","generateForm","plan_type","start_date","today","target_calories","showAdvancedOptions","_hoisted_14","max_cook_time","generating","_hoisted_19","mealPlans","plan","viewMealPlan","formatPlanType","formatDateRange","end_date","generation_version","avg_daily_calories","getMealCount","nutritional_balance_score","daily_averages","protein","carbs","fat","variety_score","preference_match_score","analyzeMealPlan","regeneratePlan","deleteMealPlan","selectedPlan","_component_meal_plan_detail_modal","onRegenerateMeal","mealData","regenerateMeal","onGetAlternatives","getMealAlternatives","onAnalyzePlan","analyzeMealPlanFromModal","onDeletePlan","showAnalysisModal","currentAnalysis","_component_nutritional_analysis_modal","analysis","selectedPlanForAnalysis","closeAnalysisModal","showAlternativesModal","alternativesModalData","_component_alternatives_modal","planId","day","mealType","closeAlternativesModal","onAlternativeSelected","handleAlternativeSelected","mealPlan","ai_model_used","total_calories","getTotalMeals","days_count","meal_plan_data","meals","dayMeals","date","formatDate","meal","getMealTitle","getMealTypeClass","formatMealType","getMealTime","getMealRecipe","readyInMinutes","prep_time","cook_time","total_time","getNutritionValue","getMealIngredients","_hoisted_69","idx","quantity","amount","unit","_hoisted_73","original","text","normalizedInstructions","instruction","_hoisted_76","target_protein","target_carbs","target_fat","_hoisted_86","savingRecipe","_hoisted_90","inferMealTypeFromTime","Date","getAlternatives","viewRecipeDetails","_hoisted_94","_hoisted_95","generateShoppingList","analyzePlan","deletePlan","showShoppingListModal","_component_shopping_list_modal","shoppingListData","shoppingListLoading","shoppingListError","closeShoppingListModal","onRetry","getDifficultyClass","difficulty_level","formatDifficulty","imageError","formatTime","cleanSummary","ingredients_data","ing","formatIngredient","source_url","source","href","localRecipe","printShoppingList","retry","shoppingList","metadata","total_items","recipe_names","generated_from","sortedCategories","category","categoryKey","isCategoryCompleted","toggleCategory","getCompletedCount","item_count","collapsedCategories","items","itemIndex","checked","updateProgress","notes","completedItems","totalItems","progressPercentage","recipeName","String","categories","keys","sort","a","b","order","reduce","sorted","initializeCategories","forEach","$set","total","values","every","start","toLocaleDateString","end","printContent","generatePrintContent","printWindow","window","open","document","write","close","print","html","entries","ShoppingListModal","mounted","newRecipe","instr","instructions","stepText","stepObj","minutes","hours","floor","remainingMins","formats","difficulty","getPlaceholderImage","background","border","color","display","alignItems","justifyContent","fontSize","onerror","log","fetch","method","headers","$store","state","auth","token","body","JSON","stringify","servings_multiplier","ok","json","shopping_list","RecipeDetailModal","mealDates","firstDate","firstDayMeals","addEventListener","handleEscapeKey","beforeUnmount","removeEventListener","startDate","endDate","startDateObj","endDateObj","isNaN","getTime","dateStr","mealTypeLabels","weekday","month","cleanType","typeMap","hour","getHours","time","scheduled_time","defaultTimes","defaultTime","ingredients","isArray","extendedIngredients","nutrient","estimated_nutrition","undefined","nutrition","nutrientMappings","mapping","inferredMealType","cleanMealType","recipeData","prep_time_minutes","cook_time_minutes","fiber_per_serving","allergens","image","source_type","warn","exclude_items","group_by_category","savedRecipe","viewBox","cx","cy","overall_score","getScoreDescription","nutritional_adequacy","getAdequacyClass","formatNutrientName","formatStatus","percentage_of_target","meal_distribution","breakfast_percentage","lunch_percentage","dinner_percentage","getRatingClass","balance_rating","formatRating","variety_analysis","getVarietyClass","cuisine_diversity","ingredient_variety","cooking_method_diversity","health_highlights","highlight","recommendations","recommendation","areas_for_improvement","improvement","downloadReport","score","names","statuses","rating","classes","variety","report","rec","blob","Blob","url","URL","createObjectURL","link","createElement","download","appendChild","click","removeChild","revokeObjectURL","tabindex","role","includeUserRecipes","loadAlternatives","alternativeCount","alternatives","userRecipeCount","externalRecipeCount","is_user_recipe","selectAlternative","Number","count","e","MealPlanDetailModal","NutritionalAnalysisModal","AlternativesModal","toISOString","loadMealPlans","process","getMealPlans","mealPlansData","results","showError","_cachedMealCount","totalMeals","result","showGenerationStatus","planData","updateGenerationStep","unshift","showSuccess","stepType","forceComplete","stepIndex","confirmed","confirm","planIndex","findIndex","selectionData","swapMeal","updatedPlan","planType","features","feature","progress","subscribeToUpdates","featureMap","RecipeBrowser","NutritionProfileSetup","MealPlanManager","ComingSoonCard","currentUser","getters","loadInitialData","$router","Promise","all","loadNutritionProfile","params","_t","now","page_size","getMyRecipes","getNutritionProfile","updatedProfile","$nextTick","$forceUpdate","removedRecipe","render","API_BASE_URL","VUE_APP_API_URL","api","axios","create","baseURL","getAccessToken","store","user","access","AuthService","getCurrentUser","interceptors","request","use","config","reject","async","originalRequest","_retry","refreshToken","loggedIn","dispatch","refreshError","logout","commit","location","statusText","getRecipes","cleanParams","page","search","max_calories","parseInt","get","getRecipe","searchRecipes","searchData","post","rateRecipe","recipeId","review","delete","my_recipes","generateRecipe","recipeParams","getIngredientSubstitutions","ingredientName","ingredient_name","scaleRecipe","newServings","getIngredients","getIngredient","profileData","patch","put","putError","calculateNutritionTargets","ordering","is_active","getMealPlan","include_user_recipes","new_recipe","exclude_ingredients","getNutritionLogs","getNutritionLog","logNutrition","nutritionData","analyzeNutrition","analysisData","getNutritionAnalytics","getDashboardData","days","getNutritionInsights","getMealRecommendations","calculateNutrition","validateDietaryRestrictions","dietaryPreferences","allergies","is_compliant","violations","warnings","getDietaryPreferences","getAllergens","getCuisines","connectSpoonacular","getSpoonacularStatus","getSpoonacularMealPlan","addToSpoonacularMealPlan","getSpoonacularShoppingList","generateSpoonacularShoppingList"],"sourceRoot":""}