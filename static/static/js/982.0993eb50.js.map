{"version":3,"file":"static/js/982.0993eb50.js","mappings":"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","sources":["webpack://frontend/./src/services/mealPlanningApi.js","webpack://frontend/./src/views/MealPlanningDashboard.vue","webpack://frontend/./src/components/meal-planning/RecipeBrowser.vue","webpack://frontend/./src/components/meal-planning/RecipeBrowser.vue?d5bd","webpack://frontend/./src/components/meal-planning/NutritionProfileSetup.vue","webpack://frontend/./src/components/meal-planning/NutritionProfileSetup.vue?a143","webpack://frontend/./src/components/meal-planning/MealPlanManager.vue","webpack://frontend/./src/components/meal-planning/MealPlanDetailModal.vue","webpack://frontend/./src/components/meal-planning/MealPlanDetailModal.vue?89cd","webpack://frontend/./src/components/meal-planning/NutritionalAnalysisModal.vue","webpack://frontend/./src/components/meal-planning/NutritionalAnalysisModal.vue?dff1","webpack://frontend/./src/components/meal-planning/MealPlanManager.vue?4c5c","webpack://frontend/./src/components/meal-planning/SpoonacularIntegration.vue","webpack://frontend/./src/components/meal-planning/SpoonacularIntegration.vue?4328","webpack://frontend/./src/components/meal-planning/ComingSoonCard.vue","webpack://frontend/./src/components/meal-planning/ComingSoonCard.vue?29f3","webpack://frontend/./src/components/meal-planning/RecipeDetailModal.vue","webpack://frontend/./src/components/meal-planning/RecipeDetailModal.vue?8566","webpack://frontend/./src/views/MealPlanningDashboard.vue?a0c3"],"sourcesContent":["// src/services/mealPlanningApi.js\nimport axios from 'axios';\nimport AuthService from './auth.service';\nimport store from '../store';\n\nconst API_BASE_URL = (process.env.VUE_APP_API_URL || 'https://wellness-app-tx2c.onrender.com/api').replace(/\\/+$/, '').replace('/api', '') + '/meal-planning/api';\n\n// Create axios instance with base configuration - MATCHING your http.service.js pattern\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n  }\n});\n\n// Add request interceptor for authentication - SAME as your http.service.js\napi.interceptors.request.use(\n  config => {\n    const token = getAccessToken();\n    if (token) {\n      config.headers['Authorization'] = 'Bearer ' + token;\n    }\n    return config;\n  },\n  error => {\n    console.error('Meal Planning API request error:', error);\n    return Promise.reject(error);\n  }\n);\n\n// Add response interceptor for error handling - SAME as your http.service.js\napi.interceptors.response.use(\n  response => response,\n  async error => {\n    const originalRequest = error.config;\n    if (error.response?.status === 401 && !originalRequest._retry) {\n      originalRequest._retry = true;\n\n      try {\n        const response = await AuthService.refreshToken();\n        if (response?.access) {\n          originalRequest.headers['Authorization'] = 'Bearer ' + response.access;\n\n          if (store?.state?.auth?.status?.loggedIn) {\n            await store.dispatch('auth/refreshToken', response.access);\n          }\n          return axios(originalRequest);\n        }\n      } catch (refreshError) {\n        AuthService.logout();\n\n        if (store?.state?.auth?.status?.loggedIn) {\n          store.commit('auth/logout');\n        }\n        setTimeout(() => {\n          window.location.href = '/login';\n        }, 100);\n        return Promise.reject(refreshError);\n      }\n    }\n    if (error.response) {\n      console.error(\n        `Meal Planning API Error: ${error.response.status} ${error.response.statusText}`,\n        error.response.data\n      );\n    } else {\n      console.error('Meal Planning API Error:', error.message);\n    }\n\n    return Promise.reject(error);\n  }\n);\n\n/**\n * Get the current access token from store or storage - SAME as your http.service.js\n * @returns {string|null} Access token or null\n */\nfunction getAccessToken() {\n  // Try to get token from store\n  if (store?.state?.auth?.user?.access) {\n    return store.state.auth.user.access;\n  }\n  const user = AuthService.getCurrentUser();\n  return user?.access || null;\n}\n\nexport const mealPlanningApi = {\n  // Expose the api instance for advanced usage\n  api,\n\n  // Recipe endpoints\n  getRecipes(params = {}) {\n    // Clean up parameters and add debugging\n    const cleanParams = {}\n    \n    // Basic pagination\n    if (params.page) cleanParams.page = params.page\n    if (params.page_size) cleanParams.page_size = params.page_size\n    \n    // Search parameters\n    if (params.search && params.search.trim()) {\n      cleanParams.search = params.search.trim()\n    }\n    \n    // Filter parameters\n    if (params.cuisine && params.cuisine.trim()) {\n      cleanParams.cuisine = params.cuisine.trim()\n    }\n    \n    if (params.meal_type && params.meal_type.trim()) {\n      cleanParams.meal_type = params.meal_type.trim()\n    }\n    \n    if (params.dietary_preferences && params.dietary_preferences.trim()) {\n      cleanParams.dietary_preferences = params.dietary_preferences.trim()\n    }\n    \n    if (params.max_calories && params.max_calories.trim()) {\n      cleanParams.max_calories = parseInt(params.max_calories.trim())\n    }\n    \n    if (process.env.NODE_ENV === 'development') {\n      console.log('🔗 API request: /recipes/', cleanParams)\n    }\n    return api.get('/recipes/', { params: cleanParams })\n  },\n\n  getRecipe(id) {\n    return api.get(`/recipes/${id}/`)\n  },\n\n  searchRecipes(searchData) {\n    return api.post('/recipes/search/', searchData)\n  },\n\n  rateRecipe(recipeId, rating, review = '') {\n    return api.post(`/recipes/${recipeId}/rate/`, { rating, review })\n  },\n\n  saveRecipeToMyCollection(recipeId) {\n    return api.post(`/recipes/${recipeId}/save_to_my_recipes/`)\n  },\n\n  saveRecipeFromMealPlan(recipeData) {\n    return api.post(`/recipes/save_from_meal_plan/`, recipeData)\n  },\n\n  removeRecipeFromMyCollection(recipeId) {\n    return api.delete(`/recipes/${recipeId}/`)\n  },\n\n  getMyRecipes(params = {}) {\n    // Get only user's saved recipes\n    const cleanParams = { ...params, my_recipes: 'true' }\n    \n    // Basic pagination\n    if (!cleanParams.page) cleanParams.page = 1\n    if (!cleanParams.page_size) cleanParams.page_size = 100\n    \n    // Search parameters\n    if (cleanParams.search && cleanParams.search.trim()) {\n      cleanParams.search = cleanParams.search.trim()\n    }\n    \n    // Filter parameters\n    if (cleanParams.cuisine && cleanParams.cuisine.trim()) {\n      cleanParams.cuisine = cleanParams.cuisine.trim()\n    }\n    \n    if (cleanParams.meal_type && cleanParams.meal_type.trim()) {\n      cleanParams.meal_type = cleanParams.meal_type.trim()\n    }\n    \n    if (process.env.NODE_ENV === 'development') {\n      console.log('🔗 API request: /recipes/ (my recipes only)', cleanParams)\n    }\n    return api.get('/recipes/', { params: cleanParams })\n  },\n\n  // Enhanced recipe methods for AI features (with fallbacks)\n  async generateRecipe(recipeParams) {\n    try {\n      return await api.post('/recipes/generate/', recipeParams)\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Recipe generation endpoint not implemented yet')\n        return Promise.reject(new Error('Recipe generation feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  async getIngredientSubstitutions(recipeId, ingredientName, options = {}) {\n    try {\n      return await api.post(`/recipes/${recipeId}/substitute-ingredient/`, {\n        ingredient_name: ingredientName,\n        ...options\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Ingredient substitution endpoint not implemented yet')\n        return Promise.reject(new Error('Ingredient substitution feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  async scaleRecipe(recipeId, newServings) {\n    try {\n      return await api.post(`/recipes/${recipeId}/scale/`, { servings: newServings })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Recipe scaling endpoint not implemented yet')\n        return Promise.reject(new Error('Recipe scaling feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  // Ingredient endpoints\n  getIngredients(params = {}) {\n    return api.get('/ingredients/', { params })\n  },\n\n  getIngredient(id) {\n    return api.get(`/ingredients/${id}/`)\n  },\n\n  // Nutrition Profile endpoints with improved error handling\n  async getNutritionProfile() {\n    try {\n      return await api.get('/nutrition-profile/current/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return a default profile structure if none exists\n        return {\n          data: {\n            calorie_target: 2000,\n            protein_target: 100,\n            carb_target: 250,\n            fat_target: 67,\n            dietary_preferences: [],\n            allergies_intolerances: [],\n            cuisine_preferences: []\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  async updateNutritionProfile(profileData) {\n    try {\n      // Try PATCH first (most RESTful)\n      return await api.patch('/nutrition-profile/current/', profileData)\n    } catch (error) {\n      if (error.response?.status === 405) {\n        // If PATCH not allowed, try PUT\n        try {\n          return await api.put('/nutrition-profile/current/', profileData)\n        } catch (putError) {\n          if (putError.response?.status === 405) {\n            // If PUT also not allowed, try POST\n            return await api.post('/nutrition-profile/update_profile/', profileData)\n          }\n          throw putError\n        }\n      }\n      throw error\n    }\n  },\n\n  calculateNutritionTargets() {\n    return api.post('/nutrition-profile/calculate_targets/')\n  },\n\n  // Enhanced Meal Plan endpoints with AI features and improved pagination handling\n  getMealPlans(params = {}) {\n    const cleanParams = {\n      page: params.page || 1,\n      page_size: params.page_size || 20,\n      ordering: params.ordering || '-created_at'\n    }\n    \n    // Add any filtering parameters\n    if (params.plan_type) cleanParams.plan_type = params.plan_type\n    if (params.is_active !== undefined) cleanParams.is_active = params.is_active\n    if (params.start_date) cleanParams.start_date = params.start_date\n    if (params.end_date) cleanParams.end_date = params.end_date\n\n    if (process.env.NODE_ENV === 'development') {\n      console.log('🔗 API request: /meal-plans/', cleanParams)\n    }\n    return api.get('/meal-plans/', { params: cleanParams })\n  },\n\n  getMealPlan(id) {\n    return api.get(`/meal-plans/${id}/`)\n  },\n\n  generateMealPlan(planData) {\n    if (process.env.NODE_ENV === 'development') {\n      console.log('🎯 Generating meal plan with data:', planData)\n    }\n    // Enhanced meal plan generation with AI features\n    return api.post('/meal-plans/generate/', planData)\n  },\n\n  deleteMealPlan(planId) {\n    if (process.env.NODE_ENV === 'development') {\n      console.log('🗑️ Deleting meal plan:', planId)\n    }\n    return api.delete(`/meal-plans/${planId}/`)\n  },\n\n  async regenerateMeal(planId, day, mealType) {\n    try {\n      console.log('Regenerating meal:', { planId, day, mealType })\n      // Updated regenerate meal endpoint\n      return await api.post(`/meal-plans/${planId}/regenerate_meal/`, {\n        day: day,\n        meal_type: mealType\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal regeneration endpoint not implemented yet')\n        return Promise.reject(new Error('Meal regeneration feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  // New AI-powered methods with fallbacks\n  async getMealAlternatives(planId, day, mealType, count = 3) {\n    try {\n      console.log('Getting meal alternatives:', { planId, day, mealType, count })\n      return await api.post(`/meal-plans/${planId}/get_alternatives/`, {\n        day: day,\n        meal_type: mealType,\n        count: count\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal alternatives endpoint not implemented yet')\n        return { data: [] }\n      }\n      throw error\n    }\n  },\n\n  async swapMeal(planId, day, mealType, newRecipe) {\n    try {\n      return await api.post(`/meal-plans/${planId}/swap_meal/`, {\n        day: day,\n        meal_type: mealType,\n        new_recipe: newRecipe\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal swap endpoint not implemented yet')\n        return Promise.reject(new Error('Meal swap feature coming soon'))\n      }\n      throw error\n    }\n  },\n\n  async analyzeMealPlan(planId) {\n    try {\n      console.log('Analyzing meal plan:', planId)\n      return await api.get(`/meal-plans/${planId}/analyze/`)\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal plan analysis endpoint not implemented yet')\n        // Return mock analysis data for development\n        return {\n          data: {\n            overall_score: 85,\n            nutritional_adequacy: {\n              calories: { status: 'adequate', percentage_of_target: 98 },\n              protein: { status: 'adequate', percentage_of_target: 105 },\n              carbs: { status: 'adequate', percentage_of_target: 92 },\n              fat: { status: 'adequate', percentage_of_target: 103 }\n            },\n            meal_distribution: {\n              breakfast_percentage: 25,\n              lunch_percentage: 35,\n              dinner_percentage: 40,\n              balance_rating: 'excellent'\n            },\n            variety_analysis: {\n              cuisine_diversity: 'good',\n              ingredient_variety: 'excellent',\n              cooking_method_diversity: 'good'\n            },\n            recommendations: [\n              'Excellent meal plan with well-balanced nutrition',\n              'Great variety of cuisines and cooking methods',\n              'Protein distribution is optimal throughout the day'\n            ],\n            health_highlights: [\n              'Well-balanced macronutrients',\n              'Good variety of nutrient-dense foods',\n              'Appropriate calorie distribution across meals'\n            ],\n            areas_for_improvement: [\n              'Consider adding more omega-3 rich foods',\n              'Could include more antioxidant-rich vegetables'\n            ]\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  generateShoppingList(planId, options = {}) {\n    return api.post(`/meal-plans/${planId}/generate_shopping_list/`, {\n      exclude_items: options.exclude_ingredients || [],\n      group_by_category: options.group_by_category !== false,\n      ...options\n    })\n  },\n\n  // Nutrition Log endpoints\n  getNutritionLogs(params = {}) {\n    return api.get('/nutrition-logs/', { params })\n  },\n\n  getNutritionLog(id) {\n    return api.get(`/nutrition-logs/${id}/`)\n  },\n\n  logNutrition(nutritionData) {\n    return api.post('/nutrition-logs/', nutritionData)\n  },\n\n  analyzeNutrition(analysisData) {\n    return api.post('/nutrition-logs/analyze/', analysisData)\n  },\n\n  getNutritionAnalytics(params = {}) {\n    return api.get('/nutrition-logs/analytics/', { params })\n  },\n\n  getDashboardData(params = {}) {\n    const cleanParams = {\n      days: params.days || 7,\n      ...params\n    }\n    return api.get('/nutrition-logs/dashboard_data/', { params: cleanParams })\n  },\n\n  // New AI insights and recommendations with fallbacks\n  async getNutritionInsights(params = {}) {\n    try {\n      return await api.get('/ai-insights/', { params })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('AI insights endpoint not implemented yet')\n        return { data: [] }\n      }\n      throw error\n    }\n  },\n\n  async getMealRecommendations(params = {}) {\n    try {\n      return await api.get('/recommendations/', { params })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Meal recommendations endpoint not implemented yet')\n        return { data: [] }\n      }\n      throw error\n    }\n  },\n\n  // Utility endpoints with fallbacks\n  async calculateNutrition(ingredients, servings) {\n    try {\n      return await api.post('/calculate-nutrition/', {\n        ingredients: ingredients,\n        servings: servings\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Nutrition calculation endpoint not implemented yet')\n        // Return mock calculation for development\n        return {\n          data: {\n            calories: 400,\n            protein: 25,\n            carbs: 45,\n            fat: 15\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  async validateDietaryRestrictions(ingredients, dietaryPreferences, allergies) {\n    try {\n      return await api.post('/validate-dietary/', {\n        ingredients: ingredients,\n        dietary_preferences: dietaryPreferences,\n        allergies: allergies\n      })\n    } catch (error) {\n      if (error.response?.status === 404) {\n        console.warn('Dietary validation endpoint not implemented yet')\n        return {\n          data: {\n            is_compliant: true,\n            violations: [],\n            warnings: []\n          }\n        }\n      }\n      throw error\n    }\n  },\n\n  async getDietaryPreferences() {\n    try {\n      return await api.get('/dietary-preferences/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return default dietary preferences matching your backend model\n        return {\n          data: [\n            'vegetarian', 'vegan', 'pescatarian', 'keto', 'paleo',\n            'mediterranean', 'dash', 'low_carb', 'low_fat', 'high_protein',\n            'intermittent_fasting', 'whole30', 'raw_food', 'gluten_free',\n            'dairy_free', 'flexitarian'\n          ]\n        }\n      }\n      throw error\n    }\n  },\n\n  async getAllergens() {\n    try {\n      return await api.get('/allergens/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return default allergens list matching your backend model\n        return {\n          data: [\n            'nuts', 'peanuts', 'dairy', 'gluten', 'eggs', 'fish',\n            'shellfish', 'soy', 'sesame', 'sulfites', 'nightshades',\n            'histamine'\n          ]\n        }\n      }\n      throw error\n    }\n  },\n\n  async getCuisines() {\n    try {\n      return await api.get('/cuisines/')\n    } catch (error) {\n      if (error.response?.status === 404) {\n        // Return default cuisines list matching your backend model\n        return {\n          data: [\n            'italian', 'mexican', 'asian', 'indian', 'mediterranean',\n            'american', 'french', 'thai', 'japanese', 'chinese',\n            'greek', 'middle_eastern'\n          ]\n        }\n      }\n      throw error\n    }\n  },\n\n  // Spoonacular integration endpoints\n  async connectSpoonacular() {\n    try {\n      return await api.post('/nutrition-profile/connect_spoonacular/')\n    } catch (error) {\n      console.error('Failed to connect to Spoonacular:', error)\n      throw error\n    }\n  },\n\n  async getSpoonacularStatus() {\n    try {\n      return await api.get('/nutrition-profile/spoonacular_status/')\n    } catch (error) {\n      console.error('Failed to get Spoonacular status:', error)\n      throw error\n    }\n  },\n\n  async getSpoonacularMealPlan(startDate = null) {\n    try {\n      const params = startDate ? { start_date: startDate } : {}\n      return await api.get('/nutrition-profile/spoonacular_meal_plan/', { params })\n    } catch (error) {\n      console.error('Failed to get Spoonacular meal plan:', error)\n      throw error\n    }\n  },\n\n  async addToSpoonacularMealPlan(mealData) {\n    try {\n      return await api.post('/nutrition-profile/add_to_spoonacular_meal_plan/', mealData)\n    } catch (error) {\n      console.error('Failed to add to Spoonacular meal plan:', error)\n      throw error\n    }\n  },\n\n  async getSpoonacularShoppingList() {\n    try {\n      return await api.get('/nutrition-profile/spoonacular_shopping_list/')\n    } catch (error) {\n      console.error('Failed to get Spoonacular shopping list:', error)\n      throw error\n    }\n  },\n\n  async generateSpoonacularShoppingList(startDate, endDate) {\n    try {\n      return await api.post('/nutrition-profile/generate_spoonacular_shopping_list/', {\n        start_date: startDate,\n        end_date: endDate\n      })\n    } catch (error) {\n      console.error('Failed to generate Spoonacular shopping list:', error)\n      throw error\n    }\n  }\n}\n\n// Enhanced helper functions with support for the new meal plan structure\nexport const mealPlanningHelpers = {\n  /**\n   * Format dietary preference for display\n   */\n  formatDietaryPreference(preference) {\n    if (!preference) return ''\n    return preference\n      .split('_')\n      .map(word => word.charAt(0).toUpperCase() + word.slice(1))\n      .join(' ')\n  },\n\n  /**\n   * Format cuisine name for display\n   */\n  formatCuisine(cuisine) {\n    if (!cuisine) return ''\n    return cuisine.charAt(0).toUpperCase() + cuisine.slice(1)\n  },\n\n  /**\n   * Calculate macro percentages from nutrition data\n   */\n  calculateMacroPercentages(calories, protein, carbs, fat) {\n    const totalCalories = calories || (protein * 4 + carbs * 4 + fat * 9)\n\n    if (totalCalories === 0) {\n      return { protein: 0, carbs: 0, fat: 0 }\n    }\n\n    return {\n      protein: Math.round((protein * 4 / totalCalories) * 100),\n      carbs: Math.round((carbs * 4 / totalCalories) * 100),\n      fat: Math.round((fat * 9 / totalCalories) * 100)\n    }\n  },\n\n  /**\n   * Format duration in minutes to a readable format\n   */\n  formatDuration(minutes) {\n    if (!minutes || minutes < 0) return '0min'\n    if (minutes < 60) {\n      return `${minutes}min`\n    }\n    const hours = Math.floor(minutes / 60)\n    const remainingMinutes = minutes % 60\n    return remainingMinutes > 0 ? `${hours}h ${remainingMinutes}min` : `${hours}h`\n  },\n\n  /**\n   * Calculate nutrition score based on actual vs target values\n   */\n  calculateNutritionScore(actual, target, tolerance = 0.1) {\n    if (!target || target <= 0) return 100\n\n    const difference = Math.abs(actual - target)\n    const allowedDifference = target * tolerance\n\n    if (difference <= allowedDifference) {\n      return 100\n    }\n\n    const score = Math.max(0, 100 - (difference / target) * 100)\n    return Math.round(score)\n  },\n\n  /**\n   * Get color for macronutrient visualization\n   */\n  getMacroColor(macro) {\n    const colors = {\n      protein: '#ff6b6b',\n      carbs: '#4ecdc4',\n      carbohydrates: '#4ecdc4',\n      fat: '#45b7d1',\n      fats: '#45b7d1'\n    }\n    return colors[macro?.toLowerCase()] || '#95a5a6'\n  },\n\n  /**\n   * Format calories for display\n   */\n  formatCalories(calories) {\n    if (!calories || calories < 0) return '0'\n    if (calories >= 1000) {\n      return `${(calories / 1000).toFixed(1)}k`\n    }\n    return Math.round(calories).toString()\n  },\n\n  /**\n   * Get color for difficulty level\n   */\n  getDifficultyColor(difficulty) {\n    const colors = {\n      easy: '#27ae60',\n      medium: '#f39c12',\n      hard: '#e74c3c'\n    }\n    return colors[difficulty?.toLowerCase()] || '#95a5a6'\n  },\n\n  /**\n   * Validate nutrition profile data\n   */\n  validateNutritionProfile(profile) {\n    const errors = []\n\n    if (!profile.calorie_target || profile.calorie_target < 1000 || profile.calorie_target > 5000) {\n      errors.push('Calorie target must be between 1000 and 5000')\n    }\n\n    if (!profile.protein_target || profile.protein_target < 0 || profile.protein_target > 500) {\n      errors.push('Protein target must be between 0 and 500g')\n    }\n\n    if (!profile.carb_target || profile.carb_target < 0 || profile.carb_target > 1000) {\n      errors.push('Carbohydrate target must be between 0 and 1000g')\n    }\n\n    if (!profile.fat_target || profile.fat_target < 0 || profile.fat_target > 300) {\n      errors.push('Fat target must be between 0 and 300g')\n    }\n\n    return {\n      isValid: errors.length === 0,\n      errors\n    }\n  },\n\n  /**\n   * Create meal plan request object with defaults\n   */\n  createMealPlanRequest(options = {}) {\n    const defaults = {\n      plan_type: 'daily',\n      start_date: new Date().toISOString().split('T')[0],\n      use_preferences: true,\n      regenerate_existing: false\n    }\n\n    return { ...defaults, ...options }\n  },\n\n  /**\n   * Extract total meal count from meal plan data\n   */\n  getMealCount(mealPlan) {\n    if (!mealPlan?.meal_plan_data?.meals) return 0\n\n    let totalMeals = 0\n    Object.values(mealPlan.meal_plan_data.meals).forEach(dayMeals => {\n      if (Array.isArray(dayMeals)) {\n        totalMeals += dayMeals.length\n      }\n    })\n    return totalMeals\n  },\n\n  /**\n   * Extract nutrition value from recipe with fallback handling\n   */\n  getNutritionValue(recipe, nutrient) {\n    if (!recipe) return 0\n    \n    // Try estimated_nutrition first (from your API response)\n    if (recipe.estimated_nutrition && recipe.estimated_nutrition[nutrient] !== undefined) {\n      return Math.round(recipe.estimated_nutrition[nutrient])\n    }\n    \n    // Fallback to nutrition object\n    if (recipe.nutrition && recipe.nutrition[nutrient] !== undefined) {\n      return Math.round(recipe.nutrition[nutrient])\n    }\n\n    // Try other common naming patterns\n    const nutrientMappings = {\n      'calories': ['calories_per_serving', 'kcal'],\n      'protein': ['protein_per_serving'],\n      'carbs': ['carbs_per_serving', 'carbohydrates'],\n      'fat': ['fat_per_serving', 'fats']\n    }\n\n    if (nutrientMappings[nutrient]) {\n      for (const mapping of nutrientMappings[nutrient]) {\n        if (recipe[mapping] !== undefined) {\n          return Math.round(recipe[mapping])\n        }\n      }\n    }\n    \n    return 0\n  },\n\n  /**\n   * Format meal plan date range for display\n   */\n  formatDateRange(startDate, endDate) {\n    if (!startDate || !endDate) return 'Date unknown'\n    \n    const start = new Date(startDate).toLocaleDateString()\n    const end = new Date(endDate).toLocaleDateString()\n\n    if (startDate === endDate) {\n      return start\n    }\n    return `${start} - ${end}`\n  },\n\n  /**\n   * Handle API errors with user-friendly messages\n   */\n  handleApiError(error, fallbackMessage = 'An error occurred') {\n    console.error('API Error:', error)\n\n    if (error.response?.data?.detail) {\n      return error.response.data.detail\n    }\n    if (error.response?.data?.message) {\n      return error.response.data.message\n    }\n    if (error.response?.data?.error) {\n      return error.response.data.error\n    }\n    if (error.message) {\n      return error.message\n    }\n    return fallbackMessage\n  },\n\n  /**\n   * Check if a meal plan is from the new API structure\n   */\n  isNewMealPlanStructure(mealPlan) {\n    return !!(mealPlan?.meal_plan_data?.meals && \n              mealPlan?.daily_averages && \n              mealPlan?.generation_version)\n  },\n\n  /**\n   * Get all dates from a meal plan\n   */\n  getMealPlanDates(mealPlan) {\n    if (!mealPlan?.meal_plan_data?.meals) return []\n    return Object.keys(mealPlan.meal_plan_data.meals).sort()\n  },\n\n  /**\n   * Get meals for a specific date\n   */\n  getMealsForDate(mealPlan, date) {\n    if (!mealPlan?.meal_plan_data?.meals?.[date]) return []\n    return mealPlan.meal_plan_data.meals[date]\n  }\n}\n\nexport default mealPlanningApi","<!-- src/views/MealPlanningDashboard.vue -->\n<template>\n  <div class=\"meal-planning-dashboard\">\n    <div class=\"dashboard-header\">\n      <h1>Meal Planning Dashboard</h1>\n      <p>AI-powered nutrition and meal planning</p>\n    </div>\n\n    <div class=\"dashboard-tabs\">\n      <nav class=\"tabs-nav\">\n        <button\n          v-for=\"tab in tabs\"\n          :key=\"tab.id\"\n          @click=\"activeTab = tab.id\"\n          class=\"tab-button\"\n          :class=\"{ 'active': activeTab === tab.id }\"\n        >\n          <i :class=\"tab.icon\"></i>\n          {{ tab.name }}\n        </button>\n      </nav>\n\n      <div class=\"tab-content\">\n        <div v-if=\"activeTab === 'recipes'\" class=\"tab-panel\">\n          <recipe-browser\n            :recipes=\"recipes\"\n            :loading=\"recipesLoading\"\n            @recipe-selected=\"selectRecipe\"\n            @refresh-recipes=\"loadRecipes\"\n            @remove-recipe=\"removeRecipe\"\n          />\n        </div>\n\n        <div v-if=\"activeTab === 'profile'\" class=\"tab-panel\">\n          <nutrition-profile-setup\n            :profile=\"nutritionProfile\"\n            :loading=\"profileLoading\"\n            @profile-updated=\"onProfileUpdated\"\n          />\n        </div>\n\n        <div v-if=\"activeTab === 'meal-plans'\" class=\"tab-panel\">\n          <meal-plan-manager\n            :loading=\"mealPlansLoading\"\n            :nutrition-profile=\"nutritionProfile\"\n            @meal-plan-generated=\"onMealPlanGenerated\"\n          />\n        </div>\n\n        <div v-if=\"activeTab === 'spoonacular'\" class=\"tab-panel\">\n          <spoonacular-integration />\n        </div>\n\n      <div v-if=\"activeTab === 'analytics'\" class=\"tab-panel\">\n        <coming-soon-card\n          title=\"Nutrition Analytics\"\n          description=\"Detailed nutrition analytics coming soon!\"\n          icon=\"fas fa-chart-line\"\n        />\n      </div>\n    </div>\n  </div>\n  <recipe-detail-modal\n    v-if=\"showRecipeModal\"\n    :recipe=\"selectedRecipe\"\n    @close=\"closeRecipeModal\"\n    @recipe-saved=\"onRecipeSaved\"\n  />\n</div>\n</template>\n\n<script>\nimport RecipeBrowser from '../components/meal-planning/RecipeBrowser.vue'\nimport NutritionProfileSetup from '../components/meal-planning/NutritionProfileSetup.vue'\nimport MealPlanManager from '../components/meal-planning/MealPlanManager.vue'\nimport SpoonacularIntegration from '../components/meal-planning/SpoonacularIntegration.vue'\nimport ComingSoonCard from '../components/meal-planning/ComingSoonCard.vue'\nimport RecipeDetailModal from '../components/meal-planning/RecipeDetailModal.vue'\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\n\nexport default {\n  name: 'MealPlanningDashboard',\n  components: {\n    RecipeBrowser,\n    NutritionProfileSetup,\n    MealPlanManager,\n    SpoonacularIntegration,\n    ComingSoonCard,\n    RecipeDetailModal\n  },\n  data() {\n    return {\n      activeTab: 'recipes',\n      tabs: [\n        { id: 'recipes', name: 'My Recipes', icon: 'fas fa-utensils' },\n        { id: 'profile', name: 'Nutrition Profile', icon: 'fas fa-user-cog' },\n        { id: 'meal-plans', name: 'Meal Plans', icon: 'fas fa-calendar-alt' },\n        { id: 'spoonacular', name: 'Spoonacular', icon: 'fas fa-link' },\n        { id: 'analytics', name: 'Analytics', icon: 'fas fa-chart-line' }\n      ],\n      recipes: [],\n      nutritionProfile: null,\n      recipesLoading: false,\n      profileLoading: false,\n      mealPlansLoading: false,\n      showRecipeModal: false,\n      selectedRecipe: null\n    }\n  },\n  computed: {\n    currentUser() {\n      return this.$store.getters['auth/currentUser'];\n    }\n  },\n  async mounted() {\n    if (!this.currentUser) {\n      this.$router.push('/login');\n      return;\n    }\n    await this.loadInitialData()\n  },\n  methods: {\n    async loadInitialData() {\n      await Promise.all([\n        this.loadRecipes(),\n        this.loadNutritionProfile()\n      ])\n    },\n\n    async loadRecipes() {\n      this.recipesLoading = true\n      try {\n        // Add cache busting parameter to ensure fresh data\n        const params = {\n          _t: Date.now(),\n          page_size: 100  // Load more recipes by default\n        }\n        if (process.env.NODE_ENV === 'development') {\n          console.log('🔄 Loading my recipes from API...')\n        }\n        \n        const response = await mealPlanningApi.getMyRecipes(params)\n        \n        // Handle pagination response\n        if (response?.data?.results && Array.isArray(response.data.results)) {\n          this.recipes = response.data.results\n          if (process.env.NODE_ENV === 'development') {\n            console.log(`✅ Loaded ${this.recipes.length} my recipes (${response.data.count} total available)`)\n          }\n        } else if (Array.isArray(response?.data)) {\n          this.recipes = response.data\n          if (process.env.NODE_ENV === 'development') {\n            console.log(`✅ Loaded ${this.recipes.length} my recipes`)\n          }\n        } else {\n          console.warn('⚠️ Unexpected API response structure:', response?.data)\n          this.recipes = []\n        }\n      } catch (error) {\n        console.error('❌ Failed to load my recipes:', error.message)\n        if (process.env.NODE_ENV === 'development') {\n          console.error('Error details:', {\n            status: error.response?.status,\n            data: error.response?.data\n          })\n        }\n        \n        this.recipes = []\n        // Show user-friendly error\n        this.$toast?.error?.('Failed to load your recipes') ||\n        alert('Failed to load your recipes')\n      } finally {\n        this.recipesLoading = false\n      }\n    },\n\n    async loadNutritionProfile() {\n      this.profileLoading = true\n      try {\n        const response = await mealPlanningApi.getNutritionProfile()\n        this.nutritionProfile = response.data\n      } catch (error) {\n        console.error('Failed to load nutrition profile:', error)\n        // Create default profile if none exists\n        this.nutritionProfile = {\n          calorie_target: 2000,\n          protein_target: 100,\n          carb_target: 250,\n          fat_target: 67,\n          dietary_preferences: [],\n          allergies_intolerances: [],\n          cuisine_preferences: [],\n          disliked_ingredients: [],\n          meals_per_day: 3,\n          timezone: 'Europe/Tallinn'\n        }\n      } finally {\n        this.profileLoading = false\n      }\n    },\n\n    // Fixed: Handle profile updates properly\n    onProfileUpdated(updatedProfile) {\n      // Update local state with the new profile data\n      this.nutritionProfile = { ...updatedProfile }\n\n      // Optionally reload related data that depends on the profile\n      // For example, if meal plans depend on the nutrition profile\n      if (this.activeTab === 'meal-plans') {\n        // Refresh meal plans since preferences might have changed\n        this.$nextTick(() => {\n          this.$forceUpdate()\n        })\n      }\n    },\n\n    selectRecipe(recipe) {\n      this.selectedRecipe = recipe\n      this.showRecipeModal = true\n    },\n\n    closeRecipeModal() {\n      this.showRecipeModal = false\n      this.selectedRecipe = null\n    },\n\n    async removeRecipe(recipe) {\n      if (confirm(`Are you sure you want to remove \"${recipe.title}\" from your collection?`)) {\n        try {\n          await mealPlanningApi.removeRecipeFromMyCollection(recipe.id)\n          \n          // Remove from local state\n          this.recipes = this.recipes.filter(r => r.id !== recipe.id)\n          \n          this.$toast?.success?.('Recipe removed from your collection') ||\n          alert('Recipe removed from your collection')\n          \n        } catch (error) {\n          console.error('Error removing recipe:', error)\n          this.$toast?.error?.('Failed to remove recipe') ||\n          alert('Failed to remove recipe')\n        }\n      }\n    },\n\n    async onRecipeSaved(savedRecipe) {\n      console.log('Recipe saved event received:', savedRecipe)\n      \n      // Refresh the recipes list to show the newly saved recipe\n      await this.loadRecipes()\n      \n      // If we're on the recipes tab, show a brief highlight or message\n      if (this.activeTab === 'recipes') {\n        this.$nextTick(() => {\n          console.log('My recipes refreshed after saving new recipe')\n        })\n      }\n    },\n\n    async onMealPlanGenerated(mealPlan) {\n      console.log('New meal plan generated:', mealPlan)\n      \n      // Show success message\n      this.$toast?.success?.('Meal plan generated successfully! New recipes have been added to your library.') ||\n      alert('Meal plan generated successfully! New recipes have been added to your library.')\n      \n      // Reload recipes since new recipes might have been saved from the meal plan\n      await this.loadRecipes()\n      \n      // If we're on the recipes tab, highlight that new recipes were added\n      if (this.activeTab === 'recipes') {\n        // Add a temporary highlight or show a notification\n        this.$nextTick(() => {\n          console.log('Recipes refreshed after meal plan generation')\n        })\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.meal-planning-dashboard {\n  max-width: 1200px;\n  margin: 0 auto;\n  padding: $spacing-6;\n}\n\n.dashboard-header {\n  text-align: center;\n  margin-bottom: $spacing-8;\n\n  h1 {\n    margin: 0 0 $spacing-2 0;\n    color: $primary-dark;\n    font-size: 2rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1.1rem;\n  }\n}\n\n.dashboard-tabs {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n}\n\n.tabs-nav {\n  display: flex;\n  background: $gray-light;\n  border-bottom: 1px solid $gray-lighter;\n}\n\n.tab-button {\n  flex: 1;\n  padding: $spacing-4 $spacing-6;\n  border: none;\n  background: transparent;\n  color: $gray;\n  font-size: 1rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: $spacing-2;\n\n  i {\n    font-size: 0.9rem;\n  }\n\n  &:hover {\n    background: rgba($primary, 0.1);\n    color: $primary;\n  }\n\n  &.active {\n    background: $primary;\n    color: $white;\n    box-shadow: inset 0 -3px 0 rgba($white, 0.3);\n  }\n}\n\n.tab-content {\n  min-height: 600px;\n}\n\n.tab-panel {\n  padding: $spacing-6;\n  animation: fadeIn 0.3s ease;\n}\n\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n    transform: translateY(10px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .meal-planning-dashboard {\n    padding: $spacing-4;\n  }\n\n  .tabs-nav {\n    flex-direction: column;\n  }\n\n  .tab-button {\n    justify-content: flex-start;\n    padding: $spacing-3 $spacing-4;\n  }\n\n  .tab-panel {\n    padding: $spacing-4;\n  }\n\n  .dashboard-header {\n    h1 {\n      font-size: 1.5rem;\n    }\n  }\n}\n</style>","<!-- src/components/meal-planning/RecipeBrowser.vue -->\n<template>\n  <div class=\"recipe-browser\">\n    <!-- Search and Filters -->\n    <div class=\"search-section\">\n      <div class=\"search-header\">\n        <h3>My Recipe Collection</h3>\n        <button @click=\"$emit('refresh-recipes')\" class=\"refresh-btn\" :disabled=\"loading\">\n          <i :class=\"loading ? 'fas fa-spinner fa-spin' : 'fas fa-sync-alt'\"></i>\n          Refresh\n        </button>\n      </div>\n      \n      <div class=\"search-bar\">\n        <i class=\"fas fa-search search-icon\"></i>\n        <input\n          v-model=\"searchQuery\"\n          type=\"text\"\n          placeholder=\"Search recipes...\"\n          class=\"search-input\"\n          @input=\"debouncedSearch\"\n        />\n      </div>\n\n      <div class=\"filters\">\n        <select v-model=\"selectedCuisine\" @change=\"applyFilters\" class=\"filter-select\">\n          <option value=\"\">All Cuisines</option>\n          <option v-for=\"cuisine in cuisines\" :key=\"cuisine\" :value=\"cuisine\">\n            {{ formatCuisine(cuisine) }}\n          </option>\n        </select>\n\n        <select v-model=\"selectedMealType\" @change=\"applyFilters\" class=\"filter-select\">\n          <option value=\"\">All Meal Types</option>\n          <option value=\"breakfast\">Breakfast</option>\n          <option value=\"lunch\">Lunch</option>\n          <option value=\"dinner\">Dinner</option>\n          <option value=\"snack\">Snack</option>\n        </select>\n      </div>\n    </div>\n\n    <!-- Recipe Grid -->\n    <div v-if=\"loading\" class=\"loading-state\">\n      <div class=\"loading-spinner\"></div>\n      <p>Loading delicious recipes...</p>\n    </div>\n\n    <div v-else-if=\"filteredRecipes.length === 0\" class=\"empty-state\">\n      <i class=\"fas fa-utensils\"></i>\n      <h3>No recipes found</h3>\n      <p v-if=\"recipes.length === 0\">\n        You haven't saved any recipes yet! Save recipes from your meal plans to build your personal collection.\n        <br><br>\n        <strong>💡 Tip:</strong> Go to the \"Meal Plans\" tab to create meal plans, then save your favorite recipes.\n      </p>\n      <p v-else>Try adjusting your search or filters</p>\n    </div>\n\n    <div v-else class=\"recipe-grid\">\n      <div\n        v-for=\"recipe in filteredRecipes\"\n        :key=\"recipe.id\"\n        class=\"recipe-card\"\n      >\n        <div class=\"recipe-image\" @click=\"$emit('recipe-selected', recipe)\">\n          <img\n            :src=\"recipe.image_url || 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkZvb2QgUmVjaXBlPC90ZXh0Pgo8L3N2Zz4K'\"\n            :alt=\"recipe.title\"\n            @error=\"handleImageError\"\n          />\n          <div class=\"recipe-badges\">\n            <span v-for=\"tag in (recipe.dietary_tags || []).slice(0, 2)\" :key=\"tag\" class=\"badge\">\n              {{ formatTag(tag) }}\n            </span>\n          </div>\n          <button \n            class=\"remove-btn\" \n            @click.stop=\"$emit('remove-recipe', recipe)\"\n            title=\"Remove from my recipes\"\n          >\n            <i class=\"fas fa-trash\"></i>\n          </button>\n        </div>\n\n        <div class=\"recipe-content\" @click=\"$emit('recipe-selected', recipe)\">\n          <h3 class=\"recipe-title\">{{ recipe.title }}</h3>\n          <p class=\"recipe-summary\" v-html=\"truncateSummary(recipe.summary)\"></p>\n\n          <div class=\"recipe-stats\">\n            <div class=\"stat\">\n              <i class=\"fas fa-clock\"></i>\n              <span>{{ recipe.total_time_minutes || 'N/A' }}{{ recipe.total_time_minutes ? 'min' : '' }}</span>\n            </div>\n            <div class=\"stat\">\n              <i class=\"fas fa-fire\"></i>\n              <span>{{ recipe.calories_per_serving ? Math.round(recipe.calories_per_serving) : 'N/A' }}{{ recipe.calories_per_serving ? ' cal' : '' }}</span>\n            </div>\n            <div class=\"stat\">\n              <i class=\"fas fa-users\"></i>\n              <span>{{ recipe.servings || 'N/A' }}{{ recipe.servings ? ' servings' : '' }}</span>\n            </div>\n          </div>\n\n          <div class=\"nutrition-preview\">\n            <div class=\"macro\">\n              <span class=\"macro-label\">Protein</span>\n              <span class=\"macro-value\">{{ recipe.protein_per_serving ? Math.round(recipe.protein_per_serving) : 'N/A' }}{{ recipe.protein_per_serving ? 'g' : '' }}</span>\n            </div>\n            <div class=\"macro\">\n              <span class=\"macro-label\">Carbs</span>\n              <span class=\"macro-value\">{{ recipe.carbs_per_serving ? Math.round(recipe.carbs_per_serving) : 'N/A' }}{{ recipe.carbs_per_serving ? 'g' : '' }}</span>\n            </div>\n            <div class=\"macro\">\n              <span class=\"macro-label\">Fat</span>\n              <span class=\"macro-value\">{{ recipe.fat_per_serving ? Math.round(recipe.fat_per_serving) : 'N/A' }}{{ recipe.fat_per_serving ? 'g' : '' }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\n// Using a simple debounce function instead of lodash\nfunction debounce(func, wait) {\n  let timeout;\n  return function executedFunction(...args) {\n    const later = () => {\n      clearTimeout(timeout);\n      func(...args);\n    };\n    clearTimeout(timeout);\n    timeout = setTimeout(later, wait);\n  };\n}\n\nexport default {\n  name: 'RecipeBrowser',\n  props: {\n    recipes: {\n      type: Array,\n      default: () => []\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['recipe-selected', 'refresh-recipes', 'remove-recipe'],\n  data() {\n    return {\n      searchQuery: '',\n      selectedCuisine: '',\n      selectedMealType: '',\n      filteredRecipes: []\n    }\n  },\n  computed: {\n    cuisines() {\n      return [...new Set(this.recipes.map(r => r.cuisine).filter(Boolean))]\n    }\n  },\n  watch: {\n    recipes: {\n      immediate: true,\n      handler(newRecipes) {\n        if (process.env.NODE_ENV === 'development') {\n          console.log('🍽️ RecipeBrowser: Recipes updated')\n          console.log(`📊 Count: ${newRecipes?.length || 0} recipes`)\n          if (newRecipes?.length > 0) {\n            console.log(`📋 Sample: \"${newRecipes[0]?.title}\" (${newRecipes[0]?.id})`)\n          }\n        }\n        this.filteredRecipes = this.recipes\n      }\n    }\n  },\n  created() {\n    this.debouncedSearch = debounce(this.applyFilters, 300)\n  },\n  methods: {\n    applyFilters() {\n      let filtered = this.recipes\n\n      // Search filter\n      if (this.searchQuery) {\n        const query = this.searchQuery.toLowerCase()\n        filtered = filtered.filter(recipe =>\n          (recipe.title && recipe.title.toLowerCase().includes(query)) ||\n          (recipe.summary && recipe.summary.toLowerCase().includes(query))\n        )\n      }\n\n      // Cuisine filter\n      if (this.selectedCuisine) {\n        filtered = filtered.filter(recipe => recipe.cuisine === this.selectedCuisine)\n      }\n\n      // Meal type filter\n      if (this.selectedMealType) {\n        filtered = filtered.filter(recipe => recipe.meal_type === this.selectedMealType)\n      }\n\n      if (process.env.NODE_ENV === 'development' && \n          (this.searchQuery || this.selectedCuisine || this.selectedMealType)) {\n        console.log(`🔍 Filters applied: ${this.recipes?.length || 0} → ${filtered.length} recipes`)\n      }\n\n      this.filteredRecipes = filtered\n    },\n\n    formatCuisine(cuisine) {\n      return cuisine.charAt(0).toUpperCase() + cuisine.slice(1)\n    },\n\n    formatTag(tag) {\n      return tag.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n    },\n\n    truncateSummary(summary) {\n      if (!summary) return ''\n      const clean = summary.replace(/<[^>]*>/g, '')\n      return clean.length > 120 ? clean.substring(0, 120) + '...' : clean\n    },\n\n    handleImageError(event) {\n      event.target.src = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzAwIiBoZWlnaHQ9IjIwMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cmVjdCB3aWR0aD0iMTAwJSIgaGVpZ2h0PSIxMDAlIiBmaWxsPSIjZjBmMGYwIi8+CiAgPHRleHQgeD0iNTAlIiB5PSI1MCUiIGZvbnQtZmFtaWx5PSJBcmlhbCwgc2Fucy1zZXJpZiIgZm9udC1zaXplPSIxOCIgZmlsbD0iIzk5OTk5OSIgdGV4dC1hbmNob3I9Im1pZGRsZSIgZHk9Ii4zZW0iPkZvb2QgUmVjaXBlPC90ZXh0Pgo8L3N2Zz4K'\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.recipe-browser {\n  width: 100%;\n}\n\n.search-section {\n  margin-bottom: $spacing-6;\n}\n\n.search-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: $spacing-4;\n\n  h3 {\n    margin: 0;\n    color: $primary-dark;\n    font-size: 1.5rem;\n    font-weight: 600;\n  }\n}\n\n.refresh-btn {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  padding: 8px 16px;\n  background: $primary;\n  color: $white;\n  border: none;\n  border-radius: $border-radius;\n  font-size: 0.9rem;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n\n  &:hover:not(:disabled) {\n    background: $primary-dark;\n    transform: translateY(-1px);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  i {\n    font-size: 0.85rem;\n  }\n}\n\n.search-bar {\n  position: relative;\n  margin-bottom: $spacing-4;\n}\n\n.search-icon {\n  position: absolute;\n  left: 16px;\n  top: 50%;\n  transform: translateY(-50%);\n  color: $gray;\n  font-size: 1.1rem;\n}\n\n.search-input {\n  width: 100%;\n  padding: 12px 16px 12px 48px;\n  border: 2px solid $gray-lighter;\n  border-radius: 12px;\n  font-size: 1rem;\n  transition: border-color 0.2s ease;\n  background: $white;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n    box-shadow: 0 0 0 3px rgba($primary, 0.1);\n  }\n}\n\n.filters {\n  display: flex;\n  gap: $spacing-4;\n  flex-wrap: wrap;\n}\n\n.filter-select {\n  padding: 10px 16px;\n  border: 2px solid $gray-lighter;\n  border-radius: 8px;\n  background: $white;\n  font-size: 0.95rem;\n  cursor: pointer;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n  }\n\n  @include responsive('sm') {\n    flex: 1;\n    min-width: 0;\n  }\n}\n\n.loading-state, .empty-state {\n  text-align: center;\n  padding: 60px 20px;\n  color: $gray;\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid $gray-lighter;\n  border-left: 4px solid $primary;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto 20px;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.empty-state i {\n  font-size: 3rem;\n  margin-bottom: 16px;\n  display: block;\n}\n\n.recipe-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n  gap: $spacing-6;\n\n  @include responsive('sm') {\n    grid-template-columns: 1fr;\n  }\n}\n\n.recipe-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 1px solid $gray-lighter;\n\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: $shadow-lg;\n  }\n}\n\n.recipe-image {\n  position: relative;\n  height: 200px;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n}\n\n.recipe-badges {\n  position: absolute;\n  top: 12px;\n  left: 12px;\n  display: flex;\n  flex-direction: column;\n  gap: 6px;\n}\n\n.remove-btn {\n  position: absolute;\n  top: 12px;\n  right: 12px;\n  background: rgba($error, 0.9);\n  color: $white;\n  border: none;\n  border-radius: 50%;\n  width: 32px;\n  height: 32px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  opacity: 0;\n  transform: scale(0.8);\n\n  &:hover {\n    background: $error;\n    transform: scale(1);\n  }\n\n  i {\n    font-size: 0.9rem;\n  }\n}\n\n.recipe-card:hover .remove-btn {\n  opacity: 1;\n  transform: scale(1);\n}\n\n.badge {\n  background: rgba($white, 0.95);\n  color: $primary-dark;\n  padding: 4px 8px;\n  border-radius: 12px;\n  font-size: 0.75rem;\n  font-weight: 600;\n}\n\n.recipe-content {\n  padding: $spacing-4;\n}\n\n.recipe-title {\n  font-size: 1.2rem;\n  font-weight: 600;\n  color: $primary-dark;\n  margin: 0 0 $spacing-2 0;\n  line-height: 1.3;\n}\n\n.recipe-summary {\n  color: $gray;\n  font-size: 0.9rem;\n  line-height: 1.4;\n  margin: 0 0 $spacing-4 0;\n}\n\n.recipe-stats {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: $spacing-4;\n  padding: $spacing-3 0;\n  border-top: 1px solid $gray-lighter;\n  border-bottom: 1px solid $gray-lighter;\n}\n\n.stat {\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  color: $gray;\n  font-size: 0.85rem;\n\n  i {\n    font-size: 0.9rem;\n    color: $primary;\n  }\n}\n\n.nutrition-preview {\n  display: flex;\n  justify-content: space-between;\n}\n\n.macro {\n  text-align: center;\n}\n\n.macro-label {\n  display: block;\n  font-size: 0.75rem;\n  color: $gray;\n  margin-bottom: 2px;\n}\n\n.macro-value {\n  display: block;\n  font-size: 0.9rem;\n  font-weight: 600;\n  color: $primary-dark;\n}\n</style>","import { render } from \"./RecipeBrowser.vue?vue&type=template&id=9ee9a8de&scoped=true\"\nimport script from \"./RecipeBrowser.vue?vue&type=script&lang=js\"\nexport * from \"./RecipeBrowser.vue?vue&type=script&lang=js\"\n\nimport \"./RecipeBrowser.vue?vue&type=style&index=0&id=9ee9a8de&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9ee9a8de\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/NutritionProfileSetup.vue -->\n<template>\n  <div class=\"nutrition-profile-setup\">\n    <div class=\"profile-card\">\n      <div class=\"card-header\">\n        <h2>Your Nutrition Profile</h2>\n        <p>Set up your dietary preferences and nutrition goals</p>\n      </div>\n\n      <!-- Validation Errors -->\n      <div v-if=\"validationErrors.length > 0\" class=\"error-messages\">\n        <div class=\"error-card\">\n          <h4>Please fix the following issues:</h4>\n          <ul>\n            <li v-for=\"error in validationErrors\" :key=\"error\">{{ error }}</li>\n          </ul>\n        </div>\n      </div>\n\n      <div v-if=\"loading\" class=\"loading-state\">\n        <div class=\"loading-spinner\"></div>\n        <p>Loading your profile...</p>\n      </div>\n\n      <form v-else @submit.prevent=\"saveProfile\" class=\"profile-form\">\n        <!-- Nutrition Targets -->\n        <div class=\"form-section\">\n          <h3>Daily Nutrition Targets</h3>\n          <div class=\"targets-grid\">\n            <div class=\"form-group\">\n              <label for=\"calorie_target\">Daily Calories</label>\n              <input\n                id=\"calorie_target\"\n                v-model.number=\"formData.calorie_target\"\n                type=\"number\"\n                min=\"1000\"\n                max=\"5000\"\n                class=\"form-input\"\n                required\n              />\n              <span class=\"form-help\">Recommended: 1800-2500 kcal</span>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"protein_target\">Protein (g)</label>\n              <input\n                id=\"protein_target\"\n                v-model.number=\"formData.protein_target\"\n                type=\"number\"\n                min=\"0\"\n                max=\"500\"\n                class=\"form-input\"\n                required\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"carb_target\">Carbs (g)</label>\n              <input\n                id=\"carb_target\"\n                v-model.number=\"formData.carb_target\"\n                type=\"number\"\n                min=\"0\"\n                max=\"1000\"\n                class=\"form-input\"\n                required\n              />\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"fat_target\">Fat (g)</label>\n              <input\n                id=\"fat_target\"\n                v-model.number=\"formData.fat_target\"\n                type=\"number\"\n                min=\"0\"\n                max=\"300\"\n                class=\"form-input\"\n                required\n              />\n            </div>\n          </div>\n        </div>\n\n        <!-- Dietary Preferences with Conflict Detection -->\n        <div class=\"form-section\">\n          <h3>Dietary Preferences</h3>\n          <div v-if=\"dietaryConflicts.length > 0\" class=\"conflict-warning\">\n            <i class=\"fas fa-exclamation-triangle\"></i>\n            <span>Warning: Some selected preferences may conflict with each other</span>\n            <ul>\n              <li v-for=\"conflict in dietaryConflicts\" :key=\"conflict\">{{ conflict }}</li>\n            </ul>\n          </div>\n          <div class=\"preferences-grid\">\n            <label\n              v-for=\"preference in availableDietaryPreferences\"\n              :key=\"preference.value\"\n              class=\"checkbox-label\"\n              :class=\"{ 'disabled': isPreferenceDisabled(preference.value) }\"\n            >\n              <input\n                v-model=\"formData.dietary_preferences\"\n                type=\"checkbox\"\n                :value=\"preference.value\"\n                :disabled=\"isPreferenceDisabled(preference.value)\"\n                class=\"checkbox-input\"\n                @change=\"checkDietaryConflicts\"\n              />\n              <span class=\"checkbox-custom\"></span>\n              {{ preference.label }}\n              <span v-if=\"isPreferenceDisabled(preference.value)\" class=\"disabled-reason\">\n                (Conflicts with current selection)\n              </span>\n            </label>\n          </div>\n        </div>\n\n        <!-- Allergies & Intolerances -->\n        <div class=\"form-section\">\n          <h3>Allergies & Intolerances</h3>\n          <div class=\"preferences-grid\">\n            <label\n              v-for=\"allergy in availableAllergies\"\n              :key=\"allergy.value\"\n              class=\"checkbox-label\"\n            >\n              <input\n                v-model=\"formData.allergies_intolerances\"\n                type=\"checkbox\"\n                :value=\"allergy.value\"\n                class=\"checkbox-input\"\n              />\n              <span class=\"checkbox-custom\"></span>\n              {{ allergy.label }}\n            </label>\n          </div>\n        </div>\n\n        <!-- Cuisine Preferences -->\n        <div class=\"form-section\">\n          <h3>Favorite Cuisines</h3>\n          <div class=\"preferences-grid\">\n            <label\n              v-for=\"cuisine in availableCuisines\"\n              :key=\"cuisine.value\"\n              class=\"checkbox-label\"\n            >\n              <input\n                v-model=\"formData.cuisine_preferences\"\n                type=\"checkbox\"\n                :value=\"cuisine.value\"\n                class=\"checkbox-input\"\n              />\n              <span class=\"checkbox-custom\"></span>\n              {{ cuisine.label }}\n            </label>\n          </div>\n        </div>\n\n        <!-- Disliked Ingredients -->\n        <div class=\"form-section\">\n          <h3>Disliked Ingredients</h3>\n          <div class=\"form-group\">\n            <label for=\"disliked_ingredients\">Ingredients you want to avoid</label>\n            <input\n              id=\"disliked_ingredients\"\n              v-model=\"dislikedIngredientsInput\"\n              type=\"text\"\n              class=\"form-input\"\n              placeholder=\"Enter ingredients separated by commas (e.g., mushrooms, tofu, cilantro)\"\n              @blur=\"updateDislikedIngredients\"\n            />\n            <span class=\"form-help\">Separate multiple ingredients with commas</span>\n            <div v-if=\"formData.disliked_ingredients.length > 0\" class=\"ingredient-tags\">\n              <span\n                v-for=\"ingredient in formData.disliked_ingredients\"\n                :key=\"ingredient\"\n                class=\"ingredient-tag\"\n              >\n                {{ ingredient }}\n                <button type=\"button\" @click=\"removeDislikedIngredient(ingredient)\" class=\"remove-tag\">×</button>\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Meal Preferences -->\n        <div class=\"form-section\">\n          <h3>Meal Preferences</h3>\n          <div class=\"meal-prefs-grid\">\n            <div class=\"form-group\">\n              <label for=\"meals_per_day\">Meals per Day</label>\n              <select\n                id=\"meals_per_day\"\n                v-model.number=\"formData.meals_per_day\"\n                class=\"form-select\"\n              >\n                <option value=\"2\">2 meals</option>\n                <option value=\"3\">3 meals</option>\n                <option value=\"4\">4 meals</option>\n                <option value=\"5\">5 meals</option>\n                <option value=\"6\">6 meals</option>\n              </select>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"timezone\">Timezone</label>\n              <select\n                id=\"timezone\"\n                v-model=\"formData.timezone\"\n                class=\"form-select\"\n              >\n                <option value=\"UTC\">UTC</option>\n                <option value=\"Europe/London\">London</option>\n                <option value=\"Europe/Berlin\">Berlin</option>\n                <option value=\"Europe/Tallinn\">Tallinn (Estonia)</option>\n                <option value=\"America/New_York\">New York</option>\n                <option value=\"America/Los_Angeles\">Los Angeles</option>\n                <option value=\"Asia/Tokyo\">Tokyo</option>\n              </select>\n            </div>\n          </div>\n        </div>\n\n        <!-- Save Button -->\n        <div class=\"form-actions\">\n          <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"saving || hasValidationErrors\">\n            <span v-if=\"saving\">\n              <i class=\"fas fa-spinner fa-spin\"></i>\n              Saving...\n            </span>\n            <span v-else>\n              <i class=\"fas fa-save\"></i>\n              Save Profile\n            </span>\n          </button>\n\n          <button type=\"button\" @click=\"calculateTargets\" class=\"btn btn-secondary\">\n            <i class=\"fas fa-calculator\"></i>\n            Auto-Calculate Targets\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\n\nexport default {\n  name: 'NutritionProfileSetup',\n  props: {\n    profile: {\n      type: Object,\n      default: null\n    },\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['profile-updated'],\n  data() {\n    return {\n      saving: false,\n      validationErrors: [],\n      dietaryConflicts: [],\n      dislikedIngredientsInput: '',\n      formData: {\n        calorie_target: 2000,\n        protein_target: 100,\n        carb_target: 250,\n        fat_target: 67,\n        dietary_preferences: [],\n        allergies_intolerances: [],\n        cuisine_preferences: [],\n        disliked_ingredients: [],\n        meals_per_day: 3,\n        timezone: 'Europe/Tallinn'\n      },\n      availableDietaryPreferences: [\n        { value: 'vegetarian', label: 'Vegetarian', conflicts: ['paleo'] },\n        { value: 'vegan', label: 'Vegan', conflicts: ['paleo', 'pescatarian', 'keto'] },\n        { value: 'pescatarian', label: 'Pescatarian', conflicts: ['vegan', 'vegetarian', 'paleo'] },\n        { value: 'keto', label: 'Ketogenic', conflicts: ['vegan', 'high_carb', 'mediterranean'] },\n        { value: 'paleo', label: 'Paleo', conflicts: ['vegetarian', 'vegan', 'pescatarian', 'mediterranean'] },\n        { value: 'mediterranean', label: 'Mediterranean', conflicts: ['keto', 'paleo', 'low_carb'] },\n        { value: 'low_carb', label: 'Low Carb', conflicts: ['mediterranean', 'high_carb'] },\n        { value: 'high_carb', label: 'High Carb', conflicts: ['keto', 'low_carb'] },\n        { value: 'high_protein', label: 'High Protein', conflicts: [] },\n        { value: 'gluten_free', label: 'Gluten Free', conflicts: [] },\n        { value: 'dairy_free', label: 'Dairy Free', conflicts: [] },\n        { value: 'low_sodium', label: 'Low Sodium', conflicts: [] },\n        { value: 'diabetic', label: 'Diabetic Friendly', conflicts: ['high_carb'] },\n        { value: 'heart_healthy', label: 'Heart Healthy', conflicts: [] },\n        { value: 'whole30', label: 'Whole30', conflicts: ['vegetarian', 'vegan'] }\n      ],\n      availableAllergies: [\n        { value: 'nuts', label: 'Tree Nuts' },\n        { value: 'peanuts', label: 'Peanuts' },\n        { value: 'dairy', label: 'Dairy/Lactose' },\n        { value: 'gluten', label: 'Gluten' },\n        { value: 'eggs', label: 'Eggs' },\n        { value: 'fish', label: 'Fish' },\n        { value: 'shellfish', label: 'Shellfish' },\n        { value: 'soy', label: 'Soy' },\n        { value: 'sesame', label: 'Sesame' },\n        { value: 'sulfites', label: 'Sulfites' }\n      ],\n      availableCuisines: [\n        { value: 'italian', label: 'Italian' },\n        { value: 'mexican', label: 'Mexican' },\n        { value: 'asian', label: 'Asian' },\n        { value: 'indian', label: 'Indian' },\n        { value: 'mediterranean', label: 'Mediterranean' },\n        { value: 'american', label: 'American' },\n        { value: 'french', label: 'French' },\n        { value: 'thai', label: 'Thai' },\n        { value: 'japanese', label: 'Japanese' },\n        { value: 'chinese', label: 'Chinese' },\n        { value: 'middle_eastern', label: 'Middle Eastern' },\n        { value: 'korean', label: 'Korean' },\n        { value: 'greek', label: 'Greek' },\n        { value: 'spanish', label: 'Spanish' }\n      ]\n    }\n  },\n  computed: {\n    hasValidationErrors() {\n      return this.validationErrors.length > 0 || this.dietaryConflicts.length > 0\n    }\n  },\n  watch: {\n    profile: {\n      immediate: true,\n      handler(newProfile) {\n        if (newProfile) {\n          this.formData = { ...this.formData, ...newProfile }\n          // Update disliked ingredients input\n          if (newProfile.disliked_ingredients) {\n            this.dislikedIngredientsInput = newProfile.disliked_ingredients.join(', ')\n          }\n          this.checkDietaryConflicts()\n        }\n      }\n    }\n  },\n  methods: {\n    async saveProfile() {\n      // Validate form first\n      this.validateForm()\n      if (this.hasValidationErrors) {\n        return\n      }\n\n      this.saving = true\n      try {\n        // Call the API directly instead of just emitting\n        const response = await mealPlanningApi.updateNutritionProfile(this.formData)\n\n        // Emit the updated profile to parent component\n        this.$emit('profile-updated', response.data)\n\n        // Show success message\n        this.$toast?.success?.('Nutrition profile saved successfully!') ||\n        alert('Nutrition profile saved successfully!')\n\n      } catch (error) {\n        console.error('Error saving profile:', error)\n        const errorMessage = error.response?.data?.detail ||\n                            error.response?.data?.message ||\n                            error.message ||\n                            'Failed to save nutrition profile'\n\n        this.$toast?.error?.(errorMessage) ||\n        alert(errorMessage)\n      } finally {\n        this.saving = false\n      }\n    },\n\n    validateForm() {\n      this.validationErrors = []\n\n      // Validate calorie target\n      if (!this.formData.calorie_target || this.formData.calorie_target < 1000 || this.formData.calorie_target > 5000) {\n        this.validationErrors.push('Daily calories must be between 1000 and 5000')\n      }\n\n      // Validate protein target\n      if (!this.formData.protein_target || this.formData.protein_target < 0 || this.formData.protein_target > 500) {\n        this.validationErrors.push('Protein target must be between 0 and 500g')\n      }\n\n      // Validate carb target\n      if (!this.formData.carb_target || this.formData.carb_target < 0 || this.formData.carb_target > 1000) {\n        this.validationErrors.push('Carbohydrate target must be between 0 and 1000g')\n      }\n\n      // Validate fat target\n      if (!this.formData.fat_target || this.formData.fat_target < 0 || this.formData.fat_target > 300) {\n        this.validationErrors.push('Fat target must be between 0 and 300g')\n      }\n\n      // Check if total macros match calories approximately\n      const totalCaloriesFromMacros = (this.formData.protein_target * 4) +\n                                     (this.formData.carb_target * 4) +\n                                     (this.formData.fat_target * 9)\n\n      const calorieDifference = Math.abs(totalCaloriesFromMacros - this.formData.calorie_target)\n      if (calorieDifference > 100) {\n        this.validationErrors.push(`Macro calories (${Math.round(totalCaloriesFromMacros)}) don't match calorie target (${this.formData.calorie_target}). Difference: ${Math.round(calorieDifference)} calories`)\n      }\n    },\n\n    checkDietaryConflicts() {\n      this.dietaryConflicts = []\n      const selected = this.formData.dietary_preferences\n\n      // Check for conflicts between selected preferences\n      for (let i = 0; i < selected.length; i++) {\n        for (let j = i + 1; j < selected.length; j++) {\n          const pref1 = this.availableDietaryPreferences.find(p => p.value === selected[i])\n          const pref2 = this.availableDietaryPreferences.find(p => p.value === selected[j])\n\n          if (pref1?.conflicts?.includes(selected[j])) {\n            this.dietaryConflicts.push(`${pref1.label} conflicts with ${pref2.label}`)\n          }\n        }\n      }\n    },\n\n    isPreferenceDisabled(preferenceValue) {\n      const selected = this.formData.dietary_preferences\n      if (selected.includes(preferenceValue)) return false\n\n      const preference = this.availableDietaryPreferences.find(p => p.value === preferenceValue)\n      if (!preference?.conflicts) return false\n\n      // Check if any selected preference conflicts with this one\n      return selected.some(selectedPref => preference.conflicts.includes(selectedPref))\n    },\n\n    updateDislikedIngredients() {\n      if (this.dislikedIngredientsInput.trim()) {\n        this.formData.disliked_ingredients = this.dislikedIngredientsInput\n          .split(',')\n          .map(ingredient => ingredient.trim())\n          .filter(ingredient => ingredient.length > 0)\n      } else {\n        this.formData.disliked_ingredients = []\n      }\n    },\n\n    removeDislikedIngredient(ingredient) {\n      this.formData.disliked_ingredients = this.formData.disliked_ingredients.filter(\n        item => item !== ingredient\n      )\n      this.dislikedIngredientsInput = this.formData.disliked_ingredients.join(', ')\n    },\n\n    calculateTargets() {\n      // Get user's health profile for better calculation\n      const baseCalories = 2000 // This should ideally come from health profile\n\n      // Check selected dietary preferences for macro distribution\n      const isKeto = this.formData.dietary_preferences.includes('keto')\n      const isLowCarb = this.formData.dietary_preferences.includes('low_carb')\n      const isHighProtein = this.formData.dietary_preferences.includes('high_protein')\n\n      let proteinRatio, carbRatio, fatRatio\n\n      if (isKeto) {\n        proteinRatio = 0.25\n        carbRatio = 0.05\n        fatRatio = 0.70\n      } else if (isLowCarb) {\n        proteinRatio = 0.30\n        carbRatio = 0.20\n        fatRatio = 0.50\n      } else if (isHighProtein) {\n        proteinRatio = 0.35\n        carbRatio = 0.35\n        fatRatio = 0.30\n      } else {\n        // Standard balanced diet\n        proteinRatio = 0.25\n        carbRatio = 0.45\n        fatRatio = 0.30\n      }\n\n      this.formData.calorie_target = baseCalories\n      this.formData.protein_target = Math.round((baseCalories * proteinRatio) / 4)\n      this.formData.carb_target = Math.round((baseCalories * carbRatio) / 4)\n      this.formData.fat_target = Math.round((baseCalories * fatRatio) / 9)\n\n      // Validate after auto-calculation\n      this.validateForm()\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.nutrition-profile-setup {\n  max-width: 800px;\n  margin: 0 auto;\n}\n\n.profile-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n}\n\n.card-header {\n  padding: $spacing-6;\n  background: linear-gradient(135deg, $primary, lighten($primary, 10%));\n  color: $white;\n  text-align: center;\n\n  h2 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1.8rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    opacity: 0.9;\n  }\n}\n\n.error-messages {\n  padding: $spacing-4 $spacing-6;\n  background: #fee;\n  border-bottom: 1px solid $gray-lighter;\n}\n\n.error-card {\n  color: #c53030;\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1rem;\n  }\n\n  ul {\n    margin: 0;\n    padding-left: $spacing-4;\n  }\n}\n\n.conflict-warning {\n  background: #fff3cd;\n  border: 1px solid #ffeaa7;\n  border-radius: $border-radius;\n  padding: $spacing-3;\n  margin-bottom: $spacing-4;\n  color: #856404;\n\n  i {\n    margin-right: $spacing-2;\n  }\n\n  ul {\n    margin: $spacing-2 0 0 0;\n    padding-left: $spacing-4;\n  }\n}\n\n.loading-state {\n  padding: $spacing-8;\n  text-align: center;\n  color: $gray;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid $gray-lighter;\n  border-left: 4px solid $primary;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto $spacing-4;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.profile-form {\n  padding: $spacing-6;\n}\n\n.form-section {\n  margin-bottom: $spacing-8;\n\n  h3 {\n    margin: 0 0 $spacing-4 0;\n    color: $primary-dark;\n    font-size: 1.2rem;\n    font-weight: 600;\n    padding-bottom: $spacing-2;\n    border-bottom: 2px solid $gray-lighter;\n  }\n}\n\n.targets-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n  gap: $spacing-4;\n}\n\n.meal-prefs-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: $spacing-4;\n}\n\n.preferences-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: $spacing-3;\n}\n\n.form-group {\n  label {\n    display: block;\n    margin-bottom: $spacing-2;\n    font-weight: 500;\n    color: $primary-dark;\n  }\n}\n\n.form-input, .form-select {\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid $gray-lighter;\n  border-radius: $border-radius;\n  font-size: 1rem;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n    box-shadow: 0 0 0 3px rgba($primary, 0.1);\n  }\n}\n\n.form-help {\n  display: block;\n  margin-top: $spacing-1;\n  font-size: 0.85rem;\n  color: $gray;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  cursor: pointer;\n  padding: $spacing-2;\n  border-radius: $border-radius;\n  transition: background-color 0.2s ease;\n\n  &:hover:not(.disabled) {\n    background-color: rgba($primary, 0.05);\n  }\n\n  &.disabled {\n    opacity: 0.5;\n    cursor: not-allowed;\n\n    .disabled-reason {\n      font-size: 0.8rem;\n      color: $gray;\n      font-style: italic;\n    }\n  }\n}\n\n.checkbox-input {\n  display: none;\n\n  &:checked + .checkbox-custom {\n    background-color: $primary;\n    border-color: $primary;\n\n    &::after {\n      opacity: 1;\n    }\n  }\n\n  &:disabled + .checkbox-custom {\n    background-color: $gray-lighter;\n    border-color: $gray-lighter;\n  }\n}\n\n.checkbox-custom {\n  width: 20px;\n  height: 20px;\n  border: 2px solid $gray-lighter;\n  border-radius: 4px;\n  position: relative;\n  transition: all 0.2s ease;\n\n  &::after {\n    content: '✓';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    color: $white;\n    font-size: 12px;\n    font-weight: bold;\n    opacity: 0;\n    transition: opacity 0.2s ease;\n  }\n}\n\n.ingredient-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: $spacing-2;\n  margin-top: $spacing-2;\n}\n\n.ingredient-tag {\n  background: $primary;\n  color: $white;\n  padding: $spacing-1 $spacing-2;\n  border-radius: $border-radius;\n  font-size: 0.9rem;\n  display: flex;\n  align-items: center;\n  gap: $spacing-1;\n\n  .remove-tag {\n    background: none;\n    border: none;\n    color: $white;\n    cursor: pointer;\n    font-weight: bold;\n    padding: 0;\n    margin-left: $spacing-1;\n\n    &:hover {\n      color: rgba($white, 0.7);\n    }\n  }\n}\n\n.form-actions {\n  display: flex;\n  gap: $spacing-4;\n  justify-content: center;\n  padding-top: $spacing-4;\n  border-top: 1px solid $gray-lighter;\n\n  @include responsive('sm') {\n    flex-direction: column;\n  }\n}\n\n.btn {\n  padding: 12px 24px;\n  border-radius: $border-radius;\n  font-weight: 500;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  border: none;\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n\n  &.btn-primary {\n    background: $primary;\n    color: $white;\n\n    &:hover:not(:disabled) {\n      background: darken($primary, 10%);\n    }\n\n    &:disabled {\n      background: $gray-lighter;\n      cursor: not-allowed;\n    }\n  }\n\n  &.btn-secondary {\n    background: $gray-light;\n    color: $primary-dark;\n\n    &:hover {\n      background: darken($gray-light, 5%);\n    }\n  }\n}\n</style>","import { render } from \"./NutritionProfileSetup.vue?vue&type=template&id=300544f8&scoped=true\"\nimport script from \"./NutritionProfileSetup.vue?vue&type=script&lang=js\"\nexport * from \"./NutritionProfileSetup.vue?vue&type=script&lang=js\"\n\nimport \"./NutritionProfileSetup.vue?vue&type=style&index=0&id=300544f8&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-300544f8\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/MealPlanManager.vue -->\n<template>\n  <div class=\"meal-plan-manager\">\n    <!-- AI Generation Status -->\n    <div v-if=\"generationStatus\" class=\"generation-status\" :class=\"generationStatus.type\">\n      <div class=\"status-content\">\n        <i :class=\"generationStatus.icon\"></i>\n        <div class=\"status-text\">\n          <h4>{{ generationStatus.title }}</h4>\n          <p>{{ generationStatus.message }}</p>\n          <div v-if=\"generationStatus.steps\" class=\"generation-steps\">\n            <div\n              v-for=\"(step, index) in generationStatus.steps\"\n              :key=\"index\"\n              class=\"step\"\n              :class=\"{ 'completed': step.completed, 'active': step.active }\"\n            >\n              <i :class=\"step.completed ? 'fas fa-check' : step.active ? 'fas fa-spinner fa-spin' : 'fas fa-clock'\"></i>\n              <span>{{ step.name }}</span>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Generate New Meal Plan Section -->\n    <div class=\"generate-section\">\n      <div class=\"section-header\">\n        <h2>AI-Powered Meal Planning</h2>\n        <p>Let our advanced AI create a personalized meal plan based on your health profile, dietary preferences, and nutrition goals</p>\n      </div>\n\n      <form @submit.prevent=\"generateMealPlan\" class=\"generate-form\">\n        <div class=\"form-row\">\n          <div class=\"form-group\">\n            <label for=\"plan_type\">Plan Type</label>\n            <select\n              id=\"plan_type\"\n              v-model=\"generateForm.plan_type\"\n              class=\"form-select\"\n            >\n              <option value=\"daily\">Daily Plan (1 day)</option>\n              <option value=\"weekly\">Weekly Plan (7 days)</option>\n            </select>\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"start_date\">Start Date</label>\n            <input\n              id=\"start_date\"\n              v-model=\"generateForm.start_date\"\n              type=\"date\"\n              class=\"form-input\"\n              :min=\"today\"\n            />\n          </div>\n\n          <div class=\"form-group\">\n            <label for=\"target_calories\">Target Calories (optional)</label>\n            <input\n              id=\"target_calories\"\n              v-model.number=\"generateForm.target_calories\"\n              type=\"number\"\n              min=\"1000\"\n              max=\"5000\"\n              placeholder=\"Uses your health profile default\"\n              class=\"form-input\"\n            />\n            <small class=\"form-hint\">Leave empty to use your calculated target from health profile</small>\n          </div>\n        </div>\n\n        <div class=\"advanced-options\" v-if=\"showAdvancedOptions\">\n          <h4>Advanced Options</h4>\n          <div class=\"form-row\">\n            <div class=\"form-group\">\n              <label>Preferred Cuisines (override profile)</label>\n              <div class=\"checkbox-group\">\n                <label v-for=\"cuisine in availableCuisines\" :key=\"cuisine\" class=\"checkbox-label\">\n                  <input\n                    type=\"checkbox\"\n                    :value=\"cuisine\"\n                    v-model=\"generateForm.cuisine_preferences\"\n                  />\n                  <span>{{ cuisine }}</span>\n                </label>\n              </div>\n            </div>\n\n            <div class=\"form-group\">\n              <label for=\"max_cook_time\">Max Cooking Time (minutes)</label>\n              <input\n                id=\"max_cook_time\"\n                v-model.number=\"generateForm.max_cook_time\"\n                type=\"number\"\n                min=\"10\"\n                max=\"120\"\n                placeholder=\"No limit\"\n                class=\"form-input\"\n              />\n            </div>\n          </div>\n        </div>\n\n        <div class=\"form-actions\">\n          <button\n            type=\"button\"\n            @click=\"showAdvancedOptions = !showAdvancedOptions\"\n            class=\"btn btn-outline\"\n          >\n            <i :class=\"showAdvancedOptions ? 'fas fa-chevron-up' : 'fas fa-chevron-down'\"></i>\n            {{ showAdvancedOptions ? 'Hide' : 'Show' }} Advanced Options\n          </button>\n\n          <button\n            type=\"submit\"\n            class=\"btn btn-primary generate-btn\"\n            :disabled=\"generating\"\n          >\n            <i class=\"fas fa-brain\" v-if=\"!generating\"></i>\n            <i class=\"fas fa-spinner fa-spin\" v-else></i>\n            {{ generating ? 'AI is Creating Your Plan...' : 'Generate AI Meal Plan' }}\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <!-- Existing Meal Plans Section -->\n    <div class=\"existing-plans-section\">\n      <div class=\"section-header\">\n        <h2>Your AI-Generated Meal Plans</h2>\n        <p>Previously generated personalized meal plans</p>\n      </div>\n\n      <div v-if=\"loading\" class=\"loading-state\">\n        <div class=\"loading-spinner\"></div>\n        <p>Loading your meal plans...</p>\n      </div>\n\n      <div v-else-if=\"mealPlans.length === 0\" class=\"empty-state\">\n        <i class=\"fas fa-brain\"></i>\n        <h3>No AI meal plans yet</h3>\n        <p>Generate your first AI-powered, personalized meal plan above!</p>\n      </div>\n\n      <div v-else class=\"meal-plans-grid\">\n        <div\n          v-for=\"plan in mealPlans\"\n          :key=\"plan.id\"\n          class=\"meal-plan-card\"\n          @click=\"viewMealPlan(plan)\"\n        >\n\n          <div class=\"plan-header\">\n            <h3>{{ plan ? formatPlanType(plan.plan_type) : 'Loading...' }} Plan</h3>\n            <span class=\"plan-date\">{{ plan ? formatDateRange(plan.start_date, plan.end_date) : 'Date unknown' }}</span>\n            <div class=\"ai-badge\">\n              <i class=\"fas fa-brain\"></i>\n              <span>AI v{{ plan.generation_version || '1.0' }}</span>\n            </div>\n          </div>\n\n          <div class=\"plan-stats\">\n            <div class=\"stat\">\n              <span class=\"stat-value\">{{ plan?.avg_daily_calories ? Math.round(plan.avg_daily_calories) : 'N/A' }}</span>\n              <span class=\"stat-label\">Avg Calories</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-value\">{{ getMealCount(plan) }}</span>\n              <span class=\"stat-label\">Meals</span>\n            </div>\n            <div class=\"stat\">\n              <span class=\"stat-value\">{{ plan.nutritional_balance_score?.toFixed(1) || 'N/A' }}</span>\n              <span class=\"stat-label\">Balance Score</span>\n            </div>\n          </div>\n\n          <div class=\"plan-nutrition\" v-if=\"plan.daily_averages\">\n            <h4>Daily Nutrition Averages</h4>\n            <div class=\"nutrition-grid\">\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Protein:</span>\n                <span class=\"nutrition-value\">{{ Math.round(plan.daily_averages.protein || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Carbs:</span>\n                <span class=\"nutrition-value\">{{ Math.round(plan.daily_averages.carbs || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Fat:</span>\n                <span class=\"nutrition-value\">{{ Math.round(plan.daily_averages.fat || 0) }}g</span>\n              </div>\n            </div>\n          </div>\n\n          <div class=\"quality-scores\" v-if=\"plan.variety_score || plan.preference_match_score\">\n            <div class=\"score-item\">\n              <span class=\"score-label\">Variety:</span>\n              <div class=\"score-bar\">\n                <div class=\"score-fill\" :style=\"{ width: (plan.variety_score * 10) + '%' }\"></div>\n              </div>\n              <span class=\"score-value\">{{ plan.variety_score?.toFixed(1) || 'N/A' }}</span>\n            </div>\n            <div class=\"score-item\">\n              <span class=\"score-label\">Preference:</span>\n              <div class=\"score-bar\">\n                <div class=\"score-fill\" :style=\"{ width: (plan.preference_match_score * 10) + '%' }\"></div>\n              </div>\n              <span class=\"score-value\">{{ plan.preference_match_score?.toFixed(1) || 'N/A' }}</span>\n            </div>\n          </div>\n\n          <div class=\"plan-actions\">\n            <button @click.stop=\"viewMealPlan(plan)\" class=\"btn btn-outline\">\n              <i class=\"fas fa-eye\"></i>\n              View Details\n            </button>\n            <button @click.stop=\"analyzeMealPlan(plan)\" class=\"btn btn-info\">\n              <i class=\"fas fa-chart-line\"></i>\n              AI Analysis\n            </button>\n            <button @click.stop=\"regeneratePlan(plan)\" class=\"btn btn-secondary\">\n              <i class=\"fas fa-redo\"></i>\n              Regenerate\n            </button>\n            <button @click.stop=\"deleteMealPlan(plan)\" class=\"btn btn-danger\">\n              <i class=\"fas fa-trash\"></i>\n              Delete\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Meal Plan Detail Modal -->\n    <meal-plan-detail-modal\n      v-if=\"selectedPlan\"\n      :meal-plan=\"selectedPlan\"\n      @close=\"selectedPlan = null\"\n      @regenerate-meal=\"(mealData) => regenerateMeal(selectedPlan.id, mealData)\"\n      @get-alternatives=\"(mealData) => getMealAlternatives(selectedPlan.id, mealData)\"\n      @analyze-plan=\"analyzeMealPlanFromModal\"\n      @delete-plan=\"deleteMealPlan\"\n    />\n\n    <!-- Nutritional Analysis Modal -->\n    <nutritional-analysis-modal\n      v-if=\"showAnalysisModal && currentAnalysis\"\n      :analysis=\"currentAnalysis\"\n      :meal-plan=\"selectedPlanForAnalysis\"\n      @close=\"closeAnalysisModal\"\n    />\n  </div>\n</template>\n\n<script>\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\nimport MealPlanDetailModal from './MealPlanDetailModal.vue'\nimport NutritionalAnalysisModal from './NutritionalAnalysisModal.vue'\n\nexport default {\n  name: 'MealPlanManager',\n  components: {\n    MealPlanDetailModal,\n    NutritionalAnalysisModal\n  },\n  props: {\n    loading: {\n      type: Boolean,\n      default: false\n    }\n  },\n  emits: ['meal-plan-generated'],\n  data() {\n    return {\n      mealPlans: [],\n      selectedPlan: null,\n      selectedPlanForAnalysis: null,\n      currentAnalysis: null,\n      showAnalysisModal: false,\n      generating: false,\n      showAdvancedOptions: false,\n      generationStatus: null,\n      generateForm: {\n        plan_type: 'daily',\n        start_date: '',\n        target_calories: null,\n        cuisine_preferences: [],\n        max_cook_time: null\n      },\n      availableCuisines: [\n        'Mediterranean', 'Asian', 'Italian', 'Mexican', 'American',\n        'Indian', 'Middle Eastern', 'French', 'Japanese', 'Thai'\n      ]\n    }\n  },\n  computed: {\n    today() {\n      return new Date().toISOString().split('T')[0]\n    }\n  },\n  async mounted() {\n    // Set default start date to today\n    this.generateForm.start_date = this.today\n    await this.loadMealPlans()\n  },\n  methods: {\n    async loadMealPlans() {\n      try {\n        if (process.env.NODE_ENV === 'development') {\n          console.log('🍽️ Loading meal plans...')\n        }\n        const response = await mealPlanningApi.getMealPlans()\n        \n        // Handle different response structures safely\n        const mealPlansData = response?.data?.results || response?.data || []\n        \n        if (process.env.NODE_ENV === 'development') {\n          console.log(`✅ Loaded ${mealPlansData.length} meal plans`)\n        }\n        \n        this.mealPlans = mealPlansData\n      } catch (error) {\n        console.error('❌ Failed to load meal plans:', error.message)\n        console.error('Response:', error.response?.data)\n        console.error('================================')\n        this.mealPlans = [] // Set empty array to prevent null errors\n        this.showError('Failed to load meal plans')\n      }\n    },\n\n    // Helper method to count meals in a plan based on the new structure\n    getMealCount(plan) {\n      if (!plan?.meal_plan_data?.meals) {\n        console.log('getMealCount: No meal_plan_data.meals found for plan', plan?.id)\n        return 'N/A'\n      }\n      \n      let totalMeals = 0\n      Object.values(plan.meal_plan_data.meals).forEach(dayMeals => {\n        if (Array.isArray(dayMeals)) {\n          totalMeals += dayMeals.length\n        }\n      })\n      \n      console.log(`getMealCount: Plan ${plan.id} has ${totalMeals} total meals`)\n      return totalMeals || 'N/A'\n    },\n\n    async generateMealPlan() {\n      this.generating = true\n      this.showGenerationStatus()\n\n      try {\n        const planData = { ...this.generateForm }\n\n        // Clean up form data\n        if (!planData.target_calories) {\n          delete planData.target_calories\n        }\n        if (!planData.max_cook_time) {\n          delete planData.max_cook_time\n        }\n        if (planData.cuisine_preferences.length === 0) {\n          delete planData.cuisine_preferences\n        }\n\n        // Update generation status\n        this.updateGenerationStep('strategy', true)\n\n        const response = await mealPlanningApi.generateMealPlan(planData)\n        \n        // Update status to show recipe saving\n        this.updateGenerationStep('recipes', true)\n\n        // Mark all steps as completed\n        this.generationStatus.steps.forEach(step => {\n          step.completed = true\n          step.active = false\n        })\n\n        // Show success status\n        this.generationStatus = {\n          type: 'success',\n          icon: 'fas fa-check-circle',\n          title: 'Meal Plan Generated Successfully!',\n          message: 'Your personalized AI meal plan is ready to view. All recipes have been saved to your recipe library.'\n        }\n\n        // Add to meal plans list\n        this.mealPlans.unshift(response.data)\n\n        this.showSuccess('AI meal plan generated successfully!')\n        this.$emit('meal-plan-generated', response.data)\n\n        // Clear the status after a delay\n        setTimeout(() => {\n          this.generationStatus = null\n          this.viewMealPlan(response.data)\n        }, 2000)\n\n      } catch (error) {\n        console.error('Failed to generate meal plan:', error)\n        this.generationStatus = {\n          type: 'error',\n          icon: 'fas fa-exclamation-circle',\n          title: 'Generation Failed',\n          message: 'Failed to generate meal plan. Please try again.'\n        }\n        this.showError('Failed to generate meal plan. Please try again.')\n\n        setTimeout(() => {\n          this.generationStatus = null\n        }, 3000)\n      } finally {\n        this.generating = false\n      }\n    },\n\n    showGenerationStatus() {\n      this.generationStatus = {\n        type: 'generating',\n        icon: 'fas fa-brain',\n        title: 'AI is Creating Your Meal Plan',\n        message: 'Our AI is analyzing your profile and generating personalized meals...',\n        steps: [\n          { name: 'Analyzing your health profile', completed: false, active: true },\n          { name: 'Creating meal strategy', completed: false, active: false },\n          { name: 'Generating meal structure', completed: false, active: false },\n          { name: 'Creating detailed recipes', completed: false, active: false },\n          { name: 'Optimizing nutrition balance', completed: false, active: false }\n        ]\n      }\n\n      // Simulate step progression\n      setTimeout(() => this.updateGenerationStep('strategy'), 1000)\n      setTimeout(() => this.updateGenerationStep('structure'), 3000)\n      setTimeout(() => this.updateGenerationStep('recipes'), 5000)\n      setTimeout(() => this.updateGenerationStep('optimization'), 7000)\n    },\n\n    updateGenerationStep(stepType, forceComplete = false) {\n      if (!this.generationStatus || !this.generationStatus.steps) return\n\n      const stepIndex = {\n        'profile': 0,\n        'strategy': 1,\n        'structure': 2,\n        'recipes': 3,\n        'optimization': 4\n      }[stepType]\n\n      if (stepIndex !== undefined) {\n        // Complete previous steps\n        for (let i = 0; i < stepIndex; i++) {\n          this.generationStatus.steps[i].completed = true\n          this.generationStatus.steps[i].active = false\n        }\n\n        // Update current step\n        if (forceComplete) {\n          this.generationStatus.steps[stepIndex].completed = true\n          this.generationStatus.steps[stepIndex].active = false\n        } else {\n          this.generationStatus.steps[stepIndex].active = true\n        }\n      }\n    },\n\n    async regeneratePlan(plan) {\n      try {\n        const confirmed = confirm('Generate a new AI meal plan with the same settings? This will create a completely new plan.')\n        if (!confirmed) return\n\n        this.generating = true\n        this.showGenerationStatus()\n\n        const planData = {\n          plan_type: plan.plan_type,\n          start_date: plan.start_date\n        }\n\n        const response = await mealPlanningApi.generateMealPlan(planData)\n\n        // Add new plan to the beginning of the list\n        this.mealPlans.unshift(response.data)\n\n        this.generationStatus = {\n          type: 'success',\n          icon: 'fas fa-check-circle',\n          title: 'New Meal Plan Generated!',\n          message: 'Your fresh AI meal plan is ready. New recipes have been added to your library.'\n        }\n\n        this.showSuccess('New AI meal plan generated!')\n        this.$emit('meal-plan-generated', response.data)\n\n        setTimeout(() => {\n          this.generationStatus = null\n        }, 2000)\n\n      } catch (error) {\n        console.error('Failed to regenerate meal plan:', error)\n        this.generationStatus = {\n          type: 'error',\n          icon: 'fas fa-exclamation-circle',\n          title: 'Regeneration Failed',\n          message: 'Failed to regenerate meal plan.'\n        }\n        this.showError('Failed to regenerate meal plan')\n\n        setTimeout(() => {\n          this.generationStatus = null\n        }, 3000)\n      } finally {\n        this.generating = false\n      }\n    },\n\n    async deleteMealPlan(plan) {\n      try {\n        const confirmed = confirm(`Are you sure you want to delete this ${plan.plan_type} meal plan? This action cannot be undone.`)\n        if (!confirmed) return\n\n        await mealPlanningApi.deleteMealPlan(plan.id)\n\n        // Remove the plan from the local list\n        this.mealPlans = this.mealPlans.filter(p => p.id !== plan.id)\n\n        this.showSuccess('Meal plan deleted successfully')\n        \n        // Close modal if the deleted plan was being viewed\n        if (this.selectedPlan && this.selectedPlan.id === plan.id) {\n          this.selectedPlan = null\n        }\n\n      } catch (error) {\n        console.error('Error deleting meal plan:', error)\n        this.showError('Failed to delete meal plan')\n      }\n    },\n\n    viewMealPlan(plan) {\n      console.log('=== Meal Plan Details ===')\n      console.log('Plan ID:', plan?.id)\n      console.log('Plan Type:', plan?.plan_type)\n      console.log('Has meal_plan_data:', !!plan?.meal_plan_data)\n      console.log('Has meals:', !!plan?.meal_plan_data?.meals)\n      console.log('Meals structure:', plan?.meal_plan_data?.meals)\n      if (plan?.meal_plan_data?.meals) {\n        console.log('Available meal dates:', Object.keys(plan.meal_plan_data.meals))\n        console.log('Sample meal data for first date:', Object.values(plan.meal_plan_data.meals)[0])\n      }\n      console.log('=========================')\n      this.selectedPlan = plan\n    },\n\n    async regenerateMeal(planId, mealData) {\n      try {\n        console.log('=== Regenerating Meal ===')\n        console.log('Plan ID:', planId)\n        console.log('Meal Data:', mealData)\n        \n        if (!mealData) {\n          console.error('regenerateMeal: mealData is null/undefined')\n          throw new Error('Meal data is required')\n        }\n        \n        const { day, mealType } = mealData\n        console.log('Day:', day)\n        console.log('Meal Type:', mealType)\n        \n        if (!day || !mealType) {\n          console.error('regenerateMeal: day or mealType missing', { day, mealType })\n          throw new Error('Day and meal type are required')\n        }\n        \n        console.log('Making API call to regenerate meal...')\n        const response = await mealPlanningApi.regenerateMeal(planId, day, mealType)\n        console.log('Regeneration successful, updating UI...')\n\n        // Update the meal plan in our list\n        const planIndex = this.mealPlans.findIndex(p => p.id === planId)\n        if (planIndex !== -1) {\n          this.mealPlans[planIndex] = response.data\n          this.selectedPlan = response.data\n          console.log('Meal plan updated in list')\n        }\n\n        this.showSuccess(`${mealType} meal regenerated successfully!`)\n        console.log('========================')\n      } catch (error) {\n        console.error('=== Failed to regenerate meal ===')\n        console.error('Error message:', error.message)\n        console.error('Error response:', error.response?.data)\n        console.error('Full error:', error)\n        console.error('================================')\n        this.showError(`Failed to regenerate meal: ${error.message}`)\n      }\n    },\n\n    async getMealAlternatives(planId, mealData) {\n      try {\n        console.log('=== Getting Meal Alternatives ===')\n        console.log('Plan ID:', planId)\n        console.log('Meal Data:', mealData)\n        \n        if (!mealData) {\n          console.error('getMealAlternatives: mealData is null/undefined')\n          throw new Error('Meal data is required')\n        }\n        \n        const { day, mealType } = mealData\n        console.log('Day:', day)\n        console.log('Meal Type:', mealType)\n        \n        if (!day || !mealType) {\n          console.error('getMealAlternatives: day or mealType missing', { day, mealType })\n          throw new Error('Day and meal type are required')\n        }\n        \n        console.log('Making API call to get alternatives...')\n        const response = await mealPlanningApi.getMealAlternatives(planId, day, mealType)\n        console.log('Alternatives retrieved:', response.data?.length || 0, 'options')\n        console.log('===============================')\n        return response.data || []\n      } catch (error) {\n        console.error('=== Failed to get meal alternatives ===')\n        console.error('Error message:', error.message)\n        console.error('Error response:', error.response?.data)\n        console.error('Full error:', error)\n        console.error('=====================================')\n        this.showError(`Failed to get meal alternatives: ${error.message}`)\n        return []\n      }\n    },\n\n    async analyzeMealPlan(plan) {\n      try {\n        this.selectedPlanForAnalysis = plan\n\n        // Show loading state\n        this.currentAnalysis = {\n          loading: true,\n          message: 'AI is analyzing your meal plan nutrition...'\n        }\n        this.showAnalysisModal = true\n\n        const response = await mealPlanningApi.analyzeMealPlan(plan.id)\n        this.currentAnalysis = response.data\n\n      } catch (error) {\n        console.error('Failed to analyze meal plan:', error)\n        this.currentAnalysis = {\n          error: true,\n          message: 'Failed to analyze meal plan. Please try again.'\n        }\n        this.showError('Failed to analyze meal plan')\n      }\n    },\n\n    async analyzeMealPlanFromModal(plan) {\n      // Close the detail modal first\n      this.selectedPlan = null\n      // Then trigger the analysis\n      await this.analyzeMealPlan(plan)\n    },\n\n    closeAnalysisModal() {\n      this.showAnalysisModal = false\n      this.currentAnalysis = null\n      this.selectedPlanForAnalysis = null\n    },\n\n    formatPlanType(planType) {\n      if (!planType || typeof planType !== 'string') {\n        return 'Unknown'\n      }\n      return planType.charAt(0).toUpperCase() + planType.slice(1)\n    },\n\n    formatDateRange(startDate, endDate) {\n      if (!startDate || !endDate) {\n        console.log('formatDateRange: Missing dates - start:', startDate, 'end:', endDate)\n        return 'Date unknown'\n      }\n\n      try {\n        const startDateObj = new Date(startDate)\n        const endDateObj = new Date(endDate)\n        \n        if (isNaN(startDateObj.getTime()) || isNaN(endDateObj.getTime())) {\n          console.log('formatDateRange: Invalid dates - start:', startDate, 'end:', endDate)\n          return 'Invalid date range'\n        }\n        \n        const start = startDateObj.toLocaleDateString()\n        const end = endDateObj.toLocaleDateString()\n\n        if (startDate === endDate) {\n          return start\n        }\n        return `${start} - ${end}`\n      } catch (error) {\n        console.error('formatDateRange error:', error, 'for dates:', startDate, endDate)\n        return 'Date error'\n      }\n    },\n\n    showSuccess(message) {\n      this.$toast?.success?.(message) || alert(message)\n    },\n\n    showError(message) {\n      this.$toast?.error?.(message) || alert(message)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.meal-plan-manager {\n  max-width: 1200px;\n  margin: 0 auto;\n}\n\n// Generation Status Styles\n.generation-status {\n  margin-bottom: $spacing-6;\n  padding: $spacing-5;\n  border-radius: $border-radius-lg;\n  border-left: 4px solid;\n\n  &.generating {\n    background: linear-gradient(135deg, rgba(#007bff, 0.1), rgba(#007bff, 0.05));\n    border-left-color: #007bff;\n  }\n\n  &.success {\n    background: linear-gradient(135deg, rgba(#28a745, 0.1), rgba(#28a745, 0.05));\n    border-left-color: #28a745;\n  }\n\n  &.error {\n    background: linear-gradient(135deg, rgba(#dc3545, 0.1), rgba(#dc3545, 0.05));\n    border-left-color: #dc3545;\n  }\n}\n\n.status-content {\n  display: flex;\n  align-items: flex-start;\n  gap: $spacing-4;\n\n  i {\n    font-size: 1.5rem;\n    margin-top: 2px;\n\n    .generating & { color: #007bff; }\n    .success & { color: #28a745; }\n    .error & { color: #dc3545; }\n  }\n}\n\n.status-text {\n  flex: 1;\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 1.2rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n  }\n}\n\n.generation-steps {\n  margin-top: $spacing-4;\n  display: flex;\n  flex-direction: column;\n  gap: $spacing-2;\n}\n\n.step {\n  display: flex;\n  align-items: center;\n  gap: $spacing-3;\n  padding: $spacing-2;\n  border-radius: $border-radius;\n  transition: all 0.3s ease;\n\n  &.completed {\n    background: rgba(#28a745, 0.1);\n\n    i { color: #28a745; }\n    span { color: #28a745; font-weight: 500; }\n  }\n\n  &.active {\n    background: rgba(#007bff, 0.1);\n\n    i { color: #007bff; }\n    span { color: #007bff; font-weight: 500; }\n  }\n\n  i {\n    font-size: 0.9rem;\n    width: 16px;\n    color: $gray-light;\n  }\n\n  span {\n    font-size: 0.9rem;\n    color: $gray;\n  }\n}\n\n// Enhanced form styles\n.generate-section, .existing-plans-section {\n  margin-bottom: $spacing-8;\n}\n\n.section-header {\n  text-align: center;\n  margin-bottom: $spacing-6;\n\n  h2 {\n    margin: 0 0 $spacing-2 0;\n    color: $primary-dark;\n    font-size: 1.8rem;\n    font-weight: 600;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1.1rem;\n    max-width: 600px;\n    margin: 0 auto;\n  }\n}\n\n.generate-form {\n  background: $white;\n  padding: $spacing-6;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  border: 1px solid $gray-lighter;\n}\n\n.form-row {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: $spacing-4;\n  margin-bottom: $spacing-5;\n}\n\n.form-group {\n  label {\n    display: block;\n    margin-bottom: $spacing-2;\n    font-weight: 500;\n    color: $primary-dark;\n  }\n}\n\n.form-hint {\n  display: block;\n  margin-top: $spacing-1;\n  font-size: 0.85rem;\n  color: $gray;\n}\n\n.form-input, .form-select {\n  width: 100%;\n  padding: 12px 16px;\n  border: 2px solid $gray-lighter;\n  border-radius: $border-radius;\n  font-size: 1rem;\n  transition: border-color 0.2s ease;\n\n  &:focus {\n    outline: none;\n    border-color: $primary;\n    box-shadow: 0 0 0 3px rgba($primary, 0.1);\n  }\n}\n\n.advanced-options {\n  margin-top: $spacing-5;\n  padding-top: $spacing-5;\n  border-top: 1px solid $gray-lighter;\n\n  h4 {\n    margin: 0 0 $spacing-4 0;\n    color: $primary-dark;\n    font-size: 1.1rem;\n  }\n}\n\n.checkbox-group {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n  gap: $spacing-2;\n}\n\n.checkbox-label {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  padding: $spacing-2;\n  border-radius: $border-radius;\n  cursor: pointer;\n  transition: background-color 0.2s ease;\n\n  &:hover {\n    background: rgba($primary, 0.05);\n  }\n\n  input[type=\"checkbox\"] {\n    margin: 0;\n  }\n}\n\n.form-actions {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  gap: $spacing-4;\n  margin-top: $spacing-6;\n}\n\n.generate-btn {\n  flex: 1;\n  max-width: 300px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: $spacing-2;\n  padding: $spacing-4;\n  font-size: 1.1rem;\n  font-weight: 600;\n  background: linear-gradient(135deg, $primary, lighten($primary, 10%));\n  border: none;\n  color: $white;\n  border-radius: $border-radius;\n  transition: all 0.3s ease;\n\n  &:hover:not(:disabled) {\n    transform: translateY(-2px);\n    box-shadow: $shadow-lg;\n  }\n\n  &:disabled {\n    opacity: 0.8;\n    cursor: not-allowed;\n  }\n\n  i {\n    font-size: 1rem;\n  }\n}\n\n// Enhanced meal plan cards\n.meal-plans-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fill, minmax(380px, 1fr));\n  gap: $spacing-6;\n}\n\n.meal-plan-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  padding: $spacing-5;\n  cursor: pointer;\n  transition: all 0.3s ease;\n  border: 1px solid $gray-lighter;\n  position: relative;\n  overflow: hidden;\n\n  &:hover {\n    transform: translateY(-4px);\n    box-shadow: $shadow-lg;\n  }\n\n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    left: 0;\n    right: 0;\n    height: 3px;\n    background: linear-gradient(135deg, $primary, lighten($primary, 20%));\n  }\n}\n\n.plan-header {\n  margin-bottom: $spacing-4;\n  position: relative;\n\n  h3 {\n    margin: 0 0 $spacing-1 0;\n    color: $primary-dark;\n    font-size: 1.3rem;\n    font-weight: 600;\n  }\n\n  .plan-date {\n    color: $gray;\n    font-size: 0.9rem;\n  }\n\n  .ai-badge {\n    position: absolute;\n    top: 0;\n    right: 0;\n    background: linear-gradient(135deg, #6f42c1, #8b5cf6);\n    color: white;\n    padding: 4px 8px;\n    border-radius: $border-radius;\n    font-size: 0.75rem;\n    display: flex;\n    align-items: center;\n    gap: 4px;\n\n    i {\n      font-size: 0.7rem;\n    }\n  }\n}\n\n.plan-stats {\n  display: flex;\n  justify-content: space-between;\n  margin-bottom: $spacing-4;\n  padding: $spacing-3;\n  background: rgba($primary, 0.05);\n  border-radius: $border-radius;\n}\n\n.stat {\n  text-align: center;\n\n  .stat-value {\n    display: block;\n    font-size: 1.3rem;\n    font-weight: 600;\n    color: $primary-dark;\n    margin-bottom: 2px;\n  }\n\n  .stat-label {\n    display: block;\n    font-size: 0.75rem;\n    color: $gray;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n  }\n}\n\n// New nutrition display section\n.plan-nutrition {\n  margin-bottom: $spacing-4;\n  padding: $spacing-3;\n  background: rgba(#28a745, 0.05);\n  border-radius: $border-radius;\n\n  h4 {\n    margin: 0 0 $spacing-2 0;\n    font-size: 0.9rem;\n    color: $primary-dark;\n    font-weight: 600;\n  }\n\n  .nutrition-grid {\n    display: grid;\n    grid-template-columns: repeat(3, 1fr);\n    gap: $spacing-2;\n  }\n\n  .nutrition-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    font-size: 0.85rem;\n\n    .nutrition-label {\n      color: $gray;\n      font-weight: 500;\n    }\n\n    .nutrition-value {\n      color: $primary-dark;\n      font-weight: 600;\n    }\n  }\n}\n\n.quality-scores {\n  margin-bottom: $spacing-4;\n}\n\n.score-item {\n  display: flex;\n  align-items: center;\n  gap: $spacing-2;\n  margin-bottom: $spacing-2;\n\n  .score-label {\n    font-size: 0.85rem;\n    color: $gray;\n    min-width: 80px;\n  }\n\n  .score-bar {\n    flex: 1;\n    height: 6px;\n    background: $gray-lighter;\n    border-radius: 3px;\n    overflow: hidden;\n\n    .score-fill {\n      height: 100%;\n      background: linear-gradient(90deg, #28a745, #20c997);\n      transition: width 0.3s ease;\n    }\n  }\n\n  .score-value {\n    font-size: 0.85rem;\n    font-weight: 500;\n    color: $primary-dark;\n    min-width: 30px;\n    text-align: right;\n  }\n}\n\n.plan-actions {\n  display: flex;\n  gap: $spacing-2;\n\n  .btn {\n    flex: 1;\n    padding: $spacing-2;\n    font-size: 0.85rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    gap: 6px;\n\n    i {\n      font-size: 0.8rem;\n    }\n\n    &.btn-info {\n      background: #17a2b8;\n      color: white;\n      border: none;\n\n      &:hover {\n        background: #138496;\n      }\n    }\n\n    &.btn-danger {\n      background: #dc3545;\n      color: white;\n      border: none;\n\n      &:hover {\n        background: #c82333;\n      }\n    }\n  }\n}\n\n// Loading and empty states\n.loading-state, .empty-state {\n  text-align: center;\n  padding: $spacing-8;\n  color: $gray;\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n}\n\n.loading-spinner {\n  width: 40px;\n  height: 40px;\n  border: 4px solid $gray-lighter;\n  border-left: 4px solid $primary;\n  border-radius: 50%;\n  animation: spin 1s linear infinite;\n  margin: 0 auto $spacing-4;\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n.empty-state i {\n  font-size: 3rem;\n  margin-bottom: $spacing-4;\n  display: block;\n  color: $gray-light;\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .form-row {\n    grid-template-columns: 1fr;\n  }\n\n  .form-actions {\n    flex-direction: column;\n    align-items: stretch;\n  }\n\n  .generate-btn {\n    max-width: none;\n  }\n\n  .meal-plans-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .plan-actions {\n    flex-direction: column;\n  }\n\n  .nutrition-grid {\n    grid-template-columns: 1fr;\n  }\n}\n</style>","<!-- src/components/meal-planning/MealPlanDetailModal.vue -->\n<template>\n  <div class=\"modal-overlay\" @click=\"$emit('close')\">\n    <div class=\"modal-content\" @click.stop>\n      <div class=\"modal-header\">\n        <h2>{{ formatPlanType(mealPlan.plan_type) }} Meal Plan</h2>\n        <div class=\"ai-generation-info\">\n          <span class=\"ai-badge\">\n            <i class=\"fas fa-brain\"></i>\n            AI v{{ mealPlan.generation_version || '1.0' }}\n          </span>\n          <span class=\"model-badge\">{{ mealPlan.ai_model_used || 'AI Model' }}</span>\n        </div>\n        <button @click=\"$emit('close')\" class=\"close-btn\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n\n      <div class=\"modal-body\">\n        <div class=\"plan-overview\">\n          <div class=\"overview-stats\">\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Date Range:</span>\n              <span class=\"stat-value\">{{ formatDateRange(mealPlan.start_date, mealPlan.end_date) }}</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Total Calories:</span>\n              <span class=\"stat-value\">{{ Math.round(mealPlan.total_calories || 0) }}</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Avg Daily Calories:</span>\n              <span class=\"stat-value\">{{ Math.round(mealPlan.avg_daily_calories || 0) }}</span>\n            </div>\n            <div class=\"stat-item\">\n              <span class=\"stat-label\">Total Meals:</span>\n              <span class=\"stat-value\">{{ getTotalMeals() }}</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"mealPlan.nutritional_balance_score\">\n              <span class=\"stat-label\">Balance Score:</span>\n              <span class=\"stat-value\">{{ mealPlan.nutritional_balance_score.toFixed(1) }}/10</span>\n            </div>\n            <div class=\"stat-item\" v-if=\"mealPlan.days_count\">\n              <span class=\"stat-label\">Days:</span>\n              <span class=\"stat-value\">{{ mealPlan.days_count }}</span>\n            </div>\n          </div>\n\n          <!-- Daily Nutritional Averages -->\n          <div class=\"nutrition-overview\" v-if=\"mealPlan.daily_averages\">\n            <h4>Daily Nutritional Averages</h4>\n            <div class=\"nutrition-grid\">\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Protein:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.protein || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Carbohydrates:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.carbs || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Fat:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.fat || 0) }}g</span>\n              </div>\n              <div class=\"nutrition-item\">\n                <span class=\"nutrition-label\">Calories:</span>\n                <span class=\"nutrition-value\">{{ Math.round(mealPlan.daily_averages.calories || 0) }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Quality Scores -->\n          <div class=\"quality-scores\" v-if=\"mealPlan.variety_score || mealPlan.preference_match_score\">\n            <h4>Plan Quality Metrics</h4>\n            <div class=\"scores-grid\">\n              <div class=\"score-item\" v-if=\"mealPlan.nutritional_balance_score\">\n                <span class=\"score-label\">Nutritional Balance:</span>\n                <div class=\"score-bar\">\n                  <div class=\"score-fill\" :style=\"{ width: (mealPlan.nutritional_balance_score * 10) + '%' }\"></div>\n                </div>\n                <span class=\"score-value\">{{ mealPlan.nutritional_balance_score.toFixed(1) }}/10</span>\n              </div>\n              <div class=\"score-item\" v-if=\"mealPlan.variety_score\">\n                <span class=\"score-label\">Variety Score:</span>\n                <div class=\"score-bar\">\n                  <div class=\"score-fill\" :style=\"{ width: (mealPlan.variety_score * 10) + '%' }\"></div>\n                </div>\n                <span class=\"score-value\">{{ mealPlan.variety_score.toFixed(1) }}/10</span>\n              </div>\n              <div class=\"score-item\" v-if=\"mealPlan.preference_match_score\">\n                <span class=\"score-label\">Preference Match:</span>\n                <div class=\"score-bar\">\n                  <div class=\"score-fill\" :style=\"{ width: (mealPlan.preference_match_score * 10) + '%' }\"></div>\n                </div>\n                <span class=\"score-value\">{{ mealPlan.preference_match_score.toFixed(1) }}/10</span>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div class=\"meals-section\" v-if=\"mealPlan.meal_plan_data && mealPlan.meal_plan_data.meals\">\n          <h3>Detailed Meal Plan</h3>\n          <div class=\"meals-grid\">\n            <div\n              v-for=\"(dayMeals, date) in mealPlan.meal_plan_data.meals\"\n              :key=\"date\"\n              class=\"day-meals\"\n            >\n              <h4 class=\"day-header\">{{ formatDate(date) }}</h4>\n              <div class=\"meals-list\">\n                <div\n                  v-for=\"(meal, index) in dayMeals\"\n                  :key=\"index\"\n                  class=\"meal-card\"\n                >\n                  <div class=\"meal-header\">\n                    <div class=\"meal-title-section\">\n                      <h5 class=\"meal-title\">\n                        {{ getMealTitle(meal) }}\n                      </h5>\n                      <span class=\"meal-type-badge\" :class=\"getMealTypeClass(meal.meal_type || 'meal')\">\n                        {{ formatMealType(meal.meal_type || 'Meal') }}\n                      </span>\n                    </div>\n                    <div class=\"meal-meta\">\n                      <span class=\"meal-time\">\n                        <i class=\"fas fa-clock\"></i>\n                        {{ getMealTime(meal) }}\n                      </span>\n                      <span class=\"meal-cuisine\" v-if=\"meal.recipe?.cuisine\">\n                        <i class=\"fas fa-globe\"></i>\n                        {{ meal.recipe.cuisine }}\n                      </span>\n                    </div>\n                  </div>\n\n                  <!-- Recipe Details -->\n                  <div class=\"recipe-details\" v-if=\"meal.recipe\">\n                    <!-- Cooking Information -->\n                    <div class=\"cooking-info\" v-if=\"meal.recipe.prep_time || meal.recipe.cook_time || meal.recipe.total_time\">\n                      <div class=\"time-info\">\n                        <span v-if=\"meal.recipe.prep_time\" class=\"time-item\">\n                          <i class=\"fas fa-cut\"></i>\n                          Prep: {{ meal.recipe.prep_time }}min\n                        </span>\n                        <span v-if=\"meal.recipe.cook_time\" class=\"time-item\">\n                          <i class=\"fas fa-fire\"></i>\n                          Cook: {{ meal.recipe.cook_time }}min\n                        </span>\n                        <span v-if=\"meal.recipe.total_time\" class=\"time-item\">\n                          <i class=\"fas fa-hourglass-half\"></i>\n                          Total: {{ meal.recipe.total_time }}min\n                        </span>\n                        <span v-if=\"meal.recipe.servings\" class=\"time-item\">\n                          <i class=\"fas fa-users\"></i>\n                          Serves: {{ meal.recipe.servings }}\n                        </span>\n                      </div>\n                    </div>\n\n                    <!-- Nutritional Information -->\n                    <div class=\"meal-nutrition\">\n                      <h6>Nutritional Information</h6>\n                      <div class=\"nutrition-details\">\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Calories:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(meal.recipe, 'calories') }}</span>\n                        </div>\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Protein:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(meal.recipe, 'protein') }}g</span>\n                        </div>\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Carbs:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(meal.recipe, 'carbs') }}g</span>\n                        </div>\n                        <div class=\"nutrition-item\">\n                          <span class=\"nutrition-label\">Fat:</span>\n                          <span class=\"nutrition-value\">{{ getNutritionValue(meal.recipe, 'fat') }}g</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Ingredients -->\n                    <div class=\"ingredients-section\" v-if=\"meal.recipe.ingredients && meal.recipe.ingredients.length\">\n                      <h6>Ingredients</h6>\n                      <div class=\"ingredients-list\">\n                        <div \n                          v-for=\"(ingredient, idx) in meal.recipe.ingredients\" \n                          :key=\"idx\"\n                          class=\"ingredient-item\"\n                        >\n                          <span class=\"ingredient-quantity\">{{ ingredient.quantity }}</span>\n                          <span class=\"ingredient-unit\">{{ ingredient.unit }}</span>\n                          <span class=\"ingredient-name\">{{ ingredient.name }}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Instructions -->\n                    <div class=\"instructions-section\" v-if=\"normalizedInstructions(meal).length\">\n                      <h6>Instructions</h6>\n                      <div class=\"instructions-list\">\n                        <div \n                          v-for=\"(instruction, idx) in normalizedInstructions(meal)\" \n                          :key=\"idx\"\n                          class=\"instruction-item\"\n                        >\n                          <span class=\"instruction-number\">{{ instruction.number }}</span>\n                          <span class=\"instruction-text\">{{ instruction.step }}</span>\n                        </div>\n                      </div>\n                    </div>\n\n                    <!-- Target Information -->\n                    <div class=\"target-info\" v-if=\"meal.target_calories || meal.target_protein || meal.target_carbs || meal.target_fat\">\n                      <h6>Meal Targets</h6>\n                      <div class=\"targets-grid\">\n                        <div class=\"target-item\" v-if=\"meal.target_calories\">\n                          <span class=\"target-label\">Target Calories:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_calories) }}</span>\n                        </div>\n                        <div class=\"target-item\" v-if=\"meal.target_protein\">\n                          <span class=\"target-label\">Target Protein:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_protein) }}g</span>\n                        </div>\n                        <div class=\"target-item\" v-if=\"meal.target_carbs\">\n                          <span class=\"target-label\">Target Carbs:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_carbs) }}g</span>\n                        </div>\n                        <div class=\"target-item\" v-if=\"meal.target_fat\">\n                          <span class=\"target-label\">Target Fat:</span>\n                          <span class=\"target-value\">{{ Math.round(meal.target_fat) }}g</span>\n                        </div>\n                      </div>\n                    </div>\n                  </div>\n\n                  <div class=\"meal-actions\">\n                    <button\n                      @click=\"saveRecipeToCollection(meal.recipe)\"\n                      class=\"btn btn-sm btn-primary\"\n                      :disabled=\"savingRecipe === meal.recipe?.id\"\n                    >\n                      <i v-if=\"savingRecipe === meal.recipe?.id\" class=\"fas fa-spinner fa-spin\"></i>\n                      <i v-else class=\"fas fa-heart\"></i>\n                      {{ savingRecipe === meal.recipe?.id ? 'Saving...' : 'Save Recipe' }}\n                    </button>\n                    <button\n                      @click=\"regenerateMeal(date, meal.meal_type || inferMealTypeFromTime(new Date()))\"\n                      class=\"btn btn-sm btn-outline\"\n                    >\n                      <i class=\"fas fa-redo\"></i>\n                      Regenerate\n                    </button>\n                    <button\n                      @click=\"getAlternatives(date, meal.meal_type || inferMealTypeFromTime(new Date()))\"\n                      class=\"btn btn-sm btn-secondary\"\n                    >\n                      <i class=\"fas fa-exchange-alt\"></i>\n                      Alternatives\n                    </button>\n                    <button\n                      @click=\"viewRecipeDetails(meal.recipe)\"\n                      class=\"btn btn-sm btn-info\"\n                    >\n                      <i class=\"fas fa-info-circle\"></i>\n                      Recipe Details\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <div v-else class=\"no-meals\">\n          <i class=\"fas fa-utensils\"></i>\n          <p>No meal details available</p>\n        </div>\n      </div>\n\n      <div class=\"modal-footer\">\n        <button @click=\"$emit('close')\" class=\"btn btn-secondary\">Close</button>\n        <button @click=\"generateShoppingList\" class=\"btn btn-success\">\n          <i class=\"fas fa-shopping-cart\"></i>\n          Generate Shopping List\n        </button>\n        <button @click=\"analyzePlan\" class=\"btn btn-info\">\n          <i class=\"fas fa-chart-line\"></i>\n          AI Analysis\n        </button>\n        <button @click=\"deletePlan\" class=\"btn btn-danger\">\n          <i class=\"fas fa-trash\"></i>\n          Delete Plan\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'MealPlanDetailModal',\n  props: {\n    mealPlan: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['close', 'regenerate-meal', 'get-alternatives', 'analyze-plan', 'delete-plan'],\n  data() {\n    return {\n      savingRecipe: null // Track which recipe is being saved\n    }\n  },\n  computed: {\n    // Add computed property to normalize instructions\n    normalizedInstructions() {\n      return (meal) => {\n        const instr = meal?.recipe?.instructions || meal?.instructions || []\n        \n        // Handle empty instructions\n        if (!instr || instr.length === 0) {\n          return []\n        }\n        \n        // If it's already an array of objects with step property, extract the step text\n        if (instr.length && typeof instr[0] === 'object' && instr[0].step) {\n          return instr.map((stepObj, i) => ({\n            number: stepObj.number || i + 1,\n            step: stepObj.step,\n            description: stepObj.step\n          }))\n        }\n        \n        // If it's an array of strings, convert to objects\n        if (instr.length && typeof instr[0] === 'string') {\n          return instr.map((stepText, i) => ({\n            number: i + 1,\n            step: stepText,\n            description: stepText\n          }))\n        }\n        \n        // If it's an array of objects without step property, try to extract the step text\n        if (instr.length && typeof instr[0] === 'object') {\n          return instr.map((stepObj, i) => ({\n            number: stepObj.number || i + 1,\n            step: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`,\n            description: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`\n          }))\n        }\n        \n        return []\n      }\n    }\n  },\n  mounted() {\n    console.log('=== MealPlanDetailModal Mounted ===')\n    console.log('Meal Plan ID:', this.mealPlan?.id)\n    console.log('Plan Type:', this.mealPlan?.plan_type)\n    console.log('Has meal_plan_data:', !!this.mealPlan?.meal_plan_data)\n    console.log('Has meals:', !!this.mealPlan?.meal_plan_data?.meals)\n    \n    if (this.mealPlan?.meal_plan_data?.meals) {\n      const mealDates = Object.keys(this.mealPlan.meal_plan_data.meals)\n      console.log('Available meal dates:', mealDates)\n      console.log('Total meal days:', mealDates.length)\n      \n      // Log first day's meals as sample\n      if (mealDates.length > 0) {\n        const firstDate = mealDates[0]\n        const firstDayMeals = this.mealPlan.meal_plan_data.meals[firstDate]\n        console.log(`Sample meals for ${firstDate}:`, firstDayMeals)\n      }\n    } else {\n      console.log('No meal data available - checking structure:')\n      console.log('mealPlan keys:', Object.keys(this.mealPlan || {}))\n      if (this.mealPlan?.meal_plan_data) {\n        console.log('meal_plan_data keys:', Object.keys(this.mealPlan.meal_plan_data))\n      }\n    }\n    console.log('=====================================')\n  },\n  methods: {\n    formatPlanType(type) {\n      if (!type) return 'Unknown'\n      return type.charAt(0).toUpperCase() + type.slice(1)\n    },\n\n    formatDateRange(startDate, endDate) {\n      if (!startDate || !endDate) {\n        console.log('formatDateRange: Missing dates - start:', startDate, 'end:', endDate)\n        return 'Date unknown'\n      }\n      \n      try {\n        const startDateObj = new Date(startDate)\n        const endDateObj = new Date(endDate)\n        \n        if (isNaN(startDateObj.getTime()) || isNaN(endDateObj.getTime())) {\n          console.log('formatDateRange: Invalid dates - start:', startDate, 'end:', endDate)\n          return 'Invalid date range'\n        }\n        \n        const start = startDateObj.toLocaleDateString()\n        const end = endDateObj.toLocaleDateString()\n\n        if (startDate === endDate) {\n          return start\n        }\n        return `${start} - ${end}`\n      } catch (error) {\n        console.error('formatDateRange error:', error, 'for dates:', startDate, endDate)\n        return 'Date error'\n      }\n    },\n\n    formatDate(dateStr) {\n      try {\n        if (!dateStr) {\n          console.log('formatDate: dateStr is null/undefined')\n          return 'Unknown Date'\n        }\n        \n        // Handle meal type strings for legacy daily plans (backwards compatibility)\n        const mealTypeLabels = {\n          'breakfast': 'Breakfast Meals',\n          'lunch': 'Lunch Meals', \n          'dinner': 'Dinner Meals',\n          'snack': 'Snack Meals'\n        }\n        \n        if (mealTypeLabels[dateStr.toLowerCase()]) {\n          console.log('formatDate: Detected legacy meal type structure:', dateStr)\n          return mealTypeLabels[dateStr.toLowerCase()]\n        }\n        \n        // Try to parse as date for date-based plans\n        const date = new Date(dateStr)\n        if (isNaN(date.getTime())) {\n          console.log('formatDate: Invalid date for input:', dateStr)\n          return dateStr // Return original string if can't parse\n        }\n        \n        return date.toLocaleDateString('en-US', {\n          weekday: 'long',\n          month: 'short',\n          day: 'numeric'\n        })\n      } catch (error) {\n        console.error('formatDate error:', error, 'for input:', dateStr)\n        return dateStr || 'Unknown Date'\n      }\n    },\n\n    formatMealType(type) {\n      if (!type) return 'Meal'\n      // Handle different possible meal type formats\n      const cleanType = String(type).toLowerCase().trim()\n      const typeMap = {\n        'breakfast': 'Breakfast',\n        'lunch': 'Lunch', \n        'dinner': 'Dinner',\n        'snack': 'Snack',\n        'dessert': 'Dessert'\n      }\n      return typeMap[cleanType] || type.charAt(0).toUpperCase() + type.slice(1)\n    },\n\n    getMealTitle(meal) {\n      console.log('getMealTitle called for meal:', meal)\n      \n      // If we have a recipe with a title, use that\n      if (meal?.recipe?.title) {\n        return meal.recipe.title\n      }\n      \n      // If we have a recipe with a name, use that\n      if (meal?.recipe?.name) {\n        return meal.recipe.name\n      }\n      \n      // Handle direct meal objects (for backwards compatibility)\n      if (meal?.title) {\n        return meal.title\n      }\n      \n      if (meal?.name) {\n        return meal.name\n      }\n      \n      // Fallback to meal type\n      const mealType = this.formatMealType(meal?.meal_type)\n      console.log('getMealTitle fallback to meal type:', mealType)\n      return mealType\n    },\n\n    inferMealTypeFromTime(date) {\n      const hour = date.getHours()\n      if (hour >= 5 && hour < 11) return 'breakfast'\n      if (hour >= 11 && hour < 16) return 'lunch'\n      if (hour >= 16 && hour < 22) return 'dinner'\n      return 'snack'\n    },\n\n    getMealTime(meal) {\n      console.log('getMealTime called for meal:', meal)\n      \n      // Check various possible time fields\n      if (meal?.time) {\n        return meal.time\n      }\n      if (meal?.scheduled_time) {\n        return meal.scheduled_time\n      }\n      \n      // Handle nested recipe time fields (for backwards compatibility)\n      if (meal?.recipe?.time) {\n        return meal.recipe.time\n      }\n      if (meal?.recipe?.scheduled_time) {\n        return meal.recipe.scheduled_time\n      }\n      \n      // Default times based on meal type\n      const mealType = meal?.meal_type?.toLowerCase()\n      const defaultTimes = {\n        'breakfast': '08:00',\n        'lunch': '12:00',\n        'dinner': '18:00',\n        'snack': '15:00'\n      }\n      \n      const defaultTime = defaultTimes[mealType] || '12:00'\n      console.log('getMealTime using default time:', defaultTime, 'for meal type:', mealType)\n      return defaultTime\n    },\n\n    getMealTypeClass(type) {\n      if (!type) return 'meal'\n      return String(type).toLowerCase()\n    },\n\n    getTotalMeals() {\n      if (!this.mealPlan.meal_plan_data?.meals) return 0\n\n      let total = 0\n      Object.values(this.mealPlan.meal_plan_data.meals).forEach(dayMeals => {\n        if (Array.isArray(dayMeals)) {\n          total += dayMeals.length\n        }\n      })\n      return total\n    },\n\n    // Helper method to get nutrition values from different possible structures\n    getNutritionValue(recipe, nutrient) {\n      if (!recipe) {\n        console.log('getNutritionValue: No recipe provided')\n        return 0\n      }\n      \n      console.log(`getNutritionValue: Looking for ${nutrient} in recipe:`, recipe)\n      \n      // Try estimated_nutrition first (from your API response)\n      if (recipe.estimated_nutrition && recipe.estimated_nutrition[nutrient] !== undefined) {\n        const value = Math.round(recipe.estimated_nutrition[nutrient])\n        console.log(`getNutritionValue: Found ${nutrient} in estimated_nutrition:`, value)\n        return value\n      }\n      \n      // Fallback to nutrition object\n      if (recipe.nutrition && recipe.nutrition[nutrient] !== undefined) {\n        const value = Math.round(recipe.nutrition[nutrient])\n        console.log(`getNutritionValue: Found ${nutrient} in nutrition:`, value)\n        return value\n      }\n\n      // Try other common naming patterns\n      const nutrientMappings = {\n        'calories': ['calories_per_serving', 'kcal'],\n        'protein': ['protein_per_serving'],\n        'carbs': ['carbs_per_serving', 'carbohydrates'],\n        'fat': ['fat_per_serving', 'fats']\n      }\n\n      if (nutrientMappings[nutrient]) {\n        for (const mapping of nutrientMappings[nutrient]) {\n          if (recipe[mapping] !== undefined) {\n            const value = Math.round(recipe[mapping])\n            console.log(`getNutritionValue: Found ${nutrient} in ${mapping}:`, value)\n            return value\n          }\n        }\n      }\n      \n      console.log(`getNutritionValue: No ${nutrient} found in recipe, returning 0`)\n      console.log('Available recipe keys:', Object.keys(recipe))\n      return 0\n    },\n\n    regenerateMeal(date, mealType) {\n      console.log('=== regenerateMeal called ===')\n      console.log('Date:', date)\n      console.log('MealType (raw):', mealType)\n      console.log('MealType type:', typeof mealType)\n      \n      // Ensure mealType is properly defined\n      if (!mealType || mealType === 'undefined' || mealType === 'null') {\n        console.error('Invalid mealType provided:', mealType)\n        // Try to infer from time or provide a fallback\n        const inferredMealType = this.inferMealTypeFromTime(new Date())\n        console.log('Using inferred meal type:', inferredMealType)\n        mealType = inferredMealType\n      }\n      \n      // Clean up the mealType string\n      const cleanMealType = String(mealType).toLowerCase().trim()\n      \n      console.log('Final cleaned mealType:', cleanMealType)\n      console.log('=============================')\n      \n      this.$emit('regenerate-meal', {\n        day: date,\n        mealType: cleanMealType\n      })\n    },\n\n    getAlternatives(date, mealType) {\n      console.log('=== getAlternatives called ===')\n      console.log('Date:', date)\n      console.log('MealType (raw):', mealType)\n      \n      // Ensure mealType is properly defined\n      if (!mealType || mealType === 'undefined' || mealType === 'null') {\n        console.error('Invalid mealType provided for alternatives:', mealType)\n        const inferredMealType = this.inferMealTypeFromTime(new Date())\n        console.log('Using inferred meal type for alternatives:', inferredMealType)\n        mealType = inferredMealType\n      }\n      \n      // Clean up the mealType string\n      const cleanMealType = String(mealType).toLowerCase().trim()\n      \n      console.log('Final cleaned mealType for alternatives:', cleanMealType)\n      console.log('==================================')\n      \n      this.$emit('get-alternatives', {\n        day: date,\n        mealType: cleanMealType\n      })\n    },\n\n    async saveRecipeToCollection(recipe) {\n      if (!recipe) {\n        console.warn('No recipe provided to save')\n        return\n      }\n\n      this.savingRecipe = recipe.id || recipe.spoonacular_id\n\n      try {\n        console.log('Saving recipe to collection:', recipe)\n        \n        // Import the API service\n        const { mealPlanningApi } = await import('@/services/mealPlanningApi')\n        \n        // Prepare recipe data for saving\n        const recipeData = {\n          title: recipe.title || recipe.name || 'Untitled Recipe',\n          summary: recipe.summary || '',\n          cuisine: recipe.cuisine || '',\n          meal_type: recipe.meal_type || 'dinner',\n          servings: recipe.servings || 4,\n          prep_time_minutes: recipe.prep_time || 0,\n          cook_time_minutes: recipe.cook_time || 0,\n          total_time_minutes: recipe.total_time || 0,\n          difficulty_level: recipe.difficulty_level || 'medium',\n          spoonacular_id: recipe.spoonacular_id || recipe.id,\n          ingredients_data: recipe.ingredients || [],\n          instructions: recipe.instructions || [],\n          calories_per_serving: this.getNutritionValue(recipe, 'calories'),\n          protein_per_serving: this.getNutritionValue(recipe, 'protein'),\n          carbs_per_serving: this.getNutritionValue(recipe, 'carbs'),\n          fat_per_serving: this.getNutritionValue(recipe, 'fat'),\n          fiber_per_serving: 0,\n          dietary_tags: recipe.dietary_tags || [],\n          allergens: recipe.allergens || [],\n          image_url: recipe.image_url || recipe.image || '',\n          source_url: recipe.source_url || '',\n          source_type: 'spoonacular'\n        }\n        \n        const response = await mealPlanningApi.saveRecipeFromMealPlan(recipeData)\n        \n        // Show success message\n        this.$toast?.success?.(response.data.message || 'Recipe saved to your collection!') ||\n        alert(response.data.message || 'Recipe saved to your collection!')\n        \n      } catch (error) {\n        console.error('Error saving recipe:', error)\n        const errorMessage = error.response?.data?.message || error.message || 'Failed to save recipe'\n        this.$toast?.error?.(errorMessage) ||\n        alert(errorMessage)\n      } finally {\n        this.savingRecipe = null\n      }\n    },\n\n    viewRecipeDetails(recipe) {\n      // For now, just show an alert. In a full implementation, \n      // this could open another modal or navigate to a recipe detail page\n      if (recipe) {\n        alert(`Recipe: ${recipe.title}\\n\\nThis feature will show full recipe details in a future update.`)\n      }\n    },\n\n    generateShoppingList() {\n      // TODO: Implement shopping list generation\n      alert('Shopping list generation coming soon!')\n    },\n\n    analyzePlan() {\n      this.$emit('analyze-plan', this.mealPlan)\n    },\n\n    deletePlan() {\n      this.$emit('delete-plan', this.mealPlan)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$primary: #007bff;\n$secondary: #6c757d;\n$success: #28a745;\n$danger: #dc3545;\n$warning: #ffc107;\n$info: #17a2b8;\n$light: #f8f9fa;\n$dark: #343a40;\n$white: #ffffff;\n$gray: #6c757d;\n$gray-light: #adb5bd;\n$gray-lighter: #e9ecef;\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.modal-content {\n  background: $white;\n  border-radius: 16px;\n  max-width: 1000px;\n  width: 100%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 24px 32px;\n  border-bottom: 1px solid $gray-lighter;\n  background: linear-gradient(135deg, rgba($primary, 0.05), rgba($primary, 0.02));\n  position: relative;\n\n  h2 {\n    margin: 0;\n    font-size: 1.6rem;\n    color: #333;\n  }\n\n  .ai-generation-info {\n    display: flex;\n    gap: 8px;\n    align-items: center;\n\n    .ai-badge {\n      background: linear-gradient(135deg, #6f42c1, #8b5cf6);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 0.75rem;\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      font-weight: 500;\n\n      i {\n        font-size: 0.7rem;\n      }\n    }\n\n    .model-badge {\n      background: linear-gradient(135deg, #17a2b8, #20c997);\n      color: white;\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 0.75rem;\n      font-weight: 500;\n    }\n  }\n\n  .close-btn {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 8px;\n    border-radius: 8px;\n    color: $gray;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: rgba($gray, 0.1);\n      color: #333;\n    }\n  }\n}\n\n.modal-body {\n  padding: 32px;\n}\n\n.plan-overview {\n  margin-bottom: 32px;\n  padding: 24px;\n  background: $light;\n  border-radius: 12px;\n}\n\n.overview-stats {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));\n  gap: 16px;\n  margin-bottom: 24px;\n}\n\n.stat-item {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  padding: 12px 16px;\n  background: $white;\n  border-radius: 8px;\n  border: 1px solid $gray-lighter;\n\n  .stat-label {\n    font-weight: 500;\n    color: $gray;\n    font-size: 0.9rem;\n  }\n\n  .stat-value {\n    font-weight: 600;\n    color: $dark;\n    font-size: 1rem;\n  }\n}\n\n.nutrition-overview {\n  margin-bottom: 24px;\n\n  h4 {\n    margin: 0 0 16px 0;\n    font-size: 1.1rem;\n    color: $dark;\n    font-weight: 600;\n  }\n\n  .nutrition-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: 12px;\n  }\n\n  .nutrition-item {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    padding: 8px 12px;\n    background: rgba($success, 0.1);\n    border-radius: 6px;\n    font-size: 0.9rem;\n\n    .nutrition-label {\n      color: $gray;\n      font-weight: 500;\n    }\n\n    .nutrition-value {\n      color: $dark;\n      font-weight: 600;\n    }\n  }\n}\n\n.quality-scores {\n  h4 {\n    margin: 0 0 16px 0;\n    font-size: 1.1rem;\n    color: $dark;\n    font-weight: 600;\n  }\n\n  .scores-grid {\n    display: flex;\n    flex-direction: column;\n    gap: 12px;\n  }\n\n  .score-item {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    .score-label {\n      font-size: 0.9rem;\n      color: $gray;\n      min-width: 140px;\n      font-weight: 500;\n    }\n\n    .score-bar {\n      flex: 1;\n      height: 8px;\n      background: $gray-lighter;\n      border-radius: 4px;\n      overflow: hidden;\n\n      .score-fill {\n        height: 100%;\n        background: linear-gradient(90deg, #28a745, #20c997);\n        transition: width 0.3s ease;\n      }\n    }\n\n    .score-value {\n      font-size: 0.9rem;\n      font-weight: 600;\n      color: $dark;\n      min-width: 40px;\n      text-align: right;\n    }\n  }\n}\n\n.meals-section {\n  h3 {\n    margin: 0 0 24px 0;\n    font-size: 1.3rem;\n    color: $dark;\n    display: flex;\n    align-items: center;\n    gap: 12px;\n\n    &::before {\n      content: '';\n      width: 4px;\n      height: 24px;\n      background: $primary;\n      border-radius: 2px;\n    }\n  }\n}\n\n.meals-grid {\n  display: flex;\n  flex-direction: column;\n  gap: 24px;\n}\n\n.day-meals {\n  border: 1px solid $gray-lighter;\n  border-radius: 12px;\n  overflow: hidden;\n}\n\n.day-header {\n  margin: 0;\n  padding: 16px 20px;\n  background: $primary;\n  color: $white;\n  font-size: 1.1rem;\n  font-weight: 600;\n}\n\n.meals-list {\n  padding: 16px;\n  display: flex;\n  flex-direction: column;\n  gap: 20px;\n}\n\n.meal-card {\n  background: $white;\n  border: 1px solid $gray-lighter;\n  border-radius: 12px;\n  padding: 20px;\n  transition: all 0.2s ease;\n\n  &:hover {\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    transform: translateY(-1px);\n  }\n}\n\n.meal-header {\n  margin-bottom: 16px;\n\n  .meal-title-section {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 8px;\n\n    .meal-title {\n      margin: 0;\n      font-size: 1.2rem;\n      color: $dark;\n      font-weight: 600;\n    }\n\n    .meal-type-badge {\n      padding: 4px 8px;\n      border-radius: 12px;\n      font-size: 0.75rem;\n      font-weight: 500;\n      text-transform: uppercase;\n      \n      &.breakfast {\n        background: rgba(#ffc107, 0.2);\n        color: #d39e00;\n      }\n      \n      &.lunch {\n        background: rgba(#28a745, 0.2);\n        color: #1e7e34;\n      }\n      \n      &.dinner {\n        background: rgba(#dc3545, 0.2);\n        color: #bd2130;\n      }\n      \n      &.snack {\n        background: rgba(#6f42c1, 0.2);\n        color: #59359a;\n      }\n    }\n  }\n\n  .meal-meta {\n    display: flex;\n    gap: 16px;\n    align-items: center;\n\n    .meal-time, .meal-cuisine {\n      display: flex;\n      align-items: center;\n      gap: 4px;\n      font-size: 0.85rem;\n      color: $gray;\n\n      i {\n        font-size: 0.8rem;\n      }\n    }\n  }\n}\n\n.recipe-details {\n  .cooking-info {\n    margin-bottom: 16px;\n    padding: 12px;\n    background: rgba($info, 0.05);\n    border-radius: 8px;\n\n    .time-info {\n      display: flex;\n      flex-wrap: wrap;\n      gap: 16px;\n\n      .time-item {\n        display: flex;\n        align-items: center;\n        gap: 4px;\n        font-size: 0.85rem;\n        color: $gray;\n\n        i {\n          font-size: 0.8rem;\n          color: $info;\n        }\n      }\n    }\n  }\n\n  h6 {\n    margin: 0 0 8px 0;\n    font-size: 1rem;\n    color: $dark;\n    font-weight: 600;\n  }\n}\n\n.meal-nutrition {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: rgba($success, 0.05);\n  border-radius: 8px;\n\n  .nutrition-details {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));\n    gap: 8px;\n\n    .nutrition-item {\n      display: flex;\n      justify-content: space-between;\n      font-size: 0.85rem;\n\n      .nutrition-label {\n        color: $gray;\n        font-weight: 500;\n      }\n\n      .nutrition-value {\n        color: $dark;\n        font-weight: 600;\n      }\n    }\n  }\n}\n\n.ingredients-section, .instructions-section {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: rgba($warning, 0.05);\n  border-radius: 8px;\n\n  .ingredients-list {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 8px;\n\n    .ingredient-item {\n      display: flex;\n      gap: 4px;\n      font-size: 0.85rem;\n      color: $dark;\n\n      .ingredient-quantity {\n        font-weight: 600;\n        color: $primary;\n      }\n\n      .ingredient-unit {\n        color: $gray;\n      }\n\n      .ingredient-name {\n        flex: 1;\n      }\n    }\n  }\n\n  .instructions-list {\n    .instruction-item {\n      display: flex;\n      gap: 12px;\n      margin-bottom: 8px;\n      font-size: 0.9rem;\n      color: $dark;\n\n      .instruction-number {\n        background: $primary;\n        color: white;\n        width: 24px;\n        height: 24px;\n        border-radius: 50%;\n        display: flex;\n        align-items: center;\n        justify-content: center;\n        font-weight: 600;\n        font-size: 0.8rem;\n        flex-shrink: 0;\n      }\n\n      .instruction-text {\n        line-height: 1.5;\n      }\n    }\n  }\n}\n\n.target-info {\n  margin-bottom: 16px;\n  padding: 12px;\n  background: rgba($secondary, 0.05);\n  border-radius: 8px;\n\n  .targets-grid {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));\n    gap: 8px;\n\n    .target-item {\n      display: flex;\n      justify-content: space-between;\n      font-size: 0.85rem;\n\n      .target-label {\n        color: $gray;\n        font-weight: 500;\n      }\n\n      .target-value {\n        color: $dark;\n        font-weight: 600;\n      }\n    }\n  }\n}\n\n.meal-actions {\n  display: flex;\n  gap: 8px;\n  flex-wrap: wrap;\n}\n\n.btn {\n  padding: 8px 16px;\n  border: none;\n  border-radius: 6px;\n  cursor: pointer;\n  font-size: 0.85rem;\n  font-weight: 500;\n  transition: all 0.2s ease;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n\n  i {\n    font-size: 0.8rem;\n  }\n\n  &.btn-sm {\n    padding: 6px 12px;\n    font-size: 0.8rem;\n  }\n\n  &.btn-outline {\n    background: transparent;\n    border: 1px solid $gray-lighter;\n    color: $gray;\n\n    &:hover {\n      background: $light;\n      color: $dark;\n    }\n  }\n\n  &.btn-secondary {\n    background: $secondary;\n    color: $white;\n\n    &:hover {\n      background: darken($secondary, 10%);\n    }\n  }\n\n  &.btn-primary {\n    background: $primary;\n    color: $white;\n\n    &:hover {\n      background: darken($primary, 10%);\n    }\n  }\n\n  &.btn-info {\n    background: $info;\n    color: $white;\n\n    &:hover {\n      background: darken($info, 10%);\n    }\n  }\n\n  &.btn-success {\n    background: $success;\n    color: $white;\n\n    &:hover {\n      background: darken($success, 10%);\n    }\n  }\n\n  &.btn-danger {\n    background: $danger;\n    color: $white;\n\n    &:hover {\n      background: darken($danger, 10%);\n    }\n  }\n}\n\n.no-meals {\n  text-align: center;\n  padding: 60px 20px;\n  color: $gray;\n\n  i {\n    font-size: 3rem;\n    margin-bottom: 16px;\n    display: block;\n    color: $gray-light;\n  }\n\n  p {\n    margin: 0;\n    font-size: 1.1rem;\n  }\n}\n\n.modal-footer {\n  display: flex;\n  justify-content: space-between;\n  gap: 16px;\n  padding: 24px 32px;\n  border-top: 1px solid $gray-lighter;\n  background: rgba($gray, 0.02);\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .modal-overlay {\n    padding: 10px;\n  }\n\n  .modal-content {\n    max-height: 95vh;\n  }\n\n  .modal-header {\n    padding: 20px 24px;\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 12px;\n\n    h2 {\n      font-size: 1.4rem;\n    }\n\n    .ai-generation-info {\n      order: -1;\n    }\n\n    .close-btn {\n      position: absolute;\n      top: 16px;\n      right: 16px;\n    }\n  }\n\n  .modal-body {\n    padding: 24px 20px;\n  }\n\n  .overview-stats {\n    grid-template-columns: 1fr;\n  }\n\n  .stat-item {\n    flex-direction: column;\n    align-items: flex-start;\n    gap: 4px;\n  }\n\n  .meal-header {\n    .meal-title-section {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 8px;\n    }\n\n    .meal-meta {\n      flex-direction: column;\n      align-items: flex-start;\n      gap: 8px;\n    }\n  }\n\n  .nutrition-details {\n    grid-template-columns: 1fr 1fr;\n  }\n\n  .ingredients-list {\n    grid-template-columns: 1fr;\n  }\n\n  .meal-actions {\n    flex-direction: column;\n  }\n\n  .modal-footer {\n    padding: 20px 24px;\n    flex-direction: column;\n\n    .btn {\n      width: 100%;\n      justify-content: center;\n    }\n  }\n}\n</style>","import { render } from \"./MealPlanDetailModal.vue?vue&type=template&id=23837906&scoped=true\"\nimport script from \"./MealPlanDetailModal.vue?vue&type=script&lang=js\"\nexport * from \"./MealPlanDetailModal.vue?vue&type=script&lang=js\"\n\nimport \"./MealPlanDetailModal.vue?vue&type=style&index=0&id=23837906&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-23837906\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/NutritionalAnalysisModal.vue -->\n<template>\n  <div class=\"modal-overlay\" @click=\"$emit('close')\">\n    <div class=\"modal-content analysis-modal\" @click.stop>\n      <div class=\"modal-header\">\n        <div class=\"header-content\">\n          <h2>\n            <i class=\"fas fa-chart-line\"></i>\n            AI Nutritional Analysis\n          </h2>\n          <p>{{ formatPlanType(mealPlan.plan_type) }} Plan - {{ formatDateRange(mealPlan.start_date, mealPlan.end_date) }}</p>\n        </div>\n        <button @click=\"$emit('close')\" class=\"close-btn\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n\n      <div class=\"modal-body\">\n        <!-- Loading State -->\n        <div v-if=\"analysis.loading\" class=\"loading-state\">\n          <div class=\"loading-spinner\"></div>\n          <h3>AI is Analyzing Your Meal Plan</h3>\n          <p>{{ analysis.message }}</p>\n        </div>\n\n        <!-- Error State -->\n        <div v-else-if=\"analysis.error\" class=\"error-state\">\n          <i class=\"fas fa-exclamation-triangle\"></i>\n          <h3>Analysis Unavailable</h3>\n          <p>{{ analysis.message }}</p>\n        </div>\n\n        <!-- Analysis Results -->\n        <div v-else class=\"analysis-results\">\n          <!-- Overall Score -->\n          <div class=\"overall-score-section\">\n            <div class=\"score-circle\">\n              <svg viewBox=\"0 0 100 100\" class=\"circular-progress\">\n                <circle\n                  cx=\"50\"\n                  cy=\"50\"\n                  r=\"45\"\n                  class=\"circle-bg\"\n                />\n                <circle\n                  cx=\"50\"\n                  cy=\"50\"\n                  r=\"45\"\n                  class=\"circle-progress\"\n                  :style=\"`stroke-dasharray: ${analysis.overall_score * 2.827}, 282.7`\"\n                />\n              </svg>\n              <div class=\"score-content\">\n                <span class=\"score-number\">{{ analysis.overall_score || 0 }}</span>\n                <span class=\"score-label\">Overall Score</span>\n              </div>\n            </div>\n            <div class=\"score-description\">\n              <h3>Nutritional Quality Assessment</h3>\n              <p>{{ getScoreDescription(analysis.overall_score) }}</p>\n            </div>\n          </div>\n\n          <!-- Nutritional Adequacy -->\n          <div class=\"analysis-section\">\n            <h3>\n              <i class=\"fas fa-balance-scale\"></i>\n              Nutritional Adequacy\n            </h3>\n            <div class=\"adequacy-grid\" v-if=\"analysis.nutritional_adequacy\">\n              <div\n                v-for=\"(nutrient, key) in analysis.nutritional_adequacy\"\n                :key=\"key\"\n                class=\"nutrient-card\"\n                :class=\"getAdequacyClass(nutrient.status)\"\n              >\n                <div class=\"nutrient-header\">\n                  <span class=\"nutrient-name\">{{ formatNutrientName(key) }}</span>\n                  <span class=\"nutrient-status\">{{ formatStatus(nutrient.status) }}</span>\n                </div>\n                <div class=\"nutrient-progress\">\n                  <div class=\"progress-bar\">\n                    <div\n                      class=\"progress-fill\"\n                      :style=\"`width: ${Math.min(nutrient.percentage_of_target || 0, 150)}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ nutrient.percentage_of_target || 0 }}% of target</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <!-- Meal Distribution -->\n          <div class=\"analysis-section\" v-if=\"analysis.meal_distribution\">\n            <h3>\n              <i class=\"fas fa-clock\"></i>\n              Meal Distribution\n            </h3>\n            <div class=\"distribution-chart\">\n              <div class=\"distribution-bars\">\n                <div class=\"meal-bar\">\n                  <span class=\"meal-label\">Breakfast</span>\n                  <div class=\"bar\">\n                    <div\n                      class=\"bar-fill breakfast\"\n                      :style=\"`width: ${analysis.meal_distribution.breakfast_percentage || 0}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ analysis.meal_distribution.breakfast_percentage || 0 }}%</span>\n                </div>\n                <div class=\"meal-bar\">\n                  <span class=\"meal-label\">Lunch</span>\n                  <div class=\"bar\">\n                    <div\n                      class=\"bar-fill lunch\"\n                      :style=\"`width: ${analysis.meal_distribution.lunch_percentage || 0}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ analysis.meal_distribution.lunch_percentage || 0 }}%</span>\n                </div>\n                <div class=\"meal-bar\">\n                  <span class=\"meal-label\">Dinner</span>\n                  <div class=\"bar\">\n                    <div\n                      class=\"bar-fill dinner\"\n                      :style=\"`width: ${analysis.meal_distribution.dinner_percentage || 0}%`\"\n                    ></div>\n                  </div>\n                  <span class=\"percentage\">{{ analysis.meal_distribution.dinner_percentage || 0 }}%</span>\n                </div>\n              </div>\n              <div class=\"distribution-rating\">\n                <span class=\"rating-label\">Balance Rating:</span>\n                <span class=\"rating-value\" :class=\"getRatingClass(analysis.meal_distribution.balance_rating)\">\n                  {{ formatRating(analysis.meal_distribution.balance_rating) }}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Variety Analysis -->\n          <div class=\"analysis-section\" v-if=\"analysis.variety_analysis\">\n            <h3>\n              <i class=\"fas fa-seedling\"></i>\n              Variety & Diversity\n            </h3>\n            <div class=\"variety-metrics\">\n              <div class=\"variety-item\">\n                <span class=\"metric-label\">Cuisine Diversity:</span>\n                <span class=\"metric-badge\" :class=\"getVarietyClass(analysis.variety_analysis.cuisine_diversity)\">\n                  {{ formatRating(analysis.variety_analysis.cuisine_diversity) }}\n                </span>\n              </div>\n              <div class=\"variety-item\">\n                <span class=\"metric-label\">Ingredient Variety:</span>\n                <span class=\"metric-badge\" :class=\"getVarietyClass(analysis.variety_analysis.ingredient_variety)\">\n                  {{ formatRating(analysis.variety_analysis.ingredient_variety) }}\n                </span>\n              </div>\n              <div class=\"variety-item\">\n                <span class=\"metric-label\">Cooking Methods:</span>\n                <span class=\"metric-badge\" :class=\"getVarietyClass(analysis.variety_analysis.cooking_method_diversity)\">\n                  {{ formatRating(analysis.variety_analysis.cooking_method_diversity) }}\n                </span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Health Highlights -->\n          <div class=\"analysis-section\" v-if=\"analysis.health_highlights && analysis.health_highlights.length\">\n            <h3>\n              <i class=\"fas fa-star\"></i>\n              Health Highlights\n            </h3>\n            <div class=\"highlights-list\">\n              <div\n                v-for=\"(highlight, index) in analysis.health_highlights\"\n                :key=\"index\"\n                class=\"highlight-item\"\n              >\n                <i class=\"fas fa-check-circle\"></i>\n                <span>{{ highlight }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Recommendations -->\n          <div class=\"analysis-section\" v-if=\"analysis.recommendations && analysis.recommendations.length\">\n            <h3>\n              <i class=\"fas fa-lightbulb\"></i>\n              AI Recommendations\n            </h3>\n            <div class=\"recommendations-list\">\n              <div\n                v-for=\"(recommendation, index) in analysis.recommendations\"\n                :key=\"index\"\n                class=\"recommendation-item\"\n              >\n                <i class=\"fas fa-arrow-right\"></i>\n                <span>{{ recommendation }}</span>\n              </div>\n            </div>\n          </div>\n\n          <!-- Areas for Improvement -->\n          <div class=\"analysis-section\" v-if=\"analysis.areas_for_improvement && analysis.areas_for_improvement.length\">\n            <h3>\n              <i class=\"fas fa-target\"></i>\n              Areas for Improvement\n            </h3>\n            <div class=\"improvements-list\">\n              <div\n                v-for=\"(improvement, index) in analysis.areas_for_improvement\"\n                :key=\"index\"\n                class=\"improvement-item\"\n              >\n                <i class=\"fas fa-exclamation-circle\"></i>\n                <span>{{ improvement }}</span>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class=\"modal-footer\">\n        <button @click=\"$emit('close')\" class=\"btn btn-secondary\">Close Analysis</button>\n        <button @click=\"downloadReport\" class=\"btn btn-primary\" :disabled=\"analysis.loading || analysis.error\">\n          <i class=\"fas fa-download\"></i>\n          Download Report\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'NutritionalAnalysisModal',\n  props: {\n    analysis: {\n      type: Object,\n      required: true\n    },\n    mealPlan: {\n      type: Object,\n      required: true\n    }\n  },\n  emits: ['close'],\n  methods: {\n    formatPlanType(type) {\n      return type.charAt(0).toUpperCase() + type.slice(1)\n    },\n\n    formatDateRange(startDate, endDate) {\n      const start = new Date(startDate).toLocaleDateString()\n      const end = new Date(endDate).toLocaleDateString()\n\n      if (startDate === endDate) {\n        return start\n      }\n      return `${start} - ${end}`\n    },\n\n    getScoreDescription(score) {\n      if (score >= 90) return \"Excellent nutritional balance! Your meal plan meets all dietary guidelines.\"\n      if (score >= 80) return \"Very good nutritional quality with minor areas for optimization.\"\n      if (score >= 70) return \"Good nutritional foundation with some room for improvement.\"\n      if (score >= 60) return \"Adequate nutrition but several areas could be enhanced.\"\n      return \"Significant nutritional improvements recommended.\"\n    },\n\n    formatNutrientName(key) {\n      const names = {\n        'calories': 'Calories',\n        'protein': 'Protein',\n        'carbs': 'Carbohydrates',\n        'fat': 'Fat',\n        'fiber': 'Fiber',\n        'sodium': 'Sodium'\n      }\n      return names[key] || key.charAt(0).toUpperCase() + key.slice(1)\n    },\n\n    formatStatus(status) {\n      const statuses = {\n        'adequate': 'Adequate',\n        'insufficient': 'Low',\n        'excessive': 'High',\n        'too_high': 'Too High',\n        'too_low': 'Too Low',\n        'within_range': 'Good',\n        'balanced': 'Balanced'\n      }\n      return statuses[status] || status.replace('_', ' ').toUpperCase()\n    },\n\n    formatRating(rating) {\n      if (!rating) return 'N/A'\n      return rating.charAt(0).toUpperCase() + rating.slice(1)\n    },\n\n    getAdequacyClass(status) {\n      const classes = {\n        'adequate': 'adequate',\n        'within_range': 'adequate',\n        'balanced': 'adequate',\n        'insufficient': 'insufficient',\n        'too_low': 'insufficient',\n        'excessive': 'excessive',\n        'too_high': 'excessive'\n      }\n      return classes[status] || 'neutral'\n    },\n\n    getRatingClass(rating) {\n      const classes = {\n        'excellent': 'excellent',\n        'very_good': 'very-good',\n        'good': 'good',\n        'fair': 'fair',\n        'poor': 'poor'\n      }\n      return classes[rating] || 'neutral'\n    },\n\n    getVarietyClass(variety) {\n      const classes = {\n        'excellent': 'excellent',\n        'very_good': 'very-good',\n        'good': 'good',\n        'fair': 'fair',\n        'poor': 'poor'\n      }\n      return classes[variety] || 'neutral'\n    },\n\n    downloadReport() {\n      // Generate a simple text report\n      let report = `AI Nutritional Analysis Report\\n`\n      report += `================================\\n\\n`\n      report += `Meal Plan: ${this.formatPlanType(this.mealPlan.plan_type)} Plan\\n`\n      report += `Date Range: ${this.formatDateRange(this.mealPlan.start_date, this.mealPlan.end_date)}\\n`\n      report += `Generated: ${new Date().toLocaleDateString()}\\n\\n`\n\n      report += `Overall Score: ${this.analysis.overall_score || 'N/A'}/100\\n\\n`\n\n      if (this.analysis.health_highlights && this.analysis.health_highlights.length) {\n        report += `Health Highlights:\\n`\n        this.analysis.health_highlights.forEach(highlight => {\n          report += `• ${highlight}\\n`\n        })\n        report += `\\n`\n      }\n\n      if (this.analysis.recommendations && this.analysis.recommendations.length) {\n        report += `AI Recommendations:\\n`\n        this.analysis.recommendations.forEach(rec => {\n          report += `• ${rec}\\n`\n        })\n        report += `\\n`\n      }\n\n      if (this.analysis.areas_for_improvement && this.analysis.areas_for_improvement.length) {\n        report += `Areas for Improvement:\\n`\n        this.analysis.areas_for_improvement.forEach(improvement => {\n          report += `• ${improvement}\\n`\n        })\n      }\n\n      // Create and download the file\n      const blob = new Blob([report], { type: 'text/plain' })\n      const url = window.URL.createObjectURL(blob)\n      const link = document.createElement('a')\n      link.href = url\n      link.download = `nutrition-analysis-${this.mealPlan.start_date}.txt`\n      document.body.appendChild(link)\n      link.click()\n      document.body.removeChild(link)\n      window.URL.revokeObjectURL(url)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n$primary: #007bff;\n$success: #28a745;\n$warning: #ffc107;\n$danger: #dc3545;\n$info: #17a2b8;\n$gray: #6c757d;\n$gray-light: #adb5bd;\n$gray-lighter: #e9ecef;\n$white: #ffffff;\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n  padding: 20px;\n}\n\n.analysis-modal {\n  background: $white;\n  border-radius: 16px;\n  max-width: 800px;\n  width: 100%;\n  max-height: 90vh;\n  overflow-y: auto;\n  box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 24px 32px;\n  border-bottom: 1px solid $gray-lighter;\n  background: linear-gradient(135deg, rgba($primary, 0.05), rgba($primary, 0.02));\n\n  .header-content {\n    h2 {\n      margin: 0 0 8px 0;\n      font-size: 1.6rem;\n      color: #333;\n      display: flex;\n      align-items: center;\n      gap: 12px;\n\n      i {\n        color: $primary;\n      }\n    }\n\n    p {\n      margin: 0;\n      color: $gray;\n      font-size: 1rem;\n    }\n  }\n\n  .close-btn {\n    background: none;\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 8px;\n    border-radius: 8px;\n    color: $gray;\n    transition: all 0.2s ease;\n\n    &:hover {\n      background: rgba($gray, 0.1);\n      color: #333;\n    }\n  }\n}\n\n.modal-body {\n  padding: 32px;\n}\n\n// Loading State\n.loading-state {\n  text-align: center;\n  padding: 60px 20px;\n\n  .loading-spinner {\n    width: 50px;\n    height: 50px;\n    border: 4px solid $gray-lighter;\n    border-left: 4px solid $primary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto 24px;\n  }\n\n  h3 {\n    margin: 0 0 12px 0;\n    color: #333;\n    font-size: 1.3rem;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1rem;\n  }\n}\n\n@keyframes spin {\n  to { transform: rotate(360deg); }\n}\n\n// Error State\n.error-state {\n  text-align: center;\n  padding: 60px 20px;\n\n  i {\n    font-size: 3rem;\n    color: $warning;\n    margin-bottom: 24px;\n    display: block;\n  }\n\n  h3 {\n    margin: 0 0 12px 0;\n    color: #333;\n    font-size: 1.3rem;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1rem;\n  }\n}\n\n// Analysis Results\n.analysis-results {\n  .analysis-section {\n    margin-bottom: 40px;\n\n    &:last-child {\n      margin-bottom: 0;\n    }\n\n    h3 {\n      margin: 0 0 20px 0;\n      font-size: 1.2rem;\n      color: #333;\n      display: flex;\n      align-items: center;\n      gap: 12px;\n      padding-bottom: 12px;\n      border-bottom: 2px solid $gray-lighter;\n\n      i {\n        color: $primary;\n        font-size: 1.1rem;\n      }\n    }\n  }\n}\n\n// Overall Score Section\n.overall-score-section {\n  display: flex;\n  align-items: center;\n  gap: 32px;\n  margin-bottom: 40px;\n  padding: 24px;\n  background: linear-gradient(135deg, rgba($success, 0.05), rgba($primary, 0.05));\n  border-radius: 12px;\n  border: 1px solid rgba($primary, 0.1);\n}\n\n.score-circle {\n  position: relative;\n  width: 120px;\n  height: 120px;\n  flex-shrink: 0;\n\n  .circular-progress {\n    width: 100%;\n    height: 100%;\n    transform: rotate(-90deg);\n\n    .circle-bg {\n      fill: none;\n      stroke: $gray-lighter;\n      stroke-width: 8;\n    }\n\n    .circle-progress {\n      fill: none;\n      stroke: $success;\n      stroke-width: 8;\n      stroke-linecap: round;\n      transition: stroke-dasharray 0.6s ease;\n    }\n  }\n\n  .score-content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    text-align: center;\n\n    .score-number {\n      display: block;\n      font-size: 2rem;\n      font-weight: 700;\n      color: $success;\n      line-height: 1;\n    }\n\n    .score-label {\n      display: block;\n      font-size: 0.8rem;\n      color: $gray;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n      margin-top: 4px;\n    }\n  }\n}\n\n.score-description {\n  flex: 1;\n\n  h3 {\n    margin: 0 0 12px 0;\n    font-size: 1.3rem;\n    color: #333;\n  }\n\n  p {\n    margin: 0;\n    color: $gray;\n    font-size: 1rem;\n    line-height: 1.5;\n  }\n}\n\n// Nutritional Adequacy\n.adequacy-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 20px;\n}\n\n.nutrient-card {\n  padding: 20px;\n  border-radius: 12px;\n  border: 2px solid;\n  transition: all 0.3s ease;\n\n  &.adequate {\n    border-color: rgba($success, 0.3);\n    background: rgba($success, 0.05);\n  }\n\n  &.insufficient {\n    border-color: rgba($warning, 0.3);\n    background: rgba($warning, 0.05);\n  }\n\n  &.excessive {\n    border-color: rgba($danger, 0.3);\n    background: rgba($danger, 0.05);\n  }\n\n  &.neutral {\n    border-color: $gray-lighter;\n    background: rgba($gray, 0.03);\n  }\n\n  .nutrient-header {\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n    margin-bottom: 16px;\n\n    .nutrient-name {\n      font-weight: 600;\n      color: #333;\n      font-size: 1rem;\n    }\n\n    .nutrient-status {\n      padding: 4px 8px;\n      border-radius: 6px;\n      font-size: 0.8rem;\n      font-weight: 500;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n\n      .adequate & {\n        background: $success;\n        color: white;\n      }\n\n      .insufficient & {\n        background: $warning;\n        color: white;\n      }\n\n      .excessive & {\n        background: $danger;\n        color: white;\n      }\n\n      .neutral & {\n        background: $gray;\n        color: white;\n      }\n    }\n  }\n\n  .nutrient-progress {\n    .progress-bar {\n      height: 8px;\n      background: rgba(0, 0, 0, 0.1);\n      border-radius: 4px;\n      overflow: hidden;\n      margin-bottom: 8px;\n\n      .progress-fill {\n        height: 100%;\n        border-radius: 4px;\n        transition: width 0.6s ease;\n\n        .adequate & { background: $success; }\n        .insufficient & { background: $warning; }\n        .excessive & { background: $danger; }\n        .neutral & { background: $gray; }\n      }\n    }\n\n    .percentage {\n      font-size: 0.9rem;\n      color: $gray;\n      font-weight: 500;\n    }\n  }\n}\n\n// Meal Distribution\n.distribution-chart {\n  .distribution-bars {\n    margin-bottom: 20px;\n  }\n\n  .meal-bar {\n    display: flex;\n    align-items: center;\n    gap: 16px;\n    margin-bottom: 12px;\n\n    .meal-label {\n      min-width: 80px;\n      font-weight: 500;\n      color: #333;\n      font-size: 0.9rem;\n    }\n\n    .bar {\n      flex: 1;\n      height: 24px;\n      background: $gray-lighter;\n      border-radius: 12px;\n      overflow: hidden;\n      position: relative;\n\n      .bar-fill {\n        height: 100%;\n        border-radius: 12px;\n        transition: width 0.6s ease;\n\n        &.breakfast { background: linear-gradient(90deg, #FF6B6B, #FF8E53); }\n        &.lunch { background: linear-gradient(90deg, #4ECDC4, #44A08D); }\n        &.dinner { background: linear-gradient(90deg, #A8EDEA, #FED6E3); }\n      }\n    }\n\n    .percentage {\n      min-width: 50px;\n      text-align: right;\n      font-weight: 500;\n      color: #333;\n      font-size: 0.9rem;\n    }\n  }\n\n  .distribution-rating {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    padding: 16px;\n    background: rgba($primary, 0.05);\n    border-radius: 8px;\n\n    .rating-label {\n      font-weight: 500;\n      color: #333;\n    }\n\n    .rating-value {\n      padding: 4px 12px;\n      border-radius: 6px;\n      font-weight: 600;\n      font-size: 0.9rem;\n      text-transform: uppercase;\n      letter-spacing: 0.5px;\n\n      &.excellent { background: $success; color: white; }\n      &.very-good { background: #20c997; color: white; }\n      &.good { background: $info; color: white; }\n      &.fair { background: $warning; color: white; }\n      &.poor { background: $danger; color: white; }\n      &.neutral { background: $gray; color: white; }\n    }\n  }\n}\n\n// Variety Analysis\n.variety-metrics {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 16px;\n}\n\n.variety-item {\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  padding: 16px;\n  background: rgba($primary, 0.03);\n  border-radius: 8px;\n  border: 1px solid rgba($primary, 0.1);\n  flex: 1;\n  min-width: 200px;\n\n  .metric-label {\n    font-weight: 500;\n    color: #333;\n  }\n\n  .metric-badge {\n    padding: 4px 12px;\n    border-radius: 6px;\n    font-weight: 600;\n    font-size: 0.8rem;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n\n    &.excellent { background: $success; color: white; }\n    &.very-good { background: #20c997; color: white; }\n    &.good { background: $info; color: white; }\n    &.fair { background: $warning; color: white; }\n    &.poor { background: $danger; color: white; }\n    &.neutral { background: $gray; color: white; }\n  }\n}\n\n// Lists\n.highlights-list, .recommendations-list, .improvements-list {\n  .highlight-item, .recommendation-item, .improvement-item {\n    display: flex;\n    align-items: flex-start;\n    gap: 12px;\n    padding: 12px 16px;\n    margin-bottom: 8px;\n    border-radius: 8px;\n    transition: background-color 0.2s ease;\n\n    &:hover {\n      background: rgba($primary, 0.03);\n    }\n\n    i {\n      margin-top: 2px;\n      flex-shrink: 0;\n    }\n\n    span {\n      color: #333;\n      line-height: 1.5;\n    }\n  }\n}\n\n.highlights-list .highlight-item i {\n  color: $success;\n}\n\n.recommendations-list .recommendation-item i {\n  color: $primary;\n}\n\n.improvements-list .improvement-item i {\n  color: $warning;\n}\n\n// Modal Footer\n.modal-footer {\n  display: flex;\n  justify-content: space-between;\n  gap: 16px;\n  padding: 24px 32px;\n  border-top: 1px solid $gray-lighter;\n  background: rgba($gray, 0.02);\n\n  .btn {\n    padding: 12px 24px;\n    border: none;\n    border-radius: 8px;\n    cursor: pointer;\n    font-weight: 500;\n    font-size: 0.95rem;\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n\n    &.btn-secondary {\n      background: $gray-lighter;\n      color: #333;\n\n      &:hover {\n        background: darken($gray-lighter, 10%);\n      }\n    }\n\n    &.btn-primary {\n      background: $primary;\n      color: white;\n\n      &:hover:not(:disabled) {\n        background: darken($primary, 10%);\n        transform: translateY(-1px);\n      }\n\n      &:disabled {\n        opacity: 0.6;\n        cursor: not-allowed;\n      }\n    }\n\n    i {\n      font-size: 0.9rem;\n    }\n  }\n}\n\n// Responsive Design\n@media (max-width: 768px) {\n  .modal-overlay {\n    padding: 10px;\n  }\n\n  .analysis-modal {\n    max-height: 95vh;\n  }\n\n  .modal-header {\n    padding: 20px 24px;\n\n    .header-content h2 {\n      font-size: 1.4rem;\n    }\n  }\n\n  .modal-body {\n    padding: 24px 20px;\n  }\n\n  .overall-score-section {\n    flex-direction: column;\n    text-align: center;\n    gap: 20px;\n  }\n\n  .adequacy-grid {\n    grid-template-columns: 1fr;\n  }\n\n  .variety-metrics {\n    flex-direction: column;\n  }\n\n  .variety-item {\n    min-width: auto;\n  }\n\n  .modal-footer {\n    padding: 20px 24px;\n    flex-direction: column;\n\n    .btn {\n      width: 100%;\n      justify-content: center;\n    }\n  }\n}\n</style>","import { render } from \"./NutritionalAnalysisModal.vue?vue&type=template&id=213abc86&scoped=true\"\nimport script from \"./NutritionalAnalysisModal.vue?vue&type=script&lang=js\"\nexport * from \"./NutritionalAnalysisModal.vue?vue&type=script&lang=js\"\n\nimport \"./NutritionalAnalysisModal.vue?vue&type=style&index=0&id=213abc86&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-213abc86\"]])\n\nexport default __exports__","import { render } from \"./MealPlanManager.vue?vue&type=template&id=61af1628&scoped=true\"\nimport script from \"./MealPlanManager.vue?vue&type=script&lang=js\"\nexport * from \"./MealPlanManager.vue?vue&type=script&lang=js\"\n\nimport \"./MealPlanManager.vue?vue&type=style&index=0&id=61af1628&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-61af1628\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/SpoonacularIntegration.vue -->\n<template>\n  <div class=\"spoonacular-integration\">\n    <div class=\"integration-header\">\n      <h2>Spoonacular Meal Planner</h2>\n      <p>Connect to Spoonacular for personalized meal planning and shopping lists</p>\n    </div>\n\n    <!-- Connection Status -->\n    <div class=\"connection-section\">\n      <div v-if=\"!isConnected && !connecting\" class=\"connection-prompt\">\n        <div class=\"connection-card\">\n          <i class=\"fas fa-link connection-icon\"></i>\n          <h3>Connect to Spoonacular</h3>\n          <p>Link your account to access personalized meal plans, shopping lists, and recipe recommendations.</p>\n          <button \n            @click=\"connectToSpoonacular\" \n            class=\"btn btn-primary connect-btn\"\n            :disabled=\"connecting\"\n          >\n            <i class=\"fas fa-plug\"></i>\n            Connect Account\n          </button>\n        </div>\n      </div>\n\n      <div v-if=\"connecting\" class=\"connecting-status\">\n        <div class=\"spinner\"></div>\n        <p>Connecting to Spoonacular...</p>\n      </div>\n\n      <div v-if=\"isConnected\" class=\"connected-status\">\n        <div class=\"status-card success\">\n          <i class=\"fas fa-check-circle\"></i>\n          <div class=\"status-info\">\n            <h4>Connected to Spoonacular</h4>\n            <p>Username: {{ spoonacularUsername }}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Spoonacular Features (only show when connected) -->\n    <div v-if=\"isConnected\" class=\"spoonacular-features\">\n      \n      <!-- Meal Plan Section -->\n      <div class=\"feature-section\">\n        <div class=\"section-header\">\n          <h3><i class=\"fas fa-calendar-alt\"></i> Weekly Meal Plan</h3>\n          <div class=\"date-selector\">\n            <label for=\"week-select\">Week starting:</label>\n            <input \n              id=\"week-select\"\n              type=\"date\" \n              v-model=\"selectedWeekStart\"\n              @change=\"loadMealPlan\"\n              class=\"date-input\"\n            >\n            <button @click=\"refreshMealPlan\" class=\"btn btn-secondary btn-sm\">\n              <i class=\"fas fa-refresh\"></i>\n            </button>\n          </div>\n        </div>\n\n        <div v-if=\"mealPlanLoading\" class=\"loading-state\">\n          <div class=\"spinner\"></div>\n          <p>Loading meal plan...</p>\n        </div>\n\n        <div v-else-if=\"mealPlan\" class=\"meal-plan-grid\">\n          <div \n            v-for=\"(day, index) in mealPlan.days\" \n            :key=\"index\" \n            class=\"day-card\"\n          >\n            <div class=\"day-header\">\n              <h4>{{ day.day }}</h4>\n              <div class=\"day-nutrition\">\n                <span class=\"calories\">{{ getDayCalories(day) }} cal</span>\n              </div>\n            </div>\n            \n            <div class=\"day-meals\">\n              <div v-if=\"day.items && day.items.length > 0\" class=\"meals-list\">\n                <div \n                  v-for=\"item in day.items\" \n                  :key=\"item.id\"\n                  class=\"meal-item\"\n                  :class=\"getMealSlotClass(item.slot)\"\n                >\n                  <div class=\"meal-slot\">{{ getMealSlotName(item.slot) }}</div>\n                  <div class=\"meal-content\">\n                    <h5>{{ item.value.title }}</h5>\n                    <p v-if=\"item.value.servings\">Servings: {{ item.value.servings }}</p>\n                    <img \n                      v-if=\"item.value.image || item.value.imageType\" \n                      :src=\"getMealImage(item.value)\"\n                      :alt=\"item.value.title\"\n                      class=\"meal-image\"\n                    >\n                  </div>\n                </div>\n              </div>\n              <div v-else class=\"no-meals\">\n                <p>No meals planned</p>\n                <button @click=\"openAddMealModal(day)\" class=\"btn btn-outline btn-sm\">\n                  <i class=\"fas fa-plus\"></i> Add Meal\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <!-- Shopping List Section -->\n      <div class=\"feature-section\">\n        <div class=\"section-header\">\n          <h3><i class=\"fas fa-shopping-cart\"></i> Shopping List</h3>\n          <button @click=\"refreshShoppingList\" class=\"btn btn-secondary\">\n            <i class=\"fas fa-refresh\"></i> Refresh\n          </button>\n        </div>\n\n        <div v-if=\"shoppingListLoading\" class=\"loading-state\">\n          <div class=\"spinner\"></div>\n          <p>Loading shopping list...</p>\n        </div>\n\n        <div v-else-if=\"shoppingList\" class=\"shopping-list\">\n          <div v-if=\"shoppingList.aisles && shoppingList.aisles.length > 0\" class=\"shopping-aisles\">\n            <div \n              v-for=\"aisle in shoppingList.aisles\" \n              :key=\"aisle.aisle\"\n              class=\"aisle-section\"\n            >\n              <h4>{{ aisle.aisle }}</h4>\n              <ul class=\"items-list\">\n                <li \n                  v-for=\"item in aisle.items\" \n                  :key=\"item.id\"\n                  class=\"shopping-item\"\n                >\n                  <input \n                    type=\"checkbox\" \n                    :id=\"`item-${item.id}`\"\n                    v-model=\"item.checked\"\n                    @change=\"toggleShoppingItem(item)\"\n                  >\n                  <label :for=\"`item-${item.id}`\" :class=\"{ 'checked': item.checked }\">\n                    {{ item.name }}\n                    <span v-if=\"item.measures\" class=\"item-amount\">\n                      ({{ formatItemAmount(item.measures) }})\n                    </span>\n                  </label>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div v-else class=\"empty-shopping-list\">\n            <p>Your shopping list is empty</p>\n            <button @click=\"generateShoppingList\" class=\"btn btn-primary\">\n              <i class=\"fas fa-list\"></i> Generate Shopping List\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Add Meal Modal -->\n    <div v-if=\"showAddMealModal\" class=\"modal-overlay\" @click=\"closeAddMealModal\">\n      <div class=\"modal-content\" @click.stop>\n        <div class=\"modal-header\">\n          <h3>Add Meal</h3>\n          <button @click=\"closeAddMealModal\" class=\"close-btn\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        <div class=\"modal-body\">\n          <form @submit.prevent=\"addMealToSpoonacular\">\n            <div class=\"form-group\">\n              <label>Meal Type:</label>\n              <select v-model=\"newMeal.slot\" required>\n                <option value=\"1\">Breakfast</option>\n                <option value=\"2\">Lunch</option>\n                <option value=\"3\">Dinner</option>\n              </select>\n            </div>\n            <div class=\"form-group\">\n              <label>Recipe ID:</label>\n              <input \n                type=\"number\" \n                v-model=\"newMeal.recipeId\" \n                placeholder=\"Enter Spoonacular recipe ID\"\n                required\n              >\n            </div>\n            <div class=\"form-group\">\n              <label>Servings:</label>\n              <input \n                type=\"number\" \n                v-model=\"newMeal.servings\" \n                min=\"1\" \n                max=\"10\"\n                required\n              >\n            </div>\n            <div class=\"form-actions\">\n              <button type=\"button\" @click=\"closeAddMealModal\" class=\"btn btn-secondary\">\n                Cancel\n              </button>\n              <button type=\"submit\" class=\"btn btn-primary\" :disabled=\"addingMeal\">\n                <i class=\"fas fa-plus\"></i>\n                {{ addingMeal ? 'Adding...' : 'Add Meal' }}\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n\n    <!-- Error Messages -->\n    <div v-if=\"error\" class=\"error-message\">\n      <div class=\"alert alert-error\">\n        <i class=\"fas fa-exclamation-triangle\"></i>\n        {{ error }}\n        <button @click=\"error = null\" class=\"close-alert\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n    </div>\n\n    <!-- Success Messages -->\n    <div v-if=\"successMessage\" class=\"success-message\">\n      <div class=\"alert alert-success\">\n        <i class=\"fas fa-check-circle\"></i>\n        {{ successMessage }}\n        <button @click=\"successMessage = null\" class=\"close-alert\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mealPlanningApi } from '@/services/mealPlanningApi'\n\nexport default {\n  name: 'SpoonacularIntegration',\n  data() {\n    return {\n      isConnected: false,\n      connecting: false,\n      spoonacularUsername: null,\n      mealPlan: null,\n      mealPlanLoading: false,\n      shoppingList: null,\n      shoppingListLoading: false,\n      selectedWeekStart: this.getCurrentWeekStart(),\n      showAddMealModal: false,\n      selectedDay: null,\n      newMeal: {\n        slot: 1,\n        recipeId: null,\n        servings: 2\n      },\n      addingMeal: false,\n      error: null,\n      successMessage: null\n    }\n  },\n  async mounted() {\n    await this.checkSpoonacularStatus()\n    if (this.isConnected) {\n      await Promise.all([\n        this.loadMealPlan(),\n        this.loadShoppingList()\n      ])\n    }\n  },\n  methods: {\n    async checkSpoonacularStatus() {\n      try {\n        const response = await mealPlanningApi.getSpoonacularStatus()\n        this.isConnected = response.data.connected\n        this.spoonacularUsername = response.data.spoonacular_username\n      } catch (error) {\n        console.error('Failed to check Spoonacular status:', error)\n        this.error = 'Failed to check connection status'\n      }\n    },\n\n    async connectToSpoonacular() {\n      this.connecting = true\n      this.error = null\n      \n      try {\n        const response = await mealPlanningApi.connectSpoonacular()\n        this.isConnected = true\n        this.spoonacularUsername = response.data.spoonacular_username\n        this.successMessage = 'Successfully connected to Spoonacular!'\n        \n        // Show user their Spoonacular password for reference\n        if (response.data.spoonacular_password) {\n          alert(`Your Spoonacular password is: ${response.data.spoonacular_password}\\nPlease save this for logging into spoonacular.com`)\n        }\n        \n        // Load initial data\n        await Promise.all([\n          this.loadMealPlan(),\n          this.loadShoppingList()\n        ])\n      } catch (error) {\n        console.error('Failed to connect to Spoonacular:', error)\n        this.error = error.response?.data?.details || 'Failed to connect to Spoonacular'\n      } finally {\n        this.connecting = false\n      }\n    },\n\n    async loadMealPlan() {\n      if (!this.isConnected) return\n      \n      this.mealPlanLoading = true\n      this.error = null\n      \n      try {\n        const response = await mealPlanningApi.getSpoonacularMealPlan(this.selectedWeekStart)\n        this.mealPlan = response.data\n      } catch (error) {\n        console.error('Failed to load meal plan:', error)\n        this.error = 'Failed to load meal plan from Spoonacular'\n      } finally {\n        this.mealPlanLoading = false\n      }\n    },\n\n    async refreshMealPlan() {\n      await this.loadMealPlan()\n    },\n\n    async loadShoppingList() {\n      if (!this.isConnected) return\n      \n      this.shoppingListLoading = true\n      this.error = null\n      \n      try {\n        const response = await mealPlanningApi.getSpoonacularShoppingList()\n        this.shoppingList = response.data\n      } catch (error) {\n        console.error('Failed to load shopping list:', error)\n        this.error = 'Failed to load shopping list from Spoonacular'\n      } finally {\n        this.shoppingListLoading = false\n      }\n    },\n\n    async refreshShoppingList() {\n      await this.loadShoppingList()\n    },\n\n    async generateShoppingList() {\n      if (!this.isConnected) return\n      \n      this.shoppingListLoading = true\n      this.error = null\n      \n      try {\n        const endDate = new Date(this.selectedWeekStart)\n        endDate.setDate(endDate.getDate() + 6)\n        \n        await mealPlanningApi.generateSpoonacularShoppingList(\n          this.selectedWeekStart,\n          endDate.toISOString().split('T')[0]\n        )\n        \n        // Reload the shopping list\n        await this.loadShoppingList()\n        this.successMessage = 'Shopping list generated successfully!'\n      } catch (error) {\n        console.error('Failed to generate shopping list:', error)\n        this.error = 'Failed to generate shopping list'\n      } finally {\n        this.shoppingListLoading = false\n      }\n    },\n\n    openAddMealModal(day) {\n      this.selectedDay = day\n      this.showAddMealModal = true\n      this.newMeal = {\n        slot: 1,\n        recipeId: null,\n        servings: 2\n      }\n    },\n\n    closeAddMealModal() {\n      this.showAddMealModal = false\n      this.selectedDay = null\n    },\n\n    async addMealToSpoonacular() {\n      if (!this.selectedDay || !this.newMeal.recipeId) return\n      \n      this.addingMeal = true\n      this.error = null\n      \n      try {\n        const mealData = {\n          date: this.formatDateForAPI(this.selectedDay.date),\n          slot: parseInt(this.newMeal.slot),\n          position: 1,\n          type: 'RECIPE',\n          value: {\n            id: parseInt(this.newMeal.recipeId),\n            servings: parseInt(this.newMeal.servings)\n          }\n        }\n        \n        await mealPlanningApi.addToSpoonacularMealPlan(mealData)\n        this.successMessage = 'Meal added successfully!'\n        this.closeAddMealModal()\n        \n        // Refresh meal plan\n        await this.loadMealPlan()\n      } catch (error) {\n        console.error('Failed to add meal:', error)\n        this.error = 'Failed to add meal to plan'\n      } finally {\n        this.addingMeal = false\n      }\n    },\n\n    toggleShoppingItem(item) {\n      // Note: In a full implementation, you would call an API to mark items as purchased\n      console.log(`Item ${item.name} ${item.checked ? 'checked' : 'unchecked'}`)\n    },\n\n    getCurrentWeekStart() {\n      const today = new Date()\n      const startOfWeek = new Date(today.setDate(today.getDate() - today.getDay()))\n      return startOfWeek.toISOString().split('T')[0]\n    },\n\n    getDayCalories(day) {\n      if (!day.nutritionSummary?.nutrients) return 0\n      const calorieNutrient = day.nutritionSummary.nutrients.find(n => n.name === 'Calories')\n      return calorieNutrient ? Math.round(calorieNutrient.amount) : 0\n    },\n\n    getMealSlotName(slot) {\n      const slots = {\n        1: 'Breakfast',\n        2: 'Lunch', \n        3: 'Dinner'\n      }\n      return slots[slot] || 'Meal'\n    },\n\n    getMealSlotClass(slot) {\n      return `slot-${slot}`\n    },\n\n    getMealImage(mealValue) {\n      if (mealValue.image) return mealValue.image\n      if (mealValue.imageType) {\n        return `https://img.spoonacular.com/recipes/${mealValue.id}-312x231.${mealValue.imageType}`\n      }\n      return null\n    },\n\n    formatItemAmount(measures) {\n      if (!measures || !measures.us) return ''\n      return `${measures.us.amount} ${measures.us.unitShort}`\n    },\n\n    formatDateForAPI(timestamp) {\n      const date = new Date(timestamp * 1000)\n      return date.toISOString().split('T')[0]\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.spoonacular-integration {\n  padding: $spacing-6;\n}\n\n.integration-header {\n  text-align: center;\n  margin-bottom: $spacing-8;\n\n  h2 {\n    color: $primary-dark;\n    margin-bottom: $spacing-2;\n  }\n\n  p {\n    color: $gray;\n    font-size: 1.1rem;\n  }\n}\n\n.connection-section {\n  margin-bottom: $spacing-8;\n}\n\n.connection-card {\n  background: $white;\n  border: 2px dashed $gray-lighter;\n  border-radius: $border-radius-lg;\n  padding: $spacing-8;\n  text-align: center;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: $primary;\n    transform: translateY(-2px);\n  }\n\n  .connection-icon {\n    font-size: 3rem;\n    color: $primary;\n    margin-bottom: $spacing-4;\n  }\n\n  h3 {\n    margin-bottom: $spacing-3;\n    color: $primary-dark;\n  }\n\n  p {\n    color: $gray;\n    margin-bottom: $spacing-6;\n    max-width: 400px;\n    margin-left: auto;\n    margin-right: auto;\n  }\n\n  .connect-btn {\n    padding: $spacing-3 $spacing-6;\n    font-size: 1.1rem;\n    \n    i {\n      margin-right: $spacing-2;\n    }\n  }\n}\n\n.connecting-status {\n  text-align: center;\n  padding: $spacing-6;\n\n  .spinner {\n    width: 40px;\n    height: 40px;\n    border: 4px solid $gray-lighter;\n    border-top: 4px solid $primary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto $spacing-4;\n  }\n}\n\n.connected-status {\n  .status-card {\n    background: $success-light;\n    border: 1px solid $success;\n    border-radius: $border-radius;\n    padding: $spacing-4;\n    display: flex;\n    align-items: center;\n    gap: $spacing-3;\n\n    i {\n      color: $success;\n      font-size: 1.5rem;\n    }\n\n    .status-info {\n      h4 {\n        margin: 0 0 $spacing-1 0;\n        color: $success-dark;\n      }\n\n      p {\n        margin: 0;\n        color: $gray;\n        font-size: 0.9rem;\n      }\n    }\n  }\n}\n\n.spoonacular-features {\n  .feature-section {\n    background: $white;\n    border-radius: $border-radius-lg;\n    box-shadow: $shadow;\n    margin-bottom: $spacing-6;\n    overflow: hidden;\n\n    .section-header {\n      background: $gray-lightest;\n      padding: $spacing-4 $spacing-6;\n      border-bottom: 1px solid $gray-lighter;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      h3 {\n        margin: 0;\n        color: $primary-dark;\n        display: flex;\n        align-items: center;\n        gap: $spacing-2;\n\n        i {\n          color: $primary;\n        }\n      }\n\n      .date-selector {\n        display: flex;\n        align-items: center;\n        gap: $spacing-2;\n\n        label {\n          font-size: 0.9rem;\n          color: $gray;\n        }\n\n        .date-input {\n          padding: $spacing-2;\n          border: 1px solid $gray-lighter;\n          border-radius: $border-radius;\n          font-size: 0.9rem;\n        }\n      }\n    }\n  }\n}\n\n.loading-state {\n  text-align: center;\n  padding: $spacing-8;\n\n  .spinner {\n    width: 30px;\n    height: 30px;\n    border: 3px solid $gray-lighter;\n    border-top: 3px solid $primary;\n    border-radius: 50%;\n    animation: spin 1s linear infinite;\n    margin: 0 auto $spacing-3;\n  }\n}\n\n.meal-plan-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));\n  gap: $spacing-4;\n  padding: $spacing-6;\n\n  .day-card {\n    border: 1px solid $gray-lighter;\n    border-radius: $border-radius;\n    overflow: hidden;\n\n    .day-header {\n      background: $primary-light;\n      padding: $spacing-3;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      h4 {\n        margin: 0;\n        color: $primary-dark;\n      }\n\n      .calories {\n        color: $primary;\n        font-weight: 600;\n        font-size: 0.9rem;\n      }\n    }\n\n    .day-meals {\n      padding: $spacing-3;\n\n      .meal-item {\n        border-left: 4px solid;\n        padding: $spacing-3;\n        margin-bottom: $spacing-2;\n        border-radius: 0 $border-radius $border-radius 0;\n\n        &.slot-1 { border-left-color: #ffeb3b; } // Breakfast - yellow\n        &.slot-2 { border-left-color: #ff9800; } // Lunch - orange  \n        &.slot-3 { border-left-color: #673ab7; } // Dinner - purple\n\n        .meal-slot {\n          font-size: 0.8rem;\n          font-weight: 600;\n          text-transform: uppercase;\n          color: $gray;\n          margin-bottom: $spacing-1;\n        }\n\n        .meal-content {\n          h5 {\n            margin: 0 0 $spacing-1 0;\n            color: $primary-dark;\n          }\n\n          p {\n            margin: 0;\n            color: $gray;\n            font-size: 0.9rem;\n          }\n\n          .meal-image {\n            width: 100%;\n            max-width: 100px;\n            height: auto;\n            border-radius: $border-radius;\n            margin-top: $spacing-2;\n          }\n        }\n      }\n\n      .no-meals {\n        text-align: center;\n        padding: $spacing-4;\n        color: $gray;\n      }\n    }\n  }\n}\n\n.shopping-list {\n  padding: $spacing-6;\n\n  .aisle-section {\n    margin-bottom: $spacing-6;\n\n    h4 {\n      color: $primary-dark;\n      margin-bottom: $spacing-3;\n      padding-bottom: $spacing-2;\n      border-bottom: 2px solid $primary-light;\n    }\n\n    .items-list {\n      list-style: none;\n      padding: 0;\n\n      .shopping-item {\n        display: flex;\n        align-items: center;\n        gap: $spacing-2;\n        padding: $spacing-2 0;\n        border-bottom: 1px solid $gray-lightest;\n\n        input[type=\"checkbox\"] {\n          transform: scale(1.2);\n        }\n\n        label {\n          cursor: pointer;\n          flex: 1;\n          transition: all 0.3s ease;\n\n          &.checked {\n            text-decoration: line-through;\n            color: $gray;\n          }\n\n          .item-amount {\n            color: $gray;\n            font-size: 0.9rem;\n          }\n        }\n      }\n    }\n  }\n\n  .empty-shopping-list {\n    text-align: center;\n    padding: $spacing-8;\n    color: $gray;\n  }\n}\n\n.modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 1000;\n\n  .modal-content {\n    background: $white;\n    border-radius: $border-radius-lg;\n    width: 90%;\n    max-width: 500px;\n    max-height: 90vh;\n    overflow-y: auto;\n\n    .modal-header {\n      padding: $spacing-4 $spacing-6;\n      border-bottom: 1px solid $gray-lighter;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n\n      h3 {\n        margin: 0;\n        color: $primary-dark;\n      }\n\n      .close-btn {\n        background: none;\n        border: none;\n        font-size: 1.2rem;\n        color: $gray;\n        cursor: pointer;\n        padding: $spacing-1;\n\n        &:hover {\n          color: $primary;\n        }\n      }\n    }\n\n    .modal-body {\n      padding: $spacing-6;\n\n      .form-group {\n        margin-bottom: $spacing-4;\n\n        label {\n          display: block;\n          margin-bottom: $spacing-2;\n          color: $primary-dark;\n          font-weight: 500;\n        }\n\n        input, select {\n          width: 100%;\n          padding: $spacing-3;\n          border: 1px solid $gray-lighter;\n          border-radius: $border-radius;\n          font-size: 1rem;\n\n          &:focus {\n            outline: none;\n            border-color: $primary;\n          }\n        }\n      }\n\n      .form-actions {\n        display: flex;\n        gap: $spacing-3;\n        justify-content: flex-end;\n        margin-top: $spacing-6;\n      }\n    }\n  }\n}\n\n.error-message,\n.success-message {\n  position: fixed;\n  top: 20px;\n  right: 20px;\n  z-index: 1001;\n\n  .alert {\n    padding: $spacing-3 $spacing-4;\n    border-radius: $border-radius;\n    display: flex;\n    align-items: center;\n    gap: $spacing-2;\n    box-shadow: $shadow;\n    min-width: 300px;\n\n    &.alert-error {\n      background: $error-light;\n      color: $error-dark;\n      border: 1px solid $error;\n    }\n\n    &.alert-success {\n      background: $success-light;\n      color: $success-dark;\n      border: 1px solid $success;\n    }\n\n    .close-alert {\n      background: none;\n      border: none;\n      color: inherit;\n      cursor: pointer;\n      margin-left: auto;\n      padding: $spacing-1;\n\n      &:hover {\n        opacity: 0.7;\n      }\n    }\n  }\n}\n\n@keyframes spin {\n  0% { transform: rotate(0deg); }\n  100% { transform: rotate(360deg); }\n}\n\n// Responsive design\n@media (max-width: 768px) {\n  .spoonacular-integration {\n    padding: $spacing-4;\n  }\n\n  .meal-plan-grid {\n    grid-template-columns: 1fr;\n    padding: $spacing-4;\n  }\n\n  .section-header {\n    flex-direction: column;\n    gap: $spacing-3;\n    align-items: stretch !important;\n\n    .date-selector {\n      justify-content: center;\n    }\n  }\n\n  .modal-content {\n    width: 95%;\n    margin: $spacing-4;\n  }\n}\n</style>","import { render } from \"./SpoonacularIntegration.vue?vue&type=template&id=699b3714&scoped=true\"\nimport script from \"./SpoonacularIntegration.vue?vue&type=script&lang=js\"\nexport * from \"./SpoonacularIntegration.vue?vue&type=script&lang=js\"\n\nimport \"./SpoonacularIntegration.vue?vue&type=style&index=0&id=699b3714&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-699b3714\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/ComingSoonCard.vue -->\n<template>\n  <div class=\"coming-soon-card\">\n    <div class=\"card-content\">\n      <div class=\"icon-container\">\n        <i :class=\"icon\"></i>\n      </div>\n\n      <h2>{{ title }}</h2>\n      <p>{{ description }}</p>\n\n      <div class=\"features-preview\">\n        <h3>Coming Features:</h3>\n        <ul>\n          <li v-for=\"feature in features\" :key=\"feature\">\n            <i class=\"fas fa-check-circle\"></i>\n            {{ feature }}\n          </li>\n        </ul>\n      </div>\n\n      <div class=\"progress-indicator\">\n        <div class=\"progress-bar\">\n          <div class=\"progress-fill\" :style=\"{ width: progress + '%' }\"></div>\n        </div>\n        <span class=\"progress-text\">{{ progress }}% Complete</span>\n      </div>\n\n      <div class=\"cta-section\">\n        <p class=\"cta-text\">Want to be notified when this feature launches?</p>\n        <button class=\"btn btn-primary\" @click=\"subscribeToUpdates\">\n          <i class=\"fas fa-bell\"></i>\n          Notify Me\n        </button>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ComingSoonCard',\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    description: {\n      type: String,\n      required: true\n    },\n    icon: {\n      type: String,\n      default: 'fas fa-rocket'\n    },\n    progress: {\n      type: Number,\n      default: 75\n    }\n  },\n  computed: {\n    features() {\n      // Different features based on the title\n      const featureMap = {\n        'Meal Plans': [\n          'AI-generated daily meal plans',\n          'Weekly meal planning',\n          'Personalized recipe suggestions',\n          'Automatic shopping lists',\n          'Nutritional balance optimization'\n        ],\n        'Nutrition Analytics': [\n          'Daily nutrition tracking',\n          'Macro breakdown charts',\n          'Progress towards goals',\n          'Trend analysis',\n          'AI-powered insights'\n        ]\n      }\n\n      return featureMap[this.title] || [\n        'Personalized recommendations',\n        'Smart AI integration',\n        'Beautiful visualizations',\n        'Easy-to-use interface'\n      ]\n    }\n  },\n  methods: {\n    subscribeToUpdates() {\n      // In a real app, this would open a modal or send an API request\n      alert('Thanks for your interest! We\\'ll notify you when this feature is ready.')\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.coming-soon-card {\n  background: $white;\n  border-radius: $border-radius-lg;\n  box-shadow: $shadow;\n  overflow: hidden;\n  max-width: 600px;\n  margin: 0 auto;\n}\n\n.card-content {\n  padding: $spacing-8;\n  text-align: center;\n}\n\n.icon-container {\n  width: 80px;\n  height: 80px;\n  background: linear-gradient(135deg, $primary, lighten($primary, 20%));\n  border-radius: 50%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin: 0 auto $spacing-6;\n  box-shadow: $shadow-lg;\n\n  i {\n    font-size: 2rem;\n    color: $white;\n  }\n}\n\nh2 {\n  margin: 0 0 $spacing-3 0;\n  color: $primary-dark;\n  font-size: 2rem;\n  font-weight: 600;\n}\n\np {\n  color: $gray;\n  font-size: 1.1rem;\n  line-height: 1.6;\n  margin: 0 0 $spacing-6 0;\n}\n\n.features-preview {\n  text-align: left;\n  margin-bottom: $spacing-6;\n  padding: $spacing-4;\n  background: rgba($primary, 0.05);\n  border-radius: $border-radius;\n  border-left: 4px solid $primary;\n\n  h3 {\n    margin: 0 0 $spacing-3 0;\n    color: $primary-dark;\n    font-size: 1.1rem;\n    font-weight: 600;\n  }\n\n  ul {\n    list-style: none;\n    padding: 0;\n    margin: 0;\n  }\n\n  li {\n    display: flex;\n    align-items: center;\n    gap: $spacing-2;\n    padding: $spacing-1 0;\n    color: $primary-dark;\n\n    i {\n      color: $success;\n      font-size: 0.9rem;\n    }\n  }\n}\n\n.progress-indicator {\n  margin-bottom: $spacing-6;\n\n  .progress-bar {\n    width: 100%;\n    height: 8px;\n    background: $gray-lighter;\n    border-radius: 4px;\n    overflow: hidden;\n    margin-bottom: $spacing-2;\n  }\n\n  .progress-fill {\n    height: 100%;\n    background: linear-gradient(90deg, $primary, lighten($primary, 15%));\n    border-radius: 4px;\n    transition: width 0.5s ease;\n  }\n\n  .progress-text {\n    font-size: 0.9rem;\n    color: $gray;\n    font-weight: 500;\n  }\n}\n\n.cta-section {\n  padding-top: $spacing-4;\n  border-top: 1px solid $gray-lighter;\n\n  .cta-text {\n    margin: 0 0 $spacing-4 0;\n    color: $primary-dark;\n    font-weight: 500;\n  }\n\n  .btn {\n    display: inline-flex;\n    align-items: center;\n    gap: $spacing-2;\n\n    i {\n      font-size: 0.9rem;\n    }\n  }\n}\n\n// Animation for the card\n.coming-soon-card {\n  animation: fadeInUp 0.6s ease-out;\n}\n\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    transform: translateY(30px);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0);\n  }\n}\n</style>","import { render } from \"./ComingSoonCard.vue?vue&type=template&id=2b85b24d&scoped=true\"\nimport script from \"./ComingSoonCard.vue?vue&type=script&lang=js\"\nexport * from \"./ComingSoonCard.vue?vue&type=script&lang=js\"\n\nimport \"./ComingSoonCard.vue?vue&type=style&index=0&id=2b85b24d&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-2b85b24d\"]])\n\nexport default __exports__","<!-- src/components/meal-planning/RecipeDetailModal.vue -->\n<template>\n  <div class=\"recipe-modal-overlay\" @click.self=\"$emit('close')\">\n    <div class=\"recipe-modal\" @click.stop>\n      <div class=\"modal-header\">\n        <div class=\"header-content\">\n          <h2>{{ recipe.title }}</h2>\n          <div class=\"recipe-meta\">\n            <span class=\"badge cuisine\">{{ formatCuisine(recipe.cuisine) }}</span>\n            <span class=\"badge meal-type\">{{ formatMealType(recipe.meal_type) }}</span>\n            <span class=\"badge difficulty\" :class=\"getDifficultyClass(recipe.difficulty_level)\">\n              {{ formatDifficulty(recipe.difficulty_level) }}\n            </span>\n          </div>\n        </div>\n        <button class=\"close-btn\" @click=\"$emit('close')\">\n          <i class=\"fas fa-times\"></i>\n        </button>\n      </div>\n      \n      <div class=\"modal-body\">\n        <!-- Recipe Image and Quick Stats -->\n        <div class=\"recipe-hero\">\n          <div class=\"image-wrapper\" v-if=\"recipe.image_url\">\n            <img :src=\"recipe.image_url\" :alt=\"recipe.title\" @error=\"imageError\" />\n            <div class=\"image-overlay\">\n              <div class=\"recipe-stats\">\n                <div class=\"stat\">\n                  <i class=\"fas fa-clock\"></i>\n                  <span>{{ formatTime(recipe.total_time_minutes) }}</span>\n                </div>\n                <div class=\"stat\">\n                  <i class=\"fas fa-users\"></i>\n                  <span>{{ recipe.servings }} {{ recipe.servings === 1 ? 'serving' : 'servings' }}</span>\n                </div>\n                <div class=\"stat\">\n                  <i class=\"fas fa-fire\"></i>\n                  <span>{{ Math.round(recipe.calories_per_serving) || 'N/A' }} cal</span>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Nutrition Information -->\n          <div class=\"nutrition-panel\">\n            <h3>Nutrition per Serving</h3>\n            <div class=\"nutrition-grid\">\n              <div class=\"nutrition-item calories\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.calories_per_serving) || 'N/A' }}</div>\n                <div class=\"nutrition-label\">Calories</div>\n              </div>\n              <div class=\"nutrition-item protein\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.protein_per_serving) || 0 }}g</div>\n                <div class=\"nutrition-label\">Protein</div>\n              </div>\n              <div class=\"nutrition-item carbs\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.carbs_per_serving) || 0 }}g</div>\n                <div class=\"nutrition-label\">Carbs</div>\n              </div>\n              <div class=\"nutrition-item fat\">\n                <div class=\"nutrition-value\">{{ Math.round(recipe.fat_per_serving) || 0 }}g</div>\n                <div class=\"nutrition-label\">Fat</div>\n              </div>\n            </div>\n            \n            <!-- Dietary Tags -->\n            <div v-if=\"recipe.dietary_tags && recipe.dietary_tags.length\" class=\"dietary-tags\">\n              <span v-for=\"tag in recipe.dietary_tags\" :key=\"tag\" class=\"dietary-tag\">\n                {{ formatTag(tag) }}\n              </span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Recipe Summary -->\n        <div v-if=\"recipe.summary\" class=\"summary-section\">\n          <h3>About This Recipe</h3>\n          <p class=\"summary\" v-html=\"cleanSummary(recipe.summary)\"></p>\n        </div>\n\n        <!-- Ingredients Section -->\n        <div class=\"ingredients-section\" v-if=\"recipe.ingredients_data && recipe.ingredients_data.length\">\n          <h3>\n            <i class=\"fas fa-list-ul\"></i>\n            Ingredients\n          </h3>\n          <div class=\"ingredients-grid\">\n            <div \n              v-for=\"(ing, idx) in recipe.ingredients_data\" \n              :key=\"idx\"\n              class=\"ingredient-item\"\n            >\n              <span class=\"ingredient-text\">{{ formatIngredient(ing) }}</span>\n            </div>\n          </div>\n        </div>\n\n        <!-- Instructions Section -->\n        <div class=\"instructions-section\" v-if=\"normalizedInstructions.length\">\n          <h3>\n            <i class=\"fas fa-clipboard-list\"></i>\n            Instructions\n          </h3>\n          <div class=\"instructions-list\">\n            <div \n              v-for=\"(step, idx) in normalizedInstructions\" \n              :key=\"idx\"\n              class=\"instruction-step\"\n            >\n              <div class=\"step-number\">{{ idx + 1 }}</div>\n              <div class=\"step-content\">{{ step.step || step.description || step }}</div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Source Information -->\n        <div v-if=\"recipe.source_url || recipe.source\" class=\"source-section\">\n          <div class=\"source-info\">\n            <span class=\"source-label\">Source:</span>\n            <a v-if=\"recipe.source_url\" :href=\"recipe.source_url\" target=\"_blank\" class=\"source-link\">\n              View Original Recipe <i class=\"fas fa-external-link-alt\"></i>\n            </a>\n            <span v-else class=\"source-text\">{{ recipe.source || 'Recipe Database' }}</span>\n          </div>\n        </div>\n      </div>\n      \n      <div class=\"modal-footer\">\n        <div class=\"footer-actions\">\n          <button class=\"btn btn-outline\" @click=\"$emit('close')\">\n            <i class=\"fas fa-times\"></i>\n            Close\n          </button>\n          <button class=\"btn btn-primary\" @click=\"saveRecipe\" :disabled=\"saving\">\n            <i v-if=\"saving\" class=\"fas fa-spinner fa-spin\"></i>\n            <i v-else class=\"fas fa-heart\"></i>\n            {{ saving ? 'Saving...' : 'Save Recipe' }}\n          </button>\n          <button class=\"btn btn-success\" @click=\"addToMealPlan\">\n            <i class=\"fas fa-plus\"></i>\n            Add to Meal Plan\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'RecipeDetailModal',\n  props: {\n    recipe: {\n      type: Object,\n      required: true\n    }\n  },\n  data() {\n    return {\n      saving: false\n    }\n  },\n  computed: {\n    normalizedInstructions() {\n      const instr = this.recipe.instructions || []\n      \n      // Handle empty instructions\n      if (!instr || instr.length === 0) {\n        return []\n      }\n      \n      // If it's already an array of objects with step property, use it as is\n      if (instr.length && typeof instr[0] === 'object' && instr[0].step) {\n        return instr\n      }\n      \n      // If it's an array of strings, convert to objects\n      if (instr.length && typeof instr[0] === 'string') {\n        return instr.map((stepText, i) => ({\n          number: i + 1,\n          step: stepText,\n          description: stepText\n        }))\n      }\n      \n      // If it's an array of objects without step property, try to extract the step text\n      if (instr.length && typeof instr[0] === 'object') {\n        return instr.map((stepObj, i) => ({\n          number: stepObj.number || i + 1,\n          step: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`,\n          description: stepObj.step || stepObj.description || stepObj.instruction || `Step ${i + 1}`\n        }))\n      }\n      \n      return []\n    }\n  },\n  methods: {\n    formatIngredient(ing) {\n      if (typeof ing === 'string') return ing\n      \n      // Handle different ingredient formats\n      if (ing.original) return ing.original\n      \n      const amount = ing.amount || ing.quantity || ''\n      const unit = ing.unit || ''\n      const name = ing.name || ing.ingredient || ''\n      \n      if (amount && unit) {\n        return `${amount} ${unit} ${name}`.trim()\n      } else if (amount) {\n        return `${amount} ${name}`.trim()\n      }\n      \n      return name || 'Ingredient'\n    },\n\n    formatTime(minutes) {\n      if (!minutes) return 'N/A'\n      if (minutes < 60) return `${minutes}min`\n      const hours = Math.floor(minutes / 60)\n      const remainingMins = minutes % 60\n      return remainingMins > 0 ? `${hours}h ${remainingMins}min` : `${hours}h`\n    },\n\n    formatCuisine(cuisine) {\n      if (!cuisine) return ''\n      return cuisine.charAt(0).toUpperCase() + cuisine.slice(1)\n    },\n\n    formatMealType(mealType) {\n      const formats = {\n        'breakfast': 'Breakfast',\n        'lunch': 'Lunch',\n        'dinner': 'Dinner',\n        'snack': 'Snack',\n        'dessert': 'Dessert'\n      }\n      return formats[mealType] || mealType\n    },\n\n    formatDifficulty(difficulty) {\n      const formats = {\n        'easy': 'Easy',\n        'medium': 'Medium',\n        'hard': 'Hard'\n      }\n      return formats[difficulty] || 'Medium'\n    },\n\n    getDifficultyClass(difficulty) {\n      return `difficulty-${difficulty || 'medium'}`\n    },\n\n    formatTag(tag) {\n      return tag.replace(/_/g, ' ').replace(/\\b\\w/g, l => l.toUpperCase())\n    },\n\n    cleanSummary(summary) {\n      if (!summary) return ''\n      // Remove HTML tags but keep line breaks\n      return summary.replace(/<[^>]*>/g, '').replace(/\\n/g, '<br>')\n    },\n\n    imageError(event) {\n      event.target.style.display = 'none'\n    },\n\n    async saveRecipe() {\n      this.saving = true\n      try {\n        console.log('Saving recipe:', this.recipe)\n        \n        // Import the API service\n        const { mealPlanningApi } = await import('@/services/mealPlanningApi')\n        \n        let response\n        \n        // Check if this is a recipe from meal plan (has spoonacular_id but no recipe.id in our DB)\n        if (this.recipe.spoonacular_id && !this.recipe.created_by) {\n          // Save from meal plan data\n          response = await mealPlanningApi.saveRecipeFromMealPlan(this.recipe)\n        } else if (this.recipe.id) {\n          // Save existing recipe to user's collection\n          response = await mealPlanningApi.saveRecipeToMyCollection(this.recipe.id)\n        } else {\n          throw new Error('Invalid recipe data for saving')\n        }\n        \n        this.$toast?.success?.(response.data.message || 'Recipe saved to your collection!') ||\n        alert(response.data.message || 'Recipe saved to your collection!')\n        \n        // Emit event to refresh recipes if needed\n        this.$emit('recipe-saved', response.data.recipe)\n        \n      } catch (error) {\n        console.error('Error saving recipe:', error)\n        const errorMessage = error.response?.data?.message || error.message || 'Failed to save recipe'\n        this.$toast?.error?.(errorMessage) ||\n        alert(errorMessage)\n      } finally {\n        this.saving = false\n      }\n    },\n\n    addToMealPlan() {\n      console.log('Adding recipe to meal plan:', this.recipe)\n      this.$toast?.success?.('Recipe added to meal plan!') ||\n      alert('Recipe added to meal plan!')\n      this.$emit('add-to-meal-plan', this.recipe)\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/assets/styles/_variables.scss';\n@import '@/assets/styles/_utilities.scss';\n\n.recipe-modal-overlay {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background: rgba(0, 0, 0, 0.7);\n  display: flex;\n  justify-content: center;\n  align-items: flex-start;\n  z-index: 1000;\n  padding: 20px;\n  overflow-y: auto;\n  backdrop-filter: blur(5px);\n}\n\n.recipe-modal {\n  background: $white;\n  border-radius: 20px;\n  max-width: 900px;\n  width: 100%;\n  max-height: 95vh;\n  overflow-y: auto;\n  box-shadow: $shadow-lg;\n  margin: 20px 0;\n  animation: modalSlideIn 0.3s ease-out;\n}\n\n@keyframes modalSlideIn {\n  from {\n    opacity: 0;\n    transform: translateY(-20px) scale(0.95);\n  }\n  to {\n    opacity: 1;\n    transform: translateY(0) scale(1);\n  }\n}\n\n.modal-header {\n  display: flex;\n  justify-content: space-between;\n  align-items: flex-start;\n  padding: 32px 32px 24px;\n  border-bottom: 1px solid $gray-lighter;\n  background: linear-gradient(135deg, $primary-light 0%, $primary 100%);\n  color: $white;\n  border-radius: 20px 20px 0 0;\n\n  .header-content {\n    flex: 1;\n\n    h2 {\n      margin: 0 0 12px 0;\n      font-size: 2rem;\n      font-weight: 700;\n      line-height: 1.2;\n    }\n  }\n\n  .recipe-meta {\n    display: flex;\n    flex-wrap: wrap;\n    gap: 8px;\n  }\n\n  .badge {\n    padding: 4px 12px;\n    border-radius: 16px;\n    font-size: 0.8rem;\n    font-weight: 600;\n    background: rgba($white, 0.2);\n    color: $white;\n\n    &.difficulty-easy { background: rgba($success, 0.8); }\n    &.difficulty-medium { background: rgba($warning, 0.8); }\n    &.difficulty-hard { background: rgba($error, 0.8); }\n  }\n\n  .close-btn {\n    background: rgba($white, 0.2);\n    border: none;\n    font-size: 1.5rem;\n    cursor: pointer;\n    padding: 12px;\n    border-radius: 50%;\n    color: $white;\n    transition: all 0.2s ease;\n    margin-left: 16px;\n\n    &:hover {\n      background: rgba($white, 0.3);\n      transform: scale(1.1);\n    }\n  }\n}\n\n.modal-body {\n  padding: 0;\n}\n\n.recipe-hero {\n  display: grid;\n  grid-template-columns: 1fr 300px;\n  gap: 0;\n  background: $white;\n\n  @include responsive('md') {\n    grid-template-columns: 1fr;\n  }\n}\n\n.image-wrapper {\n  position: relative;\n  height: 300px;\n  overflow: hidden;\n\n  img {\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n  }\n\n  .image-overlay {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    background: linear-gradient(transparent, rgba(0,0,0,0.8));\n    padding: 20px;\n    color: $white;\n  }\n\n  .recipe-stats {\n    display: flex;\n    justify-content: space-around;\n    gap: 16px;\n  }\n\n  .stat {\n    display: flex;\n    align-items: center;\n    gap: 6px;\n    font-size: 0.9rem;\n    font-weight: 600;\n\n    i {\n      font-size: 1rem;\n      color: $primary-light;\n    }\n  }\n}\n\n.nutrition-panel {\n  padding: 24px;\n  background: $gray-lighter;\n  border-left: 1px solid $gray-lighter;\n\n  @include responsive('md') {\n    border-left: none;\n    border-top: 1px solid $gray-lighter;\n  }\n\n  h3 {\n    margin: 0 0 16px 0;\n    font-size: 1.2rem;\n    color: $primary-dark;\n  }\n}\n\n.nutrition-grid {\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  gap: 16px;\n  margin-bottom: 20px;\n}\n\n.nutrition-item {\n  text-align: center;\n  padding: 12px;\n  background: $white;\n  border-radius: 12px;\n  box-shadow: $shadow-sm;\n\n  .nutrition-value {\n    font-size: 1.4rem;\n    font-weight: 700;\n    margin-bottom: 4px;\n  }\n\n  .nutrition-label {\n    font-size: 0.8rem;\n    color: $gray;\n    text-transform: uppercase;\n    font-weight: 600;\n  }\n\n  &.calories .nutrition-value { color: #e74c3c; }\n  &.protein .nutrition-value { color: #3498db; }\n  &.carbs .nutrition-value { color: #f39c12; }\n  &.fat .nutrition-value { color: #9b59b6; }\n}\n\n.dietary-tags {\n  display: flex;\n  flex-wrap: wrap;\n  gap: 6px;\n\n  .dietary-tag {\n    padding: 4px 8px;\n    background: $primary;\n    color: $white;\n    border-radius: 12px;\n    font-size: 0.75rem;\n    font-weight: 600;\n  }\n}\n\n.summary-section,\n.ingredients-section,\n.instructions-section,\n.source-section {\n  padding: 24px 32px;\n  border-bottom: 1px solid $gray-lighter;\n\n  h3 {\n    margin: 0 0 16px 0;\n    font-size: 1.3rem;\n    color: $primary-dark;\n    display: flex;\n    align-items: center;\n    gap: 8px;\n\n    i {\n      color: $primary;\n    }\n  }\n}\n\n.summary {\n  font-size: 1rem;\n  line-height: 1.6;\n  color: $gray-dark;\n  margin: 0;\n}\n\n.ingredients-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));\n  gap: 12px;\n}\n\n.ingredient-item {\n  padding: 12px 16px;\n  background: $gray-lighter;\n  border-radius: 8px;\n  border-left: 3px solid $primary;\n\n  .ingredient-text {\n    font-weight: 500;\n    color: $gray-dark;\n  }\n}\n\n.instructions-list {\n  display: flex;\n  flex-direction: column;\n  gap: 16px;\n}\n\n.instruction-step {\n  display: flex;\n  gap: 16px;\n  align-items: flex-start;\n\n  .step-number {\n    min-width: 32px;\n    height: 32px;\n    background: $primary;\n    color: $white;\n    border-radius: 50%;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-weight: 700;\n    font-size: 0.9rem;\n  }\n\n  .step-content {\n    flex: 1;\n    font-size: 1rem;\n    line-height: 1.6;\n    color: $gray-dark;\n    padding-top: 4px;\n  }\n}\n\n.source-section {\n  border-bottom: none;\n\n  .source-info {\n    display: flex;\n    align-items: center;\n    gap: 12px;\n    font-size: 0.9rem;\n\n    .source-label {\n      font-weight: 600;\n      color: $gray;\n    }\n\n    .source-link {\n      color: $primary;\n      text-decoration: none;\n      font-weight: 500;\n\n      &:hover {\n        text-decoration: underline;\n      }\n\n      i {\n        margin-left: 4px;\n        font-size: 0.8rem;\n      }\n    }\n  }\n}\n\n.modal-footer {\n  padding: 24px 32px;\n  background: $gray-lighter;\n  border-radius: 0 0 20px 20px;\n}\n\n.footer-actions {\n  display: flex;\n  justify-content: flex-end;\n  gap: 12px;\n  flex-wrap: wrap;\n\n  @include responsive('sm') {\n    justify-content: center;\n  }\n}\n\n.btn {\n  padding: 12px 24px;\n  border-radius: 8px;\n  font-weight: 600;\n  text-decoration: none;\n  display: inline-flex;\n  align-items: center;\n  gap: 8px;\n  transition: all 0.2s ease;\n  cursor: pointer;\n  border: 2px solid;\n  font-size: 0.9rem;\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n  }\n\n  &.btn-outline {\n    background: transparent;\n    color: $gray-dark;\n    border-color: $gray-lighter;\n\n    &:hover:not(:disabled) {\n      background: $gray-lighter;\n      border-color: $gray;\n    }\n  }\n\n  &.btn-primary {\n    background: $primary;\n    color: $white;\n    border-color: $primary;\n\n    &:hover:not(:disabled) {\n      background: $primary-dark;\n      border-color: $primary-dark;\n      transform: translateY(-1px);\n    }\n  }\n\n  &.btn-success {\n    background: $success;\n    color: $white;\n    border-color: $success;\n\n    &:hover:not(:disabled) {\n      background: darken($success, 10%);\n      border-color: darken($success, 10%);\n      transform: translateY(-1px);\n    }\n  }\n}\n\n// Mobile responsive adjustments\n@include responsive('sm') {\n  .recipe-modal {\n    margin: 10px;\n    max-height: 98vh;\n  }\n\n  .modal-header {\n    padding: 20px;\n\n    .header-content h2 {\n      font-size: 1.5rem;\n    }\n  }\n\n  .modal-body {\n    .summary-section,\n    .ingredients-section,\n    .instructions-section,\n    .source-section {\n      padding: 20px;\n    }\n  }\n\n  .nutrition-panel {\n    padding: 20px;\n  }\n\n  .modal-footer {\n    padding: 20px;\n  }\n}\n</style>\n","import { render } from \"./RecipeDetailModal.vue?vue&type=template&id=bc1850be&scoped=true\"\nimport script from \"./RecipeDetailModal.vue?vue&type=script&lang=js\"\nexport * from \"./RecipeDetailModal.vue?vue&type=script&lang=js\"\n\nimport \"./RecipeDetailModal.vue?vue&type=style&index=0&id=bc1850be&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-bc1850be\"]])\n\nexport default __exports__","import { render } from \"./MealPlanningDashboard.vue?vue&type=template&id=dc6f0ae2&scoped=true\"\nimport script from \"./MealPlanningDashboard.vue?vue&type=script&lang=js\"\nexport * from \"./MealPlanningDashboard.vue?vue&type=script&lang=js\"\n\nimport \"./MealPlanningDashboard.vue?vue&type=style&index=0&id=dc6f0ae2&lang=scss&scoped=true\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-dc6f0ae2\"]])\n\nexport default __exports__"],"names":["API_BASE_URL","process","VUE_APP_API_URL","replace","api","axios","create","baseURL","timeout","headers","getAccessToken","store","state","auth","user","access","AuthService","getCurrentUser","interceptors","request","use","config","token","error","console","Promise","reject","response","async","originalRequest","status","_retry","refreshToken","loggedIn","dispatch","refreshError","logout","commit","setTimeout","window","location","href","statusText","data","message","mealPlanningApi","getRecipes","params","cleanParams","page","page_size","search","trim","cuisine","meal_type","dietary_preferences","max_calories","parseInt","get","getRecipe","id","searchRecipes","searchData","post","rateRecipe","recipeId","rating","review","saveRecipeToMyCollection","saveRecipeFromMealPlan","recipeData","removeRecipeFromMyCollection","delete","getMyRecipes","my_recipes","generateRecipe","recipeParams","warn","Error","getIngredientSubstitutions","ingredientName","options","ingredient_name","scaleRecipe","newServings","servings","getIngredients","getIngredient","getNutritionProfile","calorie_target","protein_target","carb_target","fat_target","allergies_intolerances","cuisine_preferences","updateNutritionProfile","profileData","patch","put","putError","calculateNutritionTargets","getMealPlans","ordering","plan_type","undefined","is_active","start_date","end_date","getMealPlan","generateMealPlan","planData","deleteMealPlan","planId","regenerateMeal","day","mealType","log","getMealAlternatives","count","swapMeal","newRecipe","new_recipe","analyzeMealPlan","overall_score","nutritional_adequacy","calories","percentage_of_target","protein","carbs","fat","meal_distribution","breakfast_percentage","lunch_percentage","dinner_percentage","balance_rating","variety_analysis","cuisine_diversity","ingredient_variety","cooking_method_diversity","recommendations","health_highlights","areas_for_improvement","generateShoppingList","exclude_items","exclude_ingredients","group_by_category","getNutritionLogs","getNutritionLog","logNutrition","nutritionData","analyzeNutrition","analysisData","getNutritionAnalytics","getDashboardData","days","getNutritionInsights","getMealRecommendations","calculateNutrition","ingredients","validateDietaryRestrictions","dietaryPreferences","allergies","is_compliant","violations","warnings","getDietaryPreferences","getAllergens","getCuisines","connectSpoonacular","getSpoonacularStatus","getSpoonacularMealPlan","startDate","addToSpoonacularMealPlan","mealData","getSpoonacularShoppingList","generateSpoonacularShoppingList","endDate","class","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_Fragment","_renderList","$data","tabs","tab","key","onClick","$event","activeTab","_normalizeClass","icon","_toDisplayString","name","_hoisted_5","_hoisted_6","_createVNode","_component_recipe_browser","recipes","loading","recipesLoading","onRecipeSelected","$options","selectRecipe","onRefreshRecipes","loadRecipes","onRemoveRecipe","removeRecipe","_hoisted_7","_component_nutrition_profile_setup","profile","nutritionProfile","profileLoading","onProfileUpdated","_hoisted_8","_component_meal_plan_manager","mealPlansLoading","onMealPlanGenerated","_hoisted_9","_component_spoonacular_integration","_hoisted_10","_component_coming_soon_card","title","description","showRecipeModal","_createBlock","_component_recipe_detail_modal","recipe","selectedRecipe","onClose","closeRecipeModal","onRecipeSaved","_cache","_ctx","$emit","disabled","$props","searchQuery","type","placeholder","onInput","args","debouncedSearch","selectedCuisine","onChange","applyFilters","value","cuisines","formatCuisine","selectedMealType","filteredRecipes","length","_hoisted_11","_hoisted_12","src","image_url","alt","onError","handleImageError","_hoisted_15","dietary_tags","slice","tag","formatTag","_withModifiers","_hoisted_18","innerHTML","truncateSummary","summary","_hoisted_20","_hoisted_21","total_time_minutes","_hoisted_22","calories_per_serving","Math","round","_hoisted_23","_hoisted_24","_hoisted_25","_hoisted_26","protein_per_serving","_hoisted_27","_hoisted_28","carbs_per_serving","_hoisted_29","_hoisted_30","fat_per_serving","debounce","func","wait","later","clearTimeout","props","Array","default","Boolean","emits","computed","Set","this","map","r","filter","watch","immediate","handler","newRecipes","created","methods","filtered","query","toLowerCase","includes","charAt","toUpperCase","l","clean","substring","event","target","__exports__","validationErrors","_hoisted_4","onSubmit","saveProfile","for","formData","min","max","required","number","dietaryConflicts","_hoisted_13","conflict","_hoisted_14","availableDietaryPreferences","preference","isPreferenceDisabled","checkDietaryConflicts","label","_hoisted_16","_hoisted_17","availableAllergies","allergy","availableCuisines","dislikedIngredientsInput","onBlur","updateDislikedIngredients","disliked_ingredients","ingredient","removeDislikedIngredient","meals_per_day","timezone","_hoisted_31","saving","hasValidationErrors","_hoisted_33","_hoisted_34","calculateTargets","Object","conflicts","newProfile","join","validateForm","$toast","success","alert","errorMessage","detail","push","totalCaloriesFromMacros","calorieDifference","abs","selected","i","j","pref1","find","p","pref2","preferenceValue","some","selectedPref","split","item","baseCalories","isKeto","isLowCarb","isHighProtein","proteinRatio","carbRatio","fatRatio","generationStatus","steps","step","index","completed","active","generateForm","today","target_calories","showAdvancedOptions","max_cook_time","generating","_hoisted_19","mealPlans","plan","viewMealPlan","formatPlanType","formatDateRange","generation_version","avg_daily_calories","_hoisted_32","getMealCount","_hoisted_35","nutritional_balance_score","toFixed","daily_averages","_hoisted_36","_hoisted_37","_hoisted_38","_hoisted_39","_hoisted_40","_hoisted_41","_hoisted_42","_hoisted_43","variety_score","preference_match_score","_hoisted_44","_hoisted_45","_hoisted_46","style","_normalizeStyle","width","_hoisted_47","_hoisted_48","_hoisted_49","_hoisted_50","_hoisted_51","regeneratePlan","selectedPlan","_component_meal_plan_detail_modal","onRegenerateMeal","onGetAlternatives","onAnalyzePlan","analyzeMealPlanFromModal","onDeletePlan","showAnalysisModal","currentAnalysis","_component_nutritional_analysis_modal","analysis","selectedPlanForAnalysis","closeAnalysisModal","mealPlan","ai_model_used","total_calories","getTotalMeals","days_count","meal_plan_data","meals","dayMeals","date","formatDate","meal","getMealTitle","getMealTypeClass","formatMealType","getMealTime","prep_time","cook_time","total_time","_hoisted_52","_hoisted_53","_hoisted_54","_hoisted_55","_hoisted_56","_hoisted_57","_hoisted_58","_hoisted_59","_hoisted_60","_hoisted_61","getNutritionValue","_hoisted_62","_hoisted_63","_hoisted_64","_hoisted_65","_hoisted_66","_hoisted_67","_hoisted_68","_hoisted_69","idx","_hoisted_70","quantity","_hoisted_71","unit","_hoisted_72","normalizedInstructions","_hoisted_73","_hoisted_74","instruction","_hoisted_75","_hoisted_76","target_protein","target_carbs","target_fat","_hoisted_77","_hoisted_78","_hoisted_79","_hoisted_80","_hoisted_81","_hoisted_82","_hoisted_83","_hoisted_84","_hoisted_85","_hoisted_86","_hoisted_87","saveRecipeToCollection","savingRecipe","_hoisted_89","_hoisted_90","inferMealTypeFromTime","Date","getAlternatives","viewRecipeDetails","_hoisted_94","_hoisted_95","analyzePlan","deletePlan","instr","instructions","stepObj","stepText","mounted","mealDates","keys","firstDate","firstDayMeals","startDateObj","endDateObj","isNaN","getTime","start","toLocaleDateString","end","dateStr","mealTypeLabels","weekday","month","cleanType","String","typeMap","hour","getHours","time","scheduled_time","defaultTimes","defaultTime","total","values","forEach","isArray","nutrient","estimated_nutrition","nutrition","nutrientMappings","mapping","inferredMealType","cleanMealType","spoonacular_id","prep_time_minutes","cook_time_minutes","difficulty_level","ingredients_data","fiber_per_serving","allergens","image","source_url","source_type","viewBox","cx","cy","getScoreDescription","getAdequacyClass","formatNutrientName","formatStatus","getRatingClass","formatRating","getVarietyClass","highlight","recommendation","improvement","downloadReport","score","names","statuses","classes","variety","report","rec","blob","Blob","url","URL","createObjectURL","link","document","createElement","download","body","appendChild","click","removeChild","revokeObjectURL","components","MealPlanDetailModal","NutritionalAnalysisModal","toISOString","loadMealPlans","mealPlansData","results","showError","totalMeals","showGenerationStatus","updateGenerationStep","unshift","showSuccess","stepType","forceComplete","stepIndex","confirmed","confirm","planIndex","findIndex","planType","isConnected","connecting","connectToSpoonacular","spoonacularUsername","selectedWeekStart","loadMealPlan","refreshMealPlan","mealPlanLoading","getDayCalories","items","getMealSlotClass","slot","getMealSlotName","imageType","getMealImage","openAddMealModal","refreshShoppingList","shoppingListLoading","shoppingList","aisles","aisle","checked","toggleShoppingItem","measures","formatItemAmount","showAddMealModal","closeAddMealModal","addMealToSpoonacular","newMeal","addingMeal","successMessage","getCurrentWeekStart","selectedDay","checkSpoonacularStatus","all","loadShoppingList","connected","spoonacular_username","spoonacular_password","details","setDate","getDate","formatDateForAPI","position","startOfWeek","getDay","nutritionSummary","nutrients","calorieNutrient","n","amount","slots","mealValue","us","unitShort","timestamp","features","feature","progress","subscribeToUpdates","Number","featureMap","getDifficultyClass","formatDifficulty","imageError","formatTime","cleanSummary","ing","formatIngredient","source","saveRecipe","addToMealPlan","original","minutes","hours","floor","remainingMins","formats","difficulty","display","created_by","RecipeBrowser","NutritionProfileSetup","MealPlanManager","SpoonacularIntegration","ComingSoonCard","RecipeDetailModal","currentUser","$store","getters","loadInitialData","$router","loadNutritionProfile","_t","now","updatedProfile","$nextTick","$forceUpdate","savedRecipe","render"],"sourceRoot":""}